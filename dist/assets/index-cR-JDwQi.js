function $2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j2={exports:{}},Df={},U2={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),pN=Symbol.for("react.portal"),mN=Symbol.for("react.fragment"),gN=Symbol.for("react.strict_mode"),vN=Symbol.for("react.profiler"),yN=Symbol.for("react.provider"),_N=Symbol.for("react.context"),wN=Symbol.for("react.forward_ref"),EN=Symbol.for("react.suspense"),TN=Symbol.for("react.memo"),SN=Symbol.for("react.lazy"),Dw=Symbol.iterator;function IN(t){return t===null||typeof t!="object"?null:(t=Dw&&t[Dw]||t["@@iterator"],typeof t=="function"?t:null)}var B2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z2=Object.assign,W2={};function Xa(t,e,n){this.props=t,this.context=e,this.refs=W2,this.updater=n||B2}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H2(){}H2.prototype=Xa.prototype;function e0(t,e,n){this.props=t,this.context=e,this.refs=W2,this.updater=n||B2}var t0=e0.prototype=new H2;t0.constructor=e0;z2(t0,Xa.prototype);t0.isPureReactComponent=!0;var Nw=Array.isArray,K2=Object.prototype.hasOwnProperty,n0={current:null},G2={key:!0,ref:!0,__self:!0,__source:!0};function q2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)K2.call(e,r)&&!G2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fc,type:t,key:s,ref:o,props:i,_owner:n0.current}}function PN(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r0(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function CN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mw=/\/+/g;function dm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CN(""+t.key):e.toString(36)}function Qh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fc:case pN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+dm(o,0):r,Nw(i)?(n="",t!=null&&(n=t.replace(Mw,"$&/")+"/"),Qh(i,e,n,"",function(c){return c})):i!=null&&(r0(i)&&(i=PN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Nw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+dm(s,a);o+=Qh(s,e,n,l,i)}else if(l=IN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+dm(s,a++),o+=Qh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ph(t,e,n){if(t==null)return t;var r=[],i=0;return Qh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function AN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},Yh={transition:null},RN={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Yh,ReactCurrentOwner:n0};function Q2(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:ph,forEach:function(t,e,n){ph(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ph(t,function(){e++}),e},toArray:function(t){return ph(t,function(e){return e})||[]},only:function(t){if(!r0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Xa;ge.Fragment=mN;ge.Profiler=vN;ge.PureComponent=e0;ge.StrictMode=gN;ge.Suspense=EN;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;ge.act=Q2;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=n0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)K2.call(e,l)&&!G2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fc,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:_N,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yN,_context:t},t.Consumer=t};ge.createElement=q2;ge.createFactory=function(t){var e=q2.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:wN,render:t}};ge.isValidElement=r0;ge.lazy=function(t){return{$$typeof:SN,_payload:{_status:-1,_result:t},_init:AN}};ge.memo=function(t,e){return{$$typeof:TN,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Yh.transition;Yh.transition={};try{t()}finally{Yh.transition=e}};ge.unstable_act=Q2;ge.useCallback=function(t,e){return ln.current.useCallback(t,e)};ge.useContext=function(t){return ln.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};ge.useEffect=function(t,e){return ln.current.useEffect(t,e)};ge.useId=function(){return ln.current.useId()};ge.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return ln.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};ge.useRef=function(t){return ln.current.useRef(t)};ge.useState=function(t){return ln.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return ln.current.useTransition()};ge.version="18.3.1";U2.exports=ge;var V=U2.exports;const ve=lt(V),Yg=$2({__proto__:null,default:ve},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN=V,xN=Symbol.for("react.element"),kN=Symbol.for("react.fragment"),ON=Object.prototype.hasOwnProperty,DN=bN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NN={key:!0,ref:!0,__self:!0,__source:!0};function Y2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ON.call(e,r)&&!NN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xN,type:t,key:s,ref:o,props:i,_owner:DN.current}}Df.Fragment=kN;Df.jsx=Y2;Df.jsxs=Y2;j2.exports=Df;var M=j2.exports,X2={exports:{}},Nn={},J2={exports:{}},Z2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,X){var le=q.length;q.push(X);e:for(;0<le;){var Oe=le-1>>>1,Ee=q[Oe];if(0<i(Ee,X))q[Oe]=X,q[le]=Ee,le=Oe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var X=q[0],le=q.pop();if(le!==X){q[0]=le;e:for(var Oe=0,Ee=q.length,xe=Ee>>>1;Oe<xe;){var Ut=2*(Oe+1)-1,rn=q[Ut],vt=Ut+1,bt=q[vt];if(0>i(rn,le))vt<Ee&&0>i(bt,rn)?(q[Oe]=bt,q[vt]=le,Oe=vt):(q[Oe]=rn,q[Ut]=le,Oe=Ut);else if(vt<Ee&&0>i(bt,le))q[Oe]=bt,q[vt]=le,Oe=vt;else break e}}return X}function i(q,X){var le=q.sortIndex-X.sortIndex;return le!==0?le:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,m=!1,w=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=q)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function b(q){if(T=!1,E(q),!w)if(n(l)!==null)w=!0,qe(L);else{var X=n(c);X!==null&&It(b,X.startTime-q)}}function L(q,X){w=!1,T&&(T=!1,_(g),g=-1),m=!0;var le=f;try{for(E(X),d=n(l);d!==null&&(!(d.expirationTime>X)||q&&!x());){var Oe=d.callback;if(typeof Oe=="function"){d.callback=null,f=d.priorityLevel;var Ee=Oe(d.expirationTime<=X);X=t.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===n(l)&&r(l),E(X)}else r(l);d=n(l)}if(d!==null)var xe=!0;else{var Ut=n(c);Ut!==null&&It(b,Ut.startTime-X),xe=!1}return xe}finally{d=null,f=le,m=!1}}var j=!1,C=null,g=-1,I=5,A=-1;function x(){return!(t.unstable_now()-A<I)}function D(){if(C!==null){var q=t.unstable_now();A=q;var X=!0;try{X=C(!0,q)}finally{X?R():(j=!1,C=null)}}else j=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ce=_e.port2;_e.port1.onmessage=D,R=function(){Ce.postMessage(null)}}else R=function(){P(D,0)};function qe(q){C=q,j||(j=!0,R())}function It(q,X){g=P(function(){q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,qe(L))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var le=f;f=X;try{return q()}finally{f=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=f;f=q;try{return X()}finally{f=le}},t.unstable_scheduleCallback=function(q,X,le){var Oe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Oe+le:Oe):le=Oe,q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=le+Ee,q={id:h++,callback:X,priorityLevel:q,startTime:le,expirationTime:Ee,sortIndex:-1},le>Oe?(q.sortIndex=le,e(c,q),n(l)===null&&q===n(c)&&(T?(_(g),g=-1):T=!0,It(b,le-Oe))):(q.sortIndex=Ee,e(l,q),w||m||(w=!0,qe(L))),q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(q){var X=f;return function(){var le=f;f=X;try{return q.apply(this,arguments)}finally{f=le}}}})(Z2);J2.exports=Z2;var MN=J2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN=V,xn=MN;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eC=new Set,Pu={};function Eo(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(Pu[t]=e,t=0;t<e.length;t++)eC.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=Object.prototype.hasOwnProperty,VN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lw={},Vw={};function FN(t){return Xg.call(Vw,t)?!0:Xg.call(Lw,t)?!1:VN.test(t)?Vw[t]=!0:(Lw[t]=!0,!1)}function $N(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jN(t,e,n,r){if(e===null||typeof e>"u"||$N(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var i0=/[\-:]([a-z])/g;function s0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i0,s0);$t[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i0,s0);$t[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i0,s0);$t[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function o0(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jN(e,n,i,r)&&(n=null),r||i===null?FN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=LN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mh=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),tC=Symbol.for("react.provider"),nC=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),u0=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),rC=Symbol.for("react.offscreen"),Fw=Symbol.iterator;function bl(t){return t===null||typeof t!="object"?null:(t=Fw&&t[Fw]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,fm;function Kl(t){if(fm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fm=e&&e[1]||""}return`
`+fm+t}var pm=!1;function mm(t,e){if(!t||pm)return"";pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function UN(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=mm(t.type,!1),t;case 11:return t=mm(t.type.render,!1),t;case 1:return t=mm(t.type,!0),t;default:return""}}function tv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Qo:return"Portal";case Jg:return"Profiler";case a0:return"StrictMode";case Zg:return"Suspense";case ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nC:return(t.displayName||"Context")+".Consumer";case tC:return(t._context.displayName||"Context")+".Provider";case l0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u0:return e=t.displayName||null,e!==null?e:tv(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return tv(t(e))}catch{}}return null}function BN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(e);case 8:return e===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zN(t){var e=iC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gh(t){t._valueTracker||(t._valueTracker=zN(t))}function sC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Td(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nv(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $w(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=rs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oC(t,e){e=e.checked,e!=null&&o0(t,"checked",e,!1)}function rv(t,e){oC(t,e);var n=rs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iv(t,e.type,n):e.hasOwnProperty("defaultValue")&&iv(t,e.type,rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iv(t,e,n){(e!=="number"||Td(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+rs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Gl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:rs(n)}}function aC(t,e){var n=rs(e.value),r=rs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ov(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vh,uC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vh=vh||document.createElement("div"),vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WN=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){WN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function cC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function hC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var HN=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(t,e){if(e){if(HN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function c0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cv=null,ma=null,ga=null;function zw(t){if(t=gc(t)){if(typeof cv!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Ff(e),cv(t.stateNode,t.type,e))}}function dC(t){ma?ga?ga.push(t):ga=[t]:ma=t}function fC(){if(ma){var t=ma,e=ga;if(ga=ma=null,zw(t),e)for(t=0;t<e.length;t++)zw(e[t])}}function pC(t,e){return t(e)}function mC(){}var gm=!1;function gC(t,e,n){if(gm)return t(e,n);gm=!0;try{return pC(t,e,n)}finally{gm=!1,(ma!==null||ga!==null)&&(mC(),fC())}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=Ff(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var hv=!1;if(ai)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){hv=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{hv=!1}function KN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ou=!1,Sd=null,Id=!1,dv=null,GN={onError:function(t){ou=!0,Sd=t}};function qN(t,e,n,r,i,s,o,a,l){ou=!1,Sd=null,KN.apply(GN,arguments)}function QN(t,e,n,r,i,s,o,a,l){if(qN.apply(this,arguments),ou){if(ou){var c=Sd;ou=!1,Sd=null}else throw Error(W(198));Id||(Id=!0,dv=c)}}function To(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ww(t){if(To(t)!==t)throw Error(W(188))}function YN(t){var e=t.alternate;if(!e){if(e=To(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ww(i),t;if(s===r)return Ww(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function yC(t){return t=YN(t),t!==null?_C(t):null}function _C(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_C(t);if(e!==null)return e;t=t.sibling}return null}var wC=xn.unstable_scheduleCallback,Hw=xn.unstable_cancelCallback,XN=xn.unstable_shouldYield,JN=xn.unstable_requestPaint,at=xn.unstable_now,ZN=xn.unstable_getCurrentPriorityLevel,h0=xn.unstable_ImmediatePriority,EC=xn.unstable_UserBlockingPriority,Pd=xn.unstable_NormalPriority,eM=xn.unstable_LowPriority,TC=xn.unstable_IdlePriority,Nf=null,xr=null;function tM(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Nf,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:iM,nM=Math.log,rM=Math.LN2;function iM(t){return t>>>=0,t===0?32:31-(nM(t)/rM|0)|0}var yh=64,_h=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ql(a):(s&=o,s!==0&&(r=ql(s)))}else o=n&~i,o!==0?r=ql(o):s!==0&&(r=ql(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),i=1<<n,r|=t[n],e&=~i;return r}function sM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=sM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SC(){var t=yh;return yh<<=1,!(yh&4194240)&&(yh=64),t}function vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function aM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function d0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function IC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PC,f0,CC,AC,RC,pv=!1,wh=[],Wi=null,Hi=null,Ki=null,Ru=new Map,bu=new Map,Li=[],lM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(e.pointerId)}}function kl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&f0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uM(t,e,n,r,i){switch(e){case"focusin":return Wi=kl(Wi,t,e,n,r,i),!0;case"dragenter":return Hi=kl(Hi,t,e,n,r,i),!0;case"mouseover":return Ki=kl(Ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ru.set(s,kl(Ru.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bu.set(s,kl(bu.get(s)||null,t,e,n,r,i)),!0}return!1}function bC(t){var e=Ws(t.target);if(e!==null){var n=To(e);if(n!==null){if(e=n.tag,e===13){if(e=vC(n),e!==null){t.blockedOn=e,RC(t.priority,function(){CC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return e=gc(n),e!==null&&f0(e),t.blockedOn=n,!1;e.shift()}return!0}function Gw(t,e,n){Xh(t)&&n.delete(e)}function cM(){pv=!1,Wi!==null&&Xh(Wi)&&(Wi=null),Hi!==null&&Xh(Hi)&&(Hi=null),Ki!==null&&Xh(Ki)&&(Ki=null),Ru.forEach(Gw),bu.forEach(Gw)}function Ol(t,e){t.blockedOn===e&&(t.blockedOn=null,pv||(pv=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,cM)))}function xu(t){function e(i){return Ol(i,t)}if(0<wh.length){Ol(wh[0],t);for(var n=1;n<wh.length;n++){var r=wh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&Ol(Wi,t),Hi!==null&&Ol(Hi,t),Ki!==null&&Ol(Ki,t),Ru.forEach(e),bu.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)bC(n),n.blockedOn===null&&Li.shift()}var va=yi.ReactCurrentBatchConfig,Ad=!0;function hM(t,e,n,r){var i=Ne,s=va.transition;va.transition=null;try{Ne=1,p0(t,e,n,r)}finally{Ne=i,va.transition=s}}function dM(t,e,n,r){var i=Ne,s=va.transition;va.transition=null;try{Ne=4,p0(t,e,n,r)}finally{Ne=i,va.transition=s}}function p0(t,e,n,r){if(Ad){var i=mv(t,e,n,r);if(i===null)Am(t,e,r,Rd,n),Kw(t,r);else if(uM(i,t,e,n,r))r.stopPropagation();else if(Kw(t,r),e&4&&-1<lM.indexOf(t)){for(;i!==null;){var s=gc(i);if(s!==null&&PC(s),s=mv(t,e,n,r),s===null&&Am(t,e,r,Rd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Am(t,e,r,null,n)}}var Rd=null;function mv(t,e,n,r){if(Rd=null,t=c0(r),t=Ws(t),t!==null)if(e=To(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rd=t,null}function xC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZN()){case h0:return 1;case EC:return 4;case Pd:case eM:return 16;case TC:return 536870912;default:return 16}default:return 16}}var Ui=null,m0=null,Jh=null;function kC(){if(Jh)return Jh;var t,e=m0,n=e.length,r,i="value"in Ui?Ui.value:Ui.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eh(){return!0}function qw(){return!1}function Mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Eh:qw,this.isPropagationStopped=qw,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eh)},persist:function(){},isPersistent:Eh}),e}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g0=Mn(Ja),mc=Ze({},Ja,{view:0,detail:0}),fM=Mn(mc),ym,_m,Dl,Mf=Ze({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(ym=t.screenX-Dl.screenX,_m=t.screenY-Dl.screenY):_m=ym=0,Dl=t),ym)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),Qw=Mn(Mf),pM=Ze({},Mf,{dataTransfer:0}),mM=Mn(pM),gM=Ze({},mc,{relatedTarget:0}),wm=Mn(gM),vM=Ze({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),yM=Mn(vM),_M=Ze({},Ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wM=Mn(_M),EM=Ze({},Ja,{data:0}),Yw=Mn(EM),TM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IM[t])?!!e[t]:!1}function v0(){return PM}var CM=Ze({},mc,{key:function(t){if(t.key){var e=TM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v0,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AM=Mn(CM),RM=Ze({},Mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xw=Mn(RM),bM=Ze({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v0}),xM=Mn(bM),kM=Ze({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),OM=Mn(kM),DM=Ze({},Mf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NM=Mn(DM),MM=[9,13,27,32],y0=ai&&"CompositionEvent"in window,au=null;ai&&"documentMode"in document&&(au=document.documentMode);var LM=ai&&"TextEvent"in window&&!au,OC=ai&&(!y0||au&&8<au&&11>=au),Jw=" ",Zw=!1;function DC(t,e){switch(t){case"keyup":return MM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xo=!1;function VM(t,e){switch(t){case"compositionend":return NC(e);case"keypress":return e.which!==32?null:(Zw=!0,Jw);case"textInput":return t=e.data,t===Jw&&Zw?null:t;default:return null}}function FM(t,e){if(Xo)return t==="compositionend"||!y0&&DC(t,e)?(t=kC(),Jh=m0=Ui=null,Xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OC&&e.locale!=="ko"?null:e.data;default:return null}}var $M={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$M[t.type]:e==="textarea"}function MC(t,e,n,r){dC(r),e=bd(e,"onChange"),0<e.length&&(n=new g0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lu=null,ku=null;function jM(t){KC(t,0)}function Lf(t){var e=ea(t);if(sC(e))return t}function UM(t,e){if(t==="change")return e}var LC=!1;if(ai){var Em;if(ai){var Tm="oninput"in document;if(!Tm){var tE=document.createElement("div");tE.setAttribute("oninput","return;"),Tm=typeof tE.oninput=="function"}Em=Tm}else Em=!1;LC=Em&&(!document.documentMode||9<document.documentMode)}function nE(){lu&&(lu.detachEvent("onpropertychange",VC),ku=lu=null)}function VC(t){if(t.propertyName==="value"&&Lf(ku)){var e=[];MC(e,ku,t,c0(t)),gC(jM,e)}}function BM(t,e,n){t==="focusin"?(nE(),lu=e,ku=n,lu.attachEvent("onpropertychange",VC)):t==="focusout"&&nE()}function zM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lf(ku)}function WM(t,e){if(t==="click")return Lf(e)}function HM(t,e){if(t==="input"||t==="change")return Lf(e)}function KM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:KM;function Ou(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xg.call(e,i)||!vr(t[i],e[i]))return!1}return!0}function rE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iE(t,e){var n=rE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rE(n)}}function FC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $C(){for(var t=window,e=Td();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Td(t.document)}return e}function _0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GM(t){var e=$C(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FC(n.ownerDocument.documentElement,n)){if(r!==null&&_0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iE(n,s);var o=iE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qM=ai&&"documentMode"in document&&11>=document.documentMode,Jo=null,gv=null,uu=null,vv=!1;function sE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vv||Jo==null||Jo!==Td(r)||(r=Jo,"selectionStart"in r&&_0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uu&&Ou(uu,r)||(uu=r,r=bd(gv,"onSelect"),0<r.length&&(e=new g0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jo)))}function Th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zo={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},Sm={},jC={};ai&&(jC=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Vf(t){if(Sm[t])return Sm[t];if(!Zo[t])return t;var e=Zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jC)return Sm[t]=e[n];return t}var UC=Vf("animationend"),BC=Vf("animationiteration"),zC=Vf("animationstart"),WC=Vf("transitionend"),HC=new Map,oE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(t,e){HC.set(t,e),Eo(e,[t])}for(var Im=0;Im<oE.length;Im++){var Pm=oE[Im],QM=Pm.toLowerCase(),YM=Pm[0].toUpperCase()+Pm.slice(1);ds(QM,"on"+YM)}ds(UC,"onAnimationEnd");ds(BC,"onAnimationIteration");ds(zC,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(WC,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function aE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QN(r,e,void 0,t),t.currentTarget=null}function KC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;aE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;aE(i,a,c),s=l}}}if(Id)throw t=dv,Id=!1,dv=null,t}function We(t,e){var n=e[Tv];n===void 0&&(n=e[Tv]=new Set);var r=t+"__bubble";n.has(r)||(GC(e,t,2,!1),n.add(r))}function Cm(t,e,n){var r=0;e&&(r|=4),GC(n,t,r,e)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Sh]){t[Sh]=!0,eC.forEach(function(n){n!=="selectionchange"&&(XM.has(n)||Cm(n,!1,t),Cm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sh]||(e[Sh]=!0,Cm("selectionchange",!1,e))}}function GC(t,e,n,r){switch(xC(e)){case 1:var i=hM;break;case 4:i=dM;break;default:i=p0}n=i.bind(null,e,n,t),i=void 0,!hv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Am(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gC(function(){var c=s,h=c0(n),d=[];e:{var f=HC.get(t);if(f!==void 0){var m=g0,w=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":m=AM;break;case"focusin":w="focus",m=wm;break;case"focusout":w="blur",m=wm;break;case"beforeblur":case"afterblur":m=wm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xM;break;case UC:case BC:case zC:m=yM;break;case WC:m=OM;break;case"scroll":m=fM;break;case"wheel":m=NM;break;case"copy":case"cut":case"paste":m=wM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xw}var T=(e&4)!==0,P=!T&&t==="scroll",_=T?f!==null?f+"Capture":null:f;T=[];for(var y=c,E;y!==null;){E=y;var b=E.stateNode;if(E.tag===5&&b!==null&&(E=b,_!==null&&(b=Au(y,_),b!=null&&T.push(Nu(y,b,E)))),P)break;y=y.return}0<T.length&&(f=new m(f,w,null,n,h),d.push({event:f,listeners:T}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==uv&&(w=n.relatedTarget||n.fromElement)&&(Ws(w)||w[li]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=c,w=w?Ws(w):null,w!==null&&(P=To(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(T=Qw,b="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=Xw,b="onPointerLeave",_="onPointerEnter",y="pointer"),P=m==null?f:ea(m),E=w==null?f:ea(w),f=new T(b,y+"leave",m,n,h),f.target=P,f.relatedTarget=E,b=null,Ws(h)===c&&(T=new T(_,y+"enter",w,n,h),T.target=E,T.relatedTarget=P,b=T),P=b,m&&w)t:{for(T=m,_=w,y=0,E=T;E;E=$o(E))y++;for(E=0,b=_;b;b=$o(b))E++;for(;0<y-E;)T=$o(T),y--;for(;0<E-y;)_=$o(_),E--;for(;y--;){if(T===_||_!==null&&T===_.alternate)break t;T=$o(T),_=$o(_)}T=null}else T=null;m!==null&&lE(d,f,m,T,!1),w!==null&&P!==null&&lE(d,P,w,T,!0)}}e:{if(f=c?ea(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var L=UM;else if(eE(f))if(LC)L=HM;else{L=zM;var j=BM}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(L=WM);if(L&&(L=L(t,c))){MC(d,L,n,h);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&iv(f,"number",f.value)}switch(j=c?ea(c):window,t){case"focusin":(eE(j)||j.contentEditable==="true")&&(Jo=j,gv=c,uu=null);break;case"focusout":uu=gv=Jo=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,sE(d,n,h);break;case"selectionchange":if(qM)break;case"keydown":case"keyup":sE(d,n,h)}var C;if(y0)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Xo?DC(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(OC&&n.locale!=="ko"&&(Xo||g!=="onCompositionStart"?g==="onCompositionEnd"&&Xo&&(C=kC()):(Ui=h,m0="value"in Ui?Ui.value:Ui.textContent,Xo=!0)),j=bd(c,g),0<j.length&&(g=new Yw(g,t,null,n,h),d.push({event:g,listeners:j}),C?g.data=C:(C=NC(n),C!==null&&(g.data=C)))),(C=LM?VM(t,n):FM(t,n))&&(c=bd(c,"onBeforeInput"),0<c.length&&(h=new Yw("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}KC(d,e)})}function Nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Au(t,n),s!=null&&r.unshift(Nu(t,s,i)),s=Au(t,e),s!=null&&r.push(Nu(t,s,i))),t=t.return}return r}function $o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Au(n,s),l!=null&&o.unshift(Nu(n,l,a))):i||(l=Au(n,s),l!=null&&o.push(Nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var JM=/\r\n?/g,ZM=/\u0000|\uFFFD/g;function uE(t){return(typeof t=="string"?t:""+t).replace(JM,`
`).replace(ZM,"")}function Ih(t,e,n){if(e=uE(e),uE(t)!==e&&n)throw Error(W(425))}function xd(){}var yv=null,_v=null;function wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,eL=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(t){return cE.resolve(null).then(t).catch(nL)}:Ev;function nL(t){setTimeout(function(){throw t})}function Rm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xu(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),br="__reactFiber$"+Za,Mu="__reactProps$"+Za,li="__reactContainer$"+Za,Tv="__reactEvents$"+Za,rL="__reactListeners$"+Za,iL="__reactHandles$"+Za;function Ws(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hE(t);t!==null;){if(n=t[br])return n;t=hE(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[br]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Ff(t){return t[Mu]||null}var Sv=[],ta=-1;function fs(t){return{current:t}}function Ke(t){0>ta||(t.current=Sv[ta],Sv[ta]=null,ta--)}function Ue(t,e){ta++,Sv[ta]=t.current,t.current=e}var is={},en=fs(is),vn=fs(!1),ao=is;function Aa(t,e){var n=t.type.contextTypes;if(!n)return is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function kd(){Ke(vn),Ke(en)}function dE(t,e,n){if(en.current!==is)throw Error(W(168));Ue(en,e),Ue(vn,n)}function qC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,BN(t)||"Unknown",i));return Ze({},n,r)}function Od(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||is,ao=en.current,Ue(en,t),Ue(vn,vn.current),!0}function fE(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=qC(t,e,ao),r.__reactInternalMemoizedMergedChildContext=t,Ke(vn),Ke(en),Ue(en,t)):Ke(vn),Ue(vn,n)}var Kr=null,$f=!1,bm=!1;function QC(t){Kr===null?Kr=[t]:Kr.push(t)}function sL(t){$f=!0,QC(t)}function ps(){if(!bm&&Kr!==null){bm=!0;var t=0,e=Ne;try{var n=Kr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,$f=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(t+1)),wC(h0,ps),i}finally{Ne=e,bm=!1}}return null}var na=[],ra=0,Dd=null,Nd=0,Hn=[],Kn=0,lo=null,qr=1,Qr="";function Vs(t,e){na[ra++]=Nd,na[ra++]=Dd,Dd=t,Nd=e}function YC(t,e,n){Hn[Kn++]=qr,Hn[Kn++]=Qr,Hn[Kn++]=lo,lo=t;var r=qr;t=Qr;var i=32-fr(r)-1;r&=~(1<<i),n+=1;var s=32-fr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qr=1<<32-fr(e)+i|n<<i|r,Qr=s+t}else qr=1<<s|n<<i|r,Qr=t}function w0(t){t.return!==null&&(Vs(t,1),YC(t,1,0))}function E0(t){for(;t===Dd;)Dd=na[--ra],na[ra]=null,Nd=na[--ra],na[ra]=null;for(;t===lo;)lo=Hn[--Kn],Hn[Kn]=null,Qr=Hn[--Kn],Hn[Kn]=null,qr=Hn[--Kn],Hn[Kn]=null}var An=null,Pn=null,Ge=!1,lr=null;function XC(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,Pn=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lo!==null?{id:qr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,Pn=null,!0):!1;default:return!1}}function Iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pv(t){if(Ge){var e=Pn;if(e){var n=e;if(!pE(t,e)){if(Iv(t))throw Error(W(418));e=Gi(n.nextSibling);var r=An;e&&pE(t,e)?XC(r,n):(t.flags=t.flags&-4097|2,Ge=!1,An=t)}}else{if(Iv(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ge=!1,An=t}}}function mE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Ph(t){if(t!==An)return!1;if(!Ge)return mE(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wv(t.type,t.memoizedProps)),e&&(e=Pn)){if(Iv(t))throw JC(),Error(W(418));for(;e;)XC(t,e),e=Gi(e.nextSibling)}if(mE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=An?Gi(t.stateNode.nextSibling):null;return!0}function JC(){for(var t=Pn;t;)t=Gi(t.nextSibling)}function Ra(){Pn=An=null,Ge=!1}function T0(t){lr===null?lr=[t]:lr.push(t)}var oL=yi.ReactCurrentBatchConfig;function Nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ch(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gE(t){var e=t._init;return e(t._payload)}function ZC(t){function e(_,y){if(t){var E=_.deletions;E===null?(_.deletions=[y],_.flags|=16):E.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Xi(_,y),_.index=0,_.sibling=null,_}function s(_,y,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<y?(_.flags|=2,y):E):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,E,b){return y===null||y.tag!==6?(y=Lm(E,_.mode,b),y.return=_,y):(y=i(y,E),y.return=_,y)}function l(_,y,E,b){var L=E.type;return L===Yo?h(_,y,E.props.children,b,E.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ni&&gE(L)===y.type)?(b=i(y,E.props),b.ref=Nl(_,y,E),b.return=_,b):(b=od(E.type,E.key,E.props,null,_.mode,b),b.ref=Nl(_,y,E),b.return=_,b)}function c(_,y,E,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Vm(E,_.mode,b),y.return=_,y):(y=i(y,E.children||[]),y.return=_,y)}function h(_,y,E,b,L){return y===null||y.tag!==7?(y=eo(E,_.mode,b,L),y.return=_,y):(y=i(y,E),y.return=_,y)}function d(_,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Lm(""+y,_.mode,E),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mh:return E=od(y.type,y.key,y.props,null,_.mode,E),E.ref=Nl(_,null,y),E.return=_,E;case Qo:return y=Vm(y,_.mode,E),y.return=_,y;case Ni:var b=y._init;return d(_,b(y._payload),E)}if(Gl(y)||bl(y))return y=eo(y,_.mode,E,null),y.return=_,y;Ch(_,y)}return null}function f(_,y,E,b){var L=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return L!==null?null:a(_,y,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mh:return E.key===L?l(_,y,E,b):null;case Qo:return E.key===L?c(_,y,E,b):null;case Ni:return L=E._init,f(_,y,L(E._payload),b)}if(Gl(E)||bl(E))return L!==null?null:h(_,y,E,b,null);Ch(_,E)}return null}function m(_,y,E,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(E)||null,a(y,_,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mh:return _=_.get(b.key===null?E:b.key)||null,l(y,_,b,L);case Qo:return _=_.get(b.key===null?E:b.key)||null,c(y,_,b,L);case Ni:var j=b._init;return m(_,y,E,j(b._payload),L)}if(Gl(b)||bl(b))return _=_.get(E)||null,h(y,_,b,L,null);Ch(y,b)}return null}function w(_,y,E,b){for(var L=null,j=null,C=y,g=y=0,I=null;C!==null&&g<E.length;g++){C.index>g?(I=C,C=null):I=C.sibling;var A=f(_,C,E[g],b);if(A===null){C===null&&(C=I);break}t&&C&&A.alternate===null&&e(_,C),y=s(A,y,g),j===null?L=A:j.sibling=A,j=A,C=I}if(g===E.length)return n(_,C),Ge&&Vs(_,g),L;if(C===null){for(;g<E.length;g++)C=d(_,E[g],b),C!==null&&(y=s(C,y,g),j===null?L=C:j.sibling=C,j=C);return Ge&&Vs(_,g),L}for(C=r(_,C);g<E.length;g++)I=m(C,_,g,E[g],b),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?g:I.key),y=s(I,y,g),j===null?L=I:j.sibling=I,j=I);return t&&C.forEach(function(x){return e(_,x)}),Ge&&Vs(_,g),L}function T(_,y,E,b){var L=bl(E);if(typeof L!="function")throw Error(W(150));if(E=L.call(E),E==null)throw Error(W(151));for(var j=L=null,C=y,g=y=0,I=null,A=E.next();C!==null&&!A.done;g++,A=E.next()){C.index>g?(I=C,C=null):I=C.sibling;var x=f(_,C,A.value,b);if(x===null){C===null&&(C=I);break}t&&C&&x.alternate===null&&e(_,C),y=s(x,y,g),j===null?L=x:j.sibling=x,j=x,C=I}if(A.done)return n(_,C),Ge&&Vs(_,g),L;if(C===null){for(;!A.done;g++,A=E.next())A=d(_,A.value,b),A!==null&&(y=s(A,y,g),j===null?L=A:j.sibling=A,j=A);return Ge&&Vs(_,g),L}for(C=r(_,C);!A.done;g++,A=E.next())A=m(C,_,g,A.value,b),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?g:A.key),y=s(A,y,g),j===null?L=A:j.sibling=A,j=A);return t&&C.forEach(function(D){return e(_,D)}),Ge&&Vs(_,g),L}function P(_,y,E,b){if(typeof E=="object"&&E!==null&&E.type===Yo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case mh:e:{for(var L=E.key,j=y;j!==null;){if(j.key===L){if(L=E.type,L===Yo){if(j.tag===7){n(_,j.sibling),y=i(j,E.props.children),y.return=_,_=y;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ni&&gE(L)===j.type){n(_,j.sibling),y=i(j,E.props),y.ref=Nl(_,j,E),y.return=_,_=y;break e}n(_,j);break}else e(_,j);j=j.sibling}E.type===Yo?(y=eo(E.props.children,_.mode,b,E.key),y.return=_,_=y):(b=od(E.type,E.key,E.props,null,_.mode,b),b.ref=Nl(_,y,E),b.return=_,_=b)}return o(_);case Qo:e:{for(j=E.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(_,y.sibling),y=i(y,E.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Vm(E,_.mode,b),y.return=_,_=y}return o(_);case Ni:return j=E._init,P(_,y,j(E._payload),b)}if(Gl(E))return w(_,y,E,b);if(bl(E))return T(_,y,E,b);Ch(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,E),y.return=_,_=y):(n(_,y),y=Lm(E,_.mode,b),y.return=_,_=y),o(_)):n(_,y)}return P}var ba=ZC(!0),eA=ZC(!1),Md=fs(null),Ld=null,ia=null,S0=null;function I0(){S0=ia=Ld=null}function P0(t){var e=Md.current;Ke(Md),t._currentValue=e}function Cv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){Ld=t,S0=ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(S0!==t)if(t={context:t,memoizedValue:e,next:null},ia===null){if(Ld===null)throw Error(W(308));ia=t,Ld.dependencies={lanes:0,firstContext:t}}else ia=ia.next=t;return e}var Hs=null;function C0(t){Hs===null?Hs=[t]:Hs.push(t)}function tA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,C0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function A0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,C0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}function vE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vd(t,e,n,r){var i=t.updateQueue;Mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(f=e,m=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){d=w.call(m,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,f=typeof w=="function"?w.call(m,d,f):w,f==null)break e;d=Ze({},d,f);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=o,t.lanes=o,t.memoizedState=d}}function yE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var vc={},kr=fs(vc),Lu=fs(vc),Vu=fs(vc);function Ks(t){if(t===vc)throw Error(W(174));return t}function R0(t,e){switch(Ue(Vu,e),Ue(Lu,t),Ue(kr,vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ov(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ov(e,t)}Ke(kr),Ue(kr,e)}function xa(){Ke(kr),Ke(Lu),Ke(Vu)}function rA(t){Ks(Vu.current);var e=Ks(kr.current),n=ov(e,t.type);e!==n&&(Ue(Lu,t),Ue(kr,n))}function b0(t){Lu.current===t&&(Ke(kr),Ke(Lu))}var Ye=fs(0);function Fd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xm=[];function x0(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var td=yi.ReactCurrentDispatcher,km=yi.ReactCurrentBatchConfig,uo=0,Je=null,wt=null,Ct=null,$d=!1,cu=!1,Fu=0,aL=0;function Ht(){throw Error(W(321))}function k0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function O0(t,e,n,r,i,s){if(uo=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?hL:dL,t=n(r,i),cu){s=0;do{if(cu=!1,Fu=0,25<=s)throw Error(W(301));s+=1,Ct=wt=null,e.updateQueue=null,td.current=fL,t=n(r,i)}while(cu)}if(td.current=jd,e=wt!==null&&wt.next!==null,uo=0,Ct=wt=Je=null,$d=!1,e)throw Error(W(300));return t}function D0(){var t=Fu!==0;return Fu=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Je.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Jn(){if(wt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Ct===null?Je.memoizedState:Ct.next;if(e!==null)Ct=e,wt=t;else{if(t===null)throw Error(W(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?Je.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function $u(t,e){return typeof e=="function"?e(t):e}function Om(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((uo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Je.lanes|=h,co|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dm(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vr(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iA(){}function sA(t,e){var n=Je,r=Jn(),i=e(),s=!vr(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,N0(lA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,ju(9,aA.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(W(349));uo&30||oA(n,e,i)}return i}function oA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aA(t,e,n,r){e.value=n,e.getSnapshot=r,uA(e)&&cA(t)}function lA(t,e,n){return n(function(){uA(e)&&cA(t)})}function uA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function cA(t){var e=ui(t,1);e!==null&&pr(e,t,1,-1)}function _E(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:t},e.queue=t,t=t.dispatch=cL.bind(null,Je,t),[e.memoizedState,t]}function ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hA(){return Jn().memoizedState}function nd(t,e,n,r){var i=Rr();Je.flags|=t,i.memoizedState=ju(1|e,n,void 0,r===void 0?null:r)}function jf(t,e,n,r){var i=Jn();r=r===void 0?null:r;var s=void 0;if(wt!==null){var o=wt.memoizedState;if(s=o.destroy,r!==null&&k0(r,o.deps)){i.memoizedState=ju(e,n,s,r);return}}Je.flags|=t,i.memoizedState=ju(1|e,n,s,r)}function wE(t,e){return nd(8390656,8,t,e)}function N0(t,e){return jf(2048,8,t,e)}function dA(t,e){return jf(4,2,t,e)}function fA(t,e){return jf(4,4,t,e)}function pA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mA(t,e,n){return n=n!=null?n.concat([t]):null,jf(4,4,pA.bind(null,e,t),n)}function M0(){}function gA(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vA(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yA(t,e,n){return uo&21?(vr(n,e)||(n=SC(),Je.lanes|=n,co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function lL(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=km.transition;km.transition={};try{t(!1),e()}finally{Ne=n,km.transition=r}}function _A(){return Jn().memoizedState}function uL(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wA(t))EA(e,n);else if(n=tA(t,e,n,r),n!==null){var i=an();pr(n,t,r,i),TA(n,e,r)}}function cL(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wA(t))EA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vr(a,o)){var l=e.interleaved;l===null?(i.next=i,C0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=tA(t,e,i,r),n!==null&&(i=an(),pr(n,t,r,i),TA(n,e,r))}}function wA(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function EA(t,e){cu=$d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}var jd={readContext:Xn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},hL={readContext:Xn,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:wE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,pA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uL.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:_E,useDebugValue:M0,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=_E(!1),e=t[0];return t=lL.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=Rr();if(Ge){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Rt===null)throw Error(W(349));uo&30||oA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wE(lA.bind(null,r,s,t),[t]),r.flags|=2048,ju(9,aA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Rt.identifierPrefix;if(Ge){var n=Qr,r=qr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dL={readContext:Xn,useCallback:gA,useContext:Xn,useEffect:N0,useImperativeHandle:mA,useInsertionEffect:dA,useLayoutEffect:fA,useMemo:vA,useReducer:Om,useRef:hA,useState:function(){return Om($u)},useDebugValue:M0,useDeferredValue:function(t){var e=Jn();return yA(e,wt.memoizedState,t)},useTransition:function(){var t=Om($u)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:iA,useSyncExternalStore:sA,useId:_A,unstable_isNewReconciler:!1},fL={readContext:Xn,useCallback:gA,useContext:Xn,useEffect:N0,useImperativeHandle:mA,useInsertionEffect:dA,useLayoutEffect:fA,useMemo:vA,useReducer:Dm,useRef:hA,useState:function(){return Dm($u)},useDebugValue:M0,useDeferredValue:function(t){var e=Jn();return wt===null?e.memoizedState=t:yA(e,wt.memoizedState,t)},useTransition:function(){var t=Dm($u)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:iA,useSyncExternalStore:sA,useId:_A,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Av(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uf={isMounted:function(t){return(t=t._reactInternals)?To(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),i=Yi(t),s=ti(r,i);s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(pr(e,t,i,r),ed(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),i=Yi(t),s=ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qi(t,s,i),e!==null&&(pr(e,t,i,r),ed(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Yi(t),i=ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=qi(t,i,r),e!==null&&(pr(e,t,r,n),ed(e,t,r))}};function EE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ou(n,r)||!Ou(i,s):!0}function SA(t,e,n){var r=!1,i=is,s=e.contextType;return typeof s=="object"&&s!==null?s=Xn(s):(i=yn(e)?ao:en.current,r=e.contextTypes,s=(r=r!=null)?Aa(t,i):is),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function TE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uf.enqueueReplaceState(e,e.state,null)}function Rv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},A0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xn(s):(s=yn(e)?ao:en.current,i.context=Aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Av(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uf.enqueueReplaceState(i,i.state,null),Vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ka(t,e){try{var n="",r=e;do n+=UN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pL=typeof WeakMap=="function"?WeakMap:Map;function IA(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bd||(Bd=!0,$v=r),bv(t,e)},n}function PA(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bv(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function SE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RL.bind(null,t,e,n),e.then(t,t))}function IE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ti(-1,1),e.tag=2,qi(n,e,1))),n.lanes|=1),t)}var mL=yi.ReactCurrentOwner,gn=!1;function on(t,e,n,r){e.child=t===null?eA(e,null,n,r):ba(e,t.child,n,r)}function CE(t,e,n,r,i){n=n.render;var s=e.ref;return ya(e,i),r=O0(t,e,n,r,s,i),n=D0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(Ge&&n&&w0(e),e.flags|=1,on(t,e,r,i),e.child)}function AE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!z0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CA(t,e,s,r,i)):(t=od(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ou,n(o,r)&&t.ref===e.ref)return ci(t,e,i)}return e.flags|=1,t=Xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function CA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ou(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,ci(t,e,i)}return xv(t,e,n,r,i)}function AA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(oa,Sn),Sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(oa,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(oa,Sn),Sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(oa,Sn),Sn|=r;return on(t,e,i,n),e.child}function RA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xv(t,e,n,r,i){var s=yn(n)?ao:en.current;return s=Aa(e,s),ya(e,i),n=O0(t,e,n,r,s,i),r=D0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(Ge&&r&&w0(e),e.flags|=1,on(t,e,n,i),e.child)}function RE(t,e,n,r,i){if(yn(n)){var s=!0;Od(e)}else s=!1;if(ya(e,i),e.stateNode===null)rd(t,e),SA(e,n,r),Rv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=yn(n)?ao:en.current,c=Aa(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&TE(e,o,r,c),Mi=!1;var f=e.memoizedState;o.state=f,Vd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||vn.current||Mi?(typeof h=="function"&&(Av(e,n,h,r),l=e.memoizedState),(a=Mi||EE(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=yn(n)?ao:en.current,l=Aa(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&TE(e,o,r,l),Mi=!1,f=e.memoizedState,o.state=f,Vd(e,r,o,i);var w=e.memoizedState;a!==d||f!==w||vn.current||Mi?(typeof m=="function"&&(Av(e,n,m,r),w=e.memoizedState),(c=Mi||EE(e,n,c,r,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return kv(t,e,n,r,s,i)}function kv(t,e,n,r,i,s){RA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fE(e,n,!1),ci(t,e,s);r=e.stateNode,mL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,a,s)):on(t,e,a,s),e.memoizedState=r.state,i&&fE(e,n,!0),e.child}function bA(t){var e=t.stateNode;e.pendingContext?dE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dE(t,e.context,!1),R0(t,e.containerInfo)}function bE(t,e,n,r,i){return Ra(),T0(i),e.flags|=256,on(t,e,n,r),e.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function Dv(t){return{baseLanes:t,cachePool:null,transitions:null}}function xA(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ye,i&1),t===null)return Pv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wf(o,r,0,null),t=eo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dv(n),e.memoizedState=Ov,t):L0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xi(a,s):(s=eo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ov,r}return s=t.child,t=s.sibling,r=Xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function L0(t,e){return e=Wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,r){return r!==null&&T0(r),ba(e,t.child,null,n),t=L0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nm(Error(W(422))),Ah(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wf({mode:"visible",children:r.children},i,0,null),s=eo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ba(e,t.child,null,o),e.child.memoizedState=Dv(o),e.memoizedState=Ov,s);if(!(e.mode&1))return Ah(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Nm(s,r,void 0),Ah(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ui(t,i),pr(r,t,i,-1))}return B0(),r=Nm(Error(W(421))),Ah(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pn=Gi(i.nextSibling),An=e,Ge=!0,lr=null,t!==null&&(Hn[Kn++]=qr,Hn[Kn++]=Qr,Hn[Kn++]=lo,qr=t.id,Qr=t.overflow,lo=e),e=L0(e,r.children),e.flags|=4096,e)}function xE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cv(t.return,e,n)}function Mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(on(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xE(t,n,e);else if(t.tag===19)xE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,s);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vL(t,e,n){switch(e.tag){case 3:bA(e),Ra();break;case 5:rA(e);break;case 1:yn(e.type)&&Od(e);break;case 4:R0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(Md,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?xA(t,e,n):(Ue(Ye,Ye.current&1),t=ci(t,e,n),t!==null?t.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,AA(t,e,n)}return ci(t,e,n)}var OA,Nv,DA,NA;OA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nv=function(){};DA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ks(kr.current);var s=null;switch(n){case"input":i=nv(t,i),r=nv(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=sv(t,i),r=sv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xd)}av(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&We("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};NA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ml(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yL(t,e,n){var r=e.pendingProps;switch(E0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return yn(e.type)&&kd(),Kt(e),null;case 3:return r=e.stateNode,xa(),Ke(vn),Ke(en),x0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Bv(lr),lr=null))),Nv(t,e),Kt(e),null;case 5:b0(e);var i=Ks(Vu.current);if(n=e.type,t!==null&&e.stateNode!=null)DA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Kt(e),null}if(t=Ks(kr.current),Ph(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[br]=e,r[Mu]=s,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<Ql.length;i++)We(Ql[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":$w(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":Uw(r,s),We("invalid",r)}av(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ih(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ih(r.textContent,a,t),i=["children",""+a]):Pu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":gh(r),jw(r,s,!0);break;case"textarea":gh(r),Bw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[Mu]=r,OA(t,e,!1,!1),e.stateNode=t;e:{switch(o=lv(n,r),n){case"dialog":We("cancel",t),We("close",t),i=r;break;case"iframe":case"object":case"embed":We("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ql.length;i++)We(Ql[i],t);i=r;break;case"source":We("error",t),i=r;break;case"img":case"image":case"link":We("error",t),We("load",t),i=r;break;case"details":We("toggle",t),i=r;break;case"input":$w(t,r),i=nv(t,r),We("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),We("invalid",t);break;case"textarea":Uw(t,r),i=sv(t,r),We("invalid",t);break;default:i=r}av(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cu(t,l):typeof l=="number"&&Cu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&We("scroll",t):l!=null&&o0(t,s,l,o))}switch(n){case"input":gh(t),jw(t,r,!1);break;case"textarea":gh(t),Bw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+rs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?pa(t,!!r.multiple,s,!1):r.defaultValue!=null&&pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)NA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ks(Vu.current),Ks(kr.current),Ph(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(s=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ke(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Pn!==null&&e.mode&1&&!(e.flags&128))JC(),Ra(),e.flags|=98560,s=!1;else if(s=Ph(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[br]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else lr!==null&&(Bv(lr),lr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?Et===0&&(Et=3):B0())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return xa(),Nv(t,e),t===null&&Du(e.stateNode.containerInfo),Kt(e),null;case 10:return P0(e.type._context),Kt(e),null;case 17:return yn(e.type)&&kd(),Kt(e),null;case 19:if(Ke(Ye),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ml(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fd(t),o!==null){for(e.flags|=128,Ml(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Oa&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304)}else{if(!r)if(t=Fd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return Kt(e),null}else 2*at()-s.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Ye.current,Ue(Ye,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return U0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function _L(t,e){switch(E0(e),e.tag){case 1:return yn(e.type)&&kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),Ke(vn),Ke(en),x0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return b0(e),null;case 13:if(Ke(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ye),null;case 4:return xa(),null;case 10:return P0(e.type._context),null;case 22:case 23:return U0(),null;case 24:return null;default:return null}}var Rh=!1,Yt=!1,wL=typeof WeakSet=="function"?WeakSet:Set,J=null;function sa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Mv(t,e,n){try{n()}catch(r){rt(t,e,r)}}var kE=!1;function EL(t,e){if(yv=Ad,t=$C(),_0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_v={focusedElem:t,selectionRange:n},Ad=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,P=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:sr(e.type,T),P);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){rt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return w=kE,kE=!1,w}function hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mv(e,n,s)}i=i.next}while(i!==r)}}function Bf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MA(t){var e=t.alternate;e!==null&&(t.alternate=null,MA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Mu],delete e[Tv],delete e[rL],delete e[iL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LA(t){return t.tag===5||t.tag===3||t.tag===4}function OE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(r!==4&&(t=t.child,t!==null))for(Vv(t,e,n),t=t.sibling;t!==null;)Vv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var Ot=null,or=!1;function Ri(t,e,n){for(n=n.child;n!==null;)VA(t,e,n),n=n.sibling}function VA(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Nf,n)}catch{}switch(n.tag){case 5:Yt||sa(n,e);case 6:var r=Ot,i=or;Ot=null,Ri(t,e,n),Ot=r,or=i,Ot!==null&&(or?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(or?(t=Ot,n=n.stateNode,t.nodeType===8?Rm(t.parentNode,n):t.nodeType===1&&Rm(t,n),xu(t)):Rm(Ot,n.stateNode));break;case 4:r=Ot,i=or,Ot=n.stateNode.containerInfo,or=!0,Ri(t,e,n),Ot=r,or=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mv(n,e,o),i=i.next}while(i!==r)}Ri(t,e,n);break;case 1:if(!Yt&&(sa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Ri(t,e,n);break;case 21:Ri(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,Ri(t,e,n),Yt=r):Ri(t,e,n);break;default:Ri(t,e,n)}}function DE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wL),e.forEach(function(r){var i=xL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,or=!1;break e;case 3:Ot=a.stateNode.containerInfo,or=!0;break e;case 4:Ot=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Ot===null)throw Error(W(160));VA(s,o,i),Ot=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FA(e,t),e=e.sibling}function FA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),Cr(t),r&4){try{hu(3,t,t.return),Bf(3,t)}catch(T){rt(t,t.return,T)}try{hu(5,t,t.return)}catch(T){rt(t,t.return,T)}}break;case 1:ir(e,t),Cr(t),r&512&&n!==null&&sa(n,n.return);break;case 5:if(ir(e,t),Cr(t),r&512&&n!==null&&sa(n,n.return),t.flags&32){var i=t.stateNode;try{Cu(i,"")}catch(T){rt(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oC(i,s),lv(a,o);var c=lv(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?hC(i,d):h==="dangerouslySetInnerHTML"?uC(i,d):h==="children"?Cu(i,d):o0(i,h,d,c)}switch(a){case"input":rv(i,s);break;case"textarea":aC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pa(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?pa(i,!!s.multiple,s.defaultValue,!0):pa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mu]=s}catch(T){rt(t,t.return,T)}}break;case 6:if(ir(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){rt(t,t.return,T)}}break;case 3:if(ir(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(T){rt(t,t.return,T)}break;case 4:ir(e,t),Cr(t);break;case 13:ir(e,t),Cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($0=at())),r&4&&DE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(c=Yt)||h,ir(e,t),Yt=c):ir(e,t),Cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(J=t,h=t.child;h!==null;){for(d=J=h;J!==null;){switch(f=J,m=f.child,f.tag){case 0:case 11:case 14:case 15:hu(4,f,f.return);break;case 1:sa(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){rt(r,n,T)}}break;case 5:sa(f,f.return);break;case 22:if(f.memoizedState!==null){ME(d);continue}}m!==null?(m.return=f,J=m):ME(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cC("display",o))}catch(T){rt(t,t.return,T)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(T){rt(t,t.return,T)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ir(e,t),Cr(t),r&4&&DE(t);break;case 21:break;default:ir(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LA(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cu(i,""),r.flags&=-33);var s=OE(t);Fv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=OE(t);Vv(t,a,o);break;default:throw Error(W(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TL(t,e,n){J=t,$A(t)}function $A(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=Rh;var c=Yt;if(Rh=o,(Yt=l)&&!c)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?LE(i):l!==null?(l.return=o,J=l):LE(i);for(;s!==null;)J=s,$A(s),s=s.sibling;J=i,Rh=a,Yt=c}NE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):NE(t)}}function NE(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Bf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&xu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Yt||e.flags&512&&Lv(e)}catch(f){rt(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function ME(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function LE(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bf(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var s=e.return;try{Lv(e)}catch(l){rt(e,s,l)}break;case 5:var o=e.return;try{Lv(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var SL=Math.ceil,Ud=yi.ReactCurrentDispatcher,V0=yi.ReactCurrentOwner,Qn=yi.ReactCurrentBatchConfig,Pe=0,Rt=null,pt=null,Vt=0,Sn=0,oa=fs(0),Et=0,Uu=null,co=0,zf=0,F0=0,du=null,pn=null,$0=0,Oa=1/0,Hr=null,Bd=!1,$v=null,Qi=null,bh=!1,Bi=null,zd=0,fu=0,jv=null,id=-1,sd=0;function an(){return Pe&6?at():id!==-1?id:id=at()}function Yi(t){return t.mode&1?Pe&2&&Vt!==0?Vt&-Vt:oL.transition!==null?(sd===0&&(sd=SC()),sd):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:xC(t.type)),t):1}function pr(t,e,n,r){if(50<fu)throw fu=0,jv=null,Error(W(185));pc(t,n,r),(!(Pe&2)||t!==Rt)&&(t===Rt&&(!(Pe&2)&&(zf|=n),Et===4&&Vi(t,Vt)),_n(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Oa=at()+500,$f&&ps()))}function _n(t,e){var n=t.callbackNode;oM(t,e);var r=Cd(t,t===Rt?Vt:0);if(r===0)n!==null&&Hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hw(n),e===1)t.tag===0?sL(VE.bind(null,t)):QC(VE.bind(null,t)),tL(function(){!(Pe&6)&&ps()}),n=null;else{switch(IC(r)){case 1:n=h0;break;case 4:n=EC;break;case 16:n=Pd;break;case 536870912:n=TC;break;default:n=Pd}n=GA(n,jA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jA(t,e){if(id=-1,sd=0,Pe&6)throw Error(W(327));var n=t.callbackNode;if(_a()&&t.callbackNode!==n)return null;var r=Cd(t,t===Rt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wd(t,r);else{e=r;var i=Pe;Pe|=2;var s=BA();(Rt!==t||Vt!==e)&&(Hr=null,Oa=at()+500,Zs(t,e));do try{CL();break}catch(a){UA(t,a)}while(!0);I0(),Ud.current=s,Pe=i,pt!==null?e=0:(Rt=null,Vt=0,e=Et)}if(e!==0){if(e===2&&(i=fv(t),i!==0&&(r=i,e=Uv(t,i))),e===1)throw n=Uu,Zs(t,0),Vi(t,r),_n(t,at()),n;if(e===6)Vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!IL(i)&&(e=Wd(t,r),e===2&&(s=fv(t),s!==0&&(r=s,e=Uv(t,s))),e===1))throw n=Uu,Zs(t,0),Vi(t,r),_n(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Fs(t,pn,Hr);break;case 3:if(Vi(t,r),(r&130023424)===r&&(e=$0+500-at(),10<e)){if(Cd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ev(Fs.bind(null,t,pn,Hr),e);break}Fs(t,pn,Hr);break;case 4:if(Vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SL(r/1960))-r,10<r){t.timeoutHandle=Ev(Fs.bind(null,t,pn,Hr),r);break}Fs(t,pn,Hr);break;case 5:Fs(t,pn,Hr);break;default:throw Error(W(329))}}}return _n(t,at()),t.callbackNode===n?jA.bind(null,t):null}function Uv(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=Wd(t,e),t!==2&&(e=pn,pn=n,e!==null&&Bv(e)),t}function Bv(t){pn===null?pn=t:pn.push.apply(pn,t)}function IL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~F0,e&=~zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function VE(t){if(Pe&6)throw Error(W(327));_a();var e=Cd(t,0);if(!(e&1))return _n(t,at()),null;var n=Wd(t,e);if(t.tag!==0&&n===2){var r=fv(t);r!==0&&(e=r,n=Uv(t,r))}if(n===1)throw n=Uu,Zs(t,0),Vi(t,e),_n(t,at()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fs(t,pn,Hr),_n(t,at()),null}function j0(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Oa=at()+500,$f&&ps())}}function ho(t){Bi!==null&&Bi.tag===0&&!(Pe&6)&&_a();var e=Pe;Pe|=1;var n=Qn.transition,r=Ne;try{if(Qn.transition=null,Ne=1,t)return t()}finally{Ne=r,Qn.transition=n,Pe=e,!(Pe&6)&&ps()}}function U0(){Sn=oa.current,Ke(oa)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eL(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(E0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:xa(),Ke(vn),Ke(en),x0();break;case 5:b0(r);break;case 4:xa();break;case 13:Ke(Ye);break;case 19:Ke(Ye);break;case 10:P0(r.type._context);break;case 22:case 23:U0()}n=n.return}if(Rt=t,pt=t=Xi(t.current,null),Vt=Sn=e,Et=0,Uu=null,F0=zf=co=0,pn=du=null,Hs!==null){for(e=0;e<Hs.length;e++)if(n=Hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hs=null}return t}function UA(t,e){do{var n=pt;try{if(I0(),td.current=jd,$d){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$d=!1}if(uo=0,Ct=wt=Je=null,cu=!1,Fu=0,V0.current=null,n===null||n.return===null){Et=1,Uu=e,pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=IE(o);if(m!==null){m.flags&=-257,PE(m,o,a,s,e),m.mode&1&&SE(s,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(l),e.updateQueue=T}else w.add(l);break e}else{if(!(e&1)){SE(s,c,e),B0();break e}l=Error(W(426))}}else if(Ge&&a.mode&1){var P=IE(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),PE(P,o,a,s,e),T0(ka(l,a));break e}}s=l=ka(l,a),Et!==4&&(Et=2),du===null?du=[s]:du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=IA(s,l,e);vE(s,_);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Qi===null||!Qi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=PA(s,a,e);vE(s,b);break e}}s=s.return}while(s!==null)}WA(n)}catch(L){e=L,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function BA(){var t=Ud.current;return Ud.current=jd,t===null?jd:t}function B0(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||!(co&268435455)&&!(zf&268435455)||Vi(Rt,Vt)}function Wd(t,e){var n=Pe;Pe|=2;var r=BA();(Rt!==t||Vt!==e)&&(Hr=null,Zs(t,e));do try{PL();break}catch(i){UA(t,i)}while(!0);if(I0(),Pe=n,Ud.current=r,pt!==null)throw Error(W(261));return Rt=null,Vt=0,Et}function PL(){for(;pt!==null;)zA(pt)}function CL(){for(;pt!==null&&!XN();)zA(pt)}function zA(t){var e=KA(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?WA(t):pt=e,V0.current=null}function WA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_L(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,pt=null;return}}else if(n=yL(n,e,Sn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);Et===0&&(Et=5)}function Fs(t,e,n){var r=Ne,i=Qn.transition;try{Qn.transition=null,Ne=1,AL(t,e,n,r)}finally{Qn.transition=i,Ne=r}return null}function AL(t,e,n,r){do _a();while(Bi!==null);if(Pe&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(aM(t,s),t===Rt&&(pt=Rt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bh||(bh=!0,GA(Pd,function(){return _a(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=Ne;Ne=1;var a=Pe;Pe|=4,V0.current=null,EL(t,n),FA(n,t),GM(_v),Ad=!!yv,_v=yv=null,t.current=n,TL(n),JN(),Pe=a,Ne=o,Qn.transition=s}else t.current=n;if(bh&&(bh=!1,Bi=t,zd=i),s=t.pendingLanes,s===0&&(Qi=null),tM(n.stateNode),_n(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bd)throw Bd=!1,t=$v,$v=null,t;return zd&1&&t.tag!==0&&_a(),s=t.pendingLanes,s&1?t===jv?fu++:(fu=0,jv=t):fu=0,ps(),null}function _a(){if(Bi!==null){var t=IC(zd),e=Qn.transition,n=Ne;try{if(Qn.transition=null,Ne=16>t?16:t,Bi===null)var r=!1;else{if(t=Bi,Bi=null,zd=0,Pe&6)throw Error(W(331));var i=Pe;for(Pe|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var h=J;switch(h.tag){case 0:case 11:case 15:hu(8,h,s)}var d=h.child;if(d!==null)d.return=h,J=d;else for(;J!==null;){h=J;var f=h.sibling,m=h.return;if(MA(h),h===c){J=null;break}if(f!==null){f.return=m,J=f;break}J=m}}}var w=s.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break e}J=s.return}}var y=t.current;for(J=y;J!==null;){o=J;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,J=E;else e:for(o=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bf(9,a)}}catch(L){rt(a,a.return,L)}if(a===o){J=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,J=b;break e}J=a.return}}if(Pe=i,ps(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Nf,t)}catch{}r=!0}return r}finally{Ne=n,Qn.transition=e}}return!1}function FE(t,e,n){e=ka(n,e),e=IA(t,e,1),t=qi(t,e,1),e=an(),t!==null&&(pc(t,1,e),_n(t,e))}function rt(t,e,n){if(t.tag===3)FE(t,t,n);else for(;e!==null;){if(e.tag===3){FE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=ka(n,t),t=PA(e,t,1),e=qi(e,t,1),t=an(),e!==null&&(pc(e,1,t),_n(e,t));break}}e=e.return}}function RL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Vt&n)===n&&(Et===4||Et===3&&(Vt&130023424)===Vt&&500>at()-$0?Zs(t,0):F0|=n),_n(t,e)}function HA(t,e){e===0&&(t.mode&1?(e=_h,_h<<=1,!(_h&130023424)&&(_h=4194304)):e=1);var n=an();t=ui(t,e),t!==null&&(pc(t,e,n),_n(t,n))}function bL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HA(t,n)}function xL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),HA(t,n)}var KA;KA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,vL(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Ge&&e.flags&1048576&&YC(e,Nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rd(t,e),t=e.pendingProps;var i=Aa(e,en.current);ya(e,n),i=O0(null,e,r,t,i,n);var s=D0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,Od(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A0(e),i.updater=Uf,e.stateNode=i,i._reactInternals=e,Rv(e,r,t,n),e=kv(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&w0(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OL(r),t=sr(r,t),i){case 0:e=xv(null,e,r,t,n);break e;case 1:e=RE(null,e,r,t,n);break e;case 11:e=CE(null,e,r,t,n);break e;case 14:e=AE(null,e,r,sr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),xv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),RE(t,e,r,i,n);case 3:e:{if(bA(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nA(t,e),Vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ka(Error(W(423)),e),e=bE(t,e,r,n,i);break e}else if(r!==i){i=ka(Error(W(424)),e),e=bE(t,e,r,n,i);break e}else for(Pn=Gi(e.stateNode.containerInfo.firstChild),An=e,Ge=!0,lr=null,n=eA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ra(),r===i){e=ci(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return rA(e),t===null&&Pv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wv(r,i)?o=null:s!==null&&wv(r,s)&&(e.flags|=32),RA(t,e),on(t,e,o,n),e.child;case 6:return t===null&&Pv(e),null;case 13:return xA(t,e,n);case 4:return R0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),CE(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(Md,r._currentValue),r._currentValue=o,s!==null)if(vr(s.value,o)){if(s.children===i.children&&!vn.current){e=ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ti(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ya(e,n),i=Xn(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),AE(t,e,r,i,n);case 15:return CA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),rd(t,e),e.tag=1,yn(r)?(t=!0,Od(e)):t=!1,ya(e,n),SA(e,r,i),Rv(e,r,i,n),kv(null,e,r,!0,t,n);case 19:return kA(t,e,n);case 22:return AA(t,e,n)}throw Error(W(156,e.tag))};function GA(t,e){return wC(t,e)}function kL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new kL(t,e,n,r)}function z0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OL(t){if(typeof t=="function")return z0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l0)return 11;if(t===u0)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function od(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")z0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yo:return eo(n.children,i,s,e);case a0:o=8,i|=8;break;case Jg:return t=qn(12,n,e,i|2),t.elementType=Jg,t.lanes=s,t;case Zg:return t=qn(13,n,e,i),t.elementType=Zg,t.lanes=s,t;case ev:return t=qn(19,n,e,i),t.elementType=ev,t.lanes=s,t;case rC:return Wf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tC:o=10;break e;case nC:o=9;break e;case l0:o=11;break e;case u0:o=14;break e;case Ni:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function eo(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Wf(t,e,n,r){return t=qn(22,t,r,e),t.elementType=rC,t.lanes=n,t.stateNode={isHidden:!1},t}function Lm(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Vm(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W0(t,e,n,r,i,s,o,a,l){return t=new DL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(s),t}function NL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qA(t){if(!t)return is;t=t._reactInternals;e:{if(To(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(yn(n))return qC(t,n,e)}return e}function QA(t,e,n,r,i,s,o,a,l){return t=W0(n,r,!0,t,i,s,o,a,l),t.context=qA(null),n=t.current,r=an(),i=Yi(n),s=ti(r,i),s.callback=e??null,qi(n,s,i),t.current.lanes=i,pc(t,i,r),_n(t,r),t}function Hf(t,e,n,r){var i=e.current,s=an(),o=Yi(i);return n=qA(n),e.context===null?e.context=n:e.pendingContext=n,e=ti(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qi(i,e,o),t!==null&&(pr(t,i,o,s),ed(t,i,o)),o}function Hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $E(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function H0(t,e){$E(t,e),(t=t.alternate)&&$E(t,e)}function ML(){return null}var YA=typeof reportError=="function"?reportError:function(t){console.error(t)};function K0(t){this._internalRoot=t}Kf.prototype.render=K0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Hf(t,e,null,null)};Kf.prototype.unmount=K0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){Hf(null,t,null,null)}),e[li]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=AC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&bC(t)}};function G0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jE(){}function LL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hd(o);s.call(c)}}var o=QA(e,r,t,0,null,!1,!1,"",jE);return t._reactRootContainer=o,t[li]=o.current,Du(t.nodeType===8?t.parentNode:t),ho(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hd(l);a.call(c)}}var l=W0(t,0,!1,null,null,!1,!1,"",jE);return t._reactRootContainer=l,t[li]=l.current,Du(t.nodeType===8?t.parentNode:t),ho(function(){Hf(e,l,n,r)}),l}function qf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hd(o);a.call(l)}}Hf(e,o,t,i)}else o=LL(n,e,t,i,r);return Hd(o)}PC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ql(e.pendingLanes);n!==0&&(d0(e,n|1),_n(e,at()),!(Pe&6)&&(Oa=at()+500,ps()))}break;case 13:ho(function(){var r=ui(t,1);if(r!==null){var i=an();pr(r,t,1,i)}}),H0(t,1)}};f0=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=an();pr(e,t,134217728,n)}H0(t,134217728)}};CC=function(t){if(t.tag===13){var e=Yi(t),n=ui(t,e);if(n!==null){var r=an();pr(n,t,e,r)}H0(t,e)}};AC=function(){return Ne};RC=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};cv=function(t,e,n){switch(e){case"input":if(rv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ff(r);if(!i)throw Error(W(90));sC(r),rv(r,i)}}}break;case"textarea":aC(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};pC=j0;mC=ho;var VL={usingClientEntryPoint:!1,Events:[gc,ea,Ff,dC,fC,j0]},Ll={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FL={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||ML,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Nf=xh.inject(FL),xr=xh}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VL;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G0(e))throw Error(W(200));return NL(t,e,null,n)};Nn.createRoot=function(t,e){if(!G0(t))throw Error(W(299));var n=!1,r="",i=YA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=W0(t,1,!1,null,null,n,!1,r,i),t[li]=e.current,Du(t.nodeType===8?t.parentNode:t),new K0(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=yC(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return ho(t)};Nn.hydrate=function(t,e,n){if(!Gf(e))throw Error(W(200));return qf(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!G0(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=YA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QA(e,null,t,1,n??null,i,!1,s,o),t[li]=e.current,Du(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kf(e)};Nn.render=function(t,e,n){if(!Gf(e))throw Error(W(200));return qf(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Gf(t))throw Error(W(40));return t._reactRootContainer?(ho(function(){qf(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Nn.unstable_batchedUpdates=j0;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return qf(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function XA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XA)}catch(t){console.error(t)}}XA(),X2.exports=Nn;var q0=X2.exports;const $L=lt(q0),jL=$2({__proto__:null,default:$L},[q0]);var JA,UE=q0;JA=UE.createRoot,UE.hydrateRoot;function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(null,arguments)}var Vl=function(t){return t&&t.Math===Math&&t},cn=Vl(typeof globalThis=="object"&&globalThis)||Vl(typeof window=="object"&&window)||Vl(typeof self=="object"&&self)||Vl(typeof fh=="object"&&fh)||Vl(typeof fh=="object"&&fh)||function(){return this}()||Function("return this")(),ut=function(t){try{return!!t()}catch{return!0}},UL=ut,yc=!UL(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),BL=yc,ZA=Function.prototype,BE=ZA.apply,zE=ZA.call,Qf=typeof Reflect=="object"&&Reflect.apply||(BL?zE.bind(BE):function(){return zE.apply(BE,arguments)}),eR=yc,tR=Function.prototype,zv=tR.call,zL=eR&&tR.bind.bind(zv,zv),ct=eR?zL:function(t){return function(){return zv.apply(t,arguments)}},nR=ct,WL=nR({}.toString),HL=nR("".slice),ms=function(t){return HL(WL(t),8,-1)},KL=ms,GL=ct,rR=function(t){if(KL(t)==="Function")return GL(t)},Fm=typeof document=="object"&&document.all,Ln=typeof Fm>"u"&&Fm!==void 0?function(t){return typeof t=="function"||t===Fm}:function(t){return typeof t=="function"},_c={},qL=ut,Vn=!qL(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),QL=yc,kh=Function.prototype.call,gs=QL?kh.bind(kh):function(){return kh.apply(kh,arguments)},Yf={},iR={}.propertyIsEnumerable,sR=Object.getOwnPropertyDescriptor,YL=sR&&!iR.call({1:2},1);Yf.f=YL?function(e){var n=sR(this,e);return!!n&&n.enumerable}:iR;var Xf=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},XL=ct,JL=ut,ZL=ms,$m=Object,eV=XL("".split),Jf=JL(function(){return!$m("z").propertyIsEnumerable(0)})?function(t){return ZL(t)==="String"?eV(t,""):$m(t)}:$m,oR=function(t){return t==null},tV=oR,nV=TypeError,wc=function(t){if(tV(t))throw new nV("Can't call method on "+t);return t},rV=Jf,iV=wc,_i=function(t){return rV(iV(t))},sV=Ln,jr=function(t){return typeof t=="object"?t!==null:sV(t)},En={},jm=En,Um=cn,oV=Ln,WE=function(t){return oV(t)?t:void 0},vs=function(t,e){return arguments.length<2?WE(jm[t])||WE(Um[t]):jm[t]&&jm[t][e]||Um[t]&&Um[t][e]},aV=ct,So=aV({}.isPrototypeOf),lV=cn,HE=lV.navigator,KE=HE&&HE.userAgent,aR=KE?String(KE):"",lR=cn,Bm=aR,GE=lR.process,qE=lR.Deno,QE=GE&&GE.versions||qE&&qE.version,YE=QE&&QE.v8,ur,Kd;YE&&(ur=YE.split("."),Kd=ur[0]>0&&ur[0]<4?1:+(ur[0]+ur[1]));!Kd&&Bm&&(ur=Bm.match(/Edge\/(\d+)/),(!ur||ur[1]>=74)&&(ur=Bm.match(/Chrome\/(\d+)/),ur&&(Kd=+ur[1])));var Zf=Kd,XE=Zf,uV=ut,cV=cn,hV=cV.String,el=!!Object.getOwnPropertySymbols&&!uV(function(){var t=Symbol("symbol detection");return!hV(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&XE&&XE<41}),dV=el,uR=dV&&!Symbol.sham&&typeof Symbol.iterator=="symbol",fV=vs,pV=Ln,mV=So,gV=uR,vV=Object,ep=gV?function(t){return typeof t=="symbol"}:function(t){var e=fV("Symbol");return pV(e)&&mV(e.prototype,vV(t))},yV=String,Q0=function(t){try{return yV(t)}catch{return"Object"}},_V=Ln,wV=Q0,EV=TypeError,tp=function(t){if(_V(t))return t;throw new EV(wV(t)+" is not a function")},TV=tp,SV=oR,IV=function(t,e){var n=t[e];return SV(n)?void 0:TV(n)},zm=gs,Wm=Ln,Hm=jr,PV=TypeError,CV=function(t,e){var n,r;if(e==="string"&&Wm(n=t.toString)&&!Hm(r=zm(n,t))||Wm(n=t.valueOf)&&!Hm(r=zm(n,t))||e!=="string"&&Wm(n=t.toString)&&!Hm(r=zm(n,t)))return r;throw new PV("Can't convert object to primitive value")},cR={exports:{}},JE=cn,AV=Object.defineProperty,RV=function(t,e){try{AV(JE,t,{value:e,configurable:!0,writable:!0})}catch{JE[t]=e}return e},bV=cn,xV=RV,ZE="__core-js_shared__",eT=cR.exports=bV[ZE]||xV(ZE,{});(eT.versions||(eT.versions=[])).push({version:"3.38.0",mode:"pure",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Y0=cR.exports,tT=Y0,Ec=function(t,e){return tT[t]||(tT[t]=e||{})},kV=wc,OV=Object,ys=function(t){return OV(kV(t))},DV=ct,NV=ys,MV=DV({}.hasOwnProperty),wr=Object.hasOwn||function(e,n){return MV(NV(e),n)},LV=ct,VV=0,FV=Math.random(),$V=LV(1 .toString),X0=function(t){return"Symbol("+(t===void 0?"":t)+")_"+$V(++VV+FV,36)},jV=cn,UV=Ec,nT=wr,BV=X0,zV=el,WV=uR,aa=jV.Symbol,Km=UV("wks"),HV=WV?aa.for||aa:aa&&aa.withoutSetter||BV,Er=function(t){return nT(Km,t)||(Km[t]=zV&&nT(aa,t)?aa[t]:HV("Symbol."+t)),Km[t]},KV=gs,rT=jr,iT=ep,GV=IV,qV=CV,QV=Er,YV=TypeError,XV=QV("toPrimitive"),hR=function(t,e){if(!rT(t)||iT(t))return t;var n=GV(t,XV),r;if(n){if(e===void 0&&(e="default"),r=KV(n,t,e),!rT(r)||iT(r))return r;throw new YV("Can't convert object to primitive value")}return e===void 0&&(e="number"),qV(t,e)},JV=hR,ZV=ep,J0=function(t){var e=JV(t,"string");return ZV(e)?e:e+""},e3=cn,sT=jr,Wv=e3.document,t3=sT(Wv)&&sT(Wv.createElement),dR=function(t){return t3?Wv.createElement(t):{}},n3=Vn,r3=ut,i3=dR,fR=!n3&&!r3(function(){return Object.defineProperty(i3("div"),"a",{get:function(){return 7}}).a!==7}),s3=Vn,o3=gs,a3=Yf,l3=Xf,u3=_i,c3=J0,h3=wr,d3=fR,oT=Object.getOwnPropertyDescriptor;_c.f=s3?oT:function(e,n){if(e=u3(e),n=c3(n),d3)try{return oT(e,n)}catch{}if(h3(e,n))return l3(!o3(a3.f,e,n),e[n])};var f3=ut,p3=Ln,m3=/#|\.prototype\./,Tc=function(t,e){var n=v3[g3(t)];return n===_3?!0:n===y3?!1:p3(e)?f3(e):!!e},g3=Tc.normalize=function(t){return String(t).replace(m3,".").toLowerCase()},v3=Tc.data={},y3=Tc.NATIVE="N",_3=Tc.POLYFILL="P",w3=Tc,aT=rR,E3=tp,T3=yc,S3=aT(aT.bind),pR=function(t,e){return E3(t),e===void 0?t:T3?S3(t,e):function(){return t.apply(e,arguments)}},wi={},I3=Vn,P3=ut,mR=I3&&P3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),C3=jr,A3=String,R3=TypeError,tl=function(t){if(C3(t))return t;throw new R3(A3(t)+" is not an object")},b3=Vn,x3=fR,k3=mR,Oh=tl,lT=J0,O3=TypeError,Gm=Object.defineProperty,D3=Object.getOwnPropertyDescriptor,qm="enumerable",Qm="configurable",Ym="writable";wi.f=b3?k3?function(e,n,r){if(Oh(e),n=lT(n),Oh(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Ym in r&&!r[Ym]){var i=D3(e,n);i&&i[Ym]&&(e[n]=r.value,r={configurable:Qm in r?r[Qm]:i[Qm],enumerable:qm in r?r[qm]:i[qm],writable:!1})}return Gm(e,n,r)}:Gm:function(e,n,r){if(Oh(e),n=lT(n),Oh(r),x3)try{return Gm(e,n,r)}catch{}if("get"in r||"set"in r)throw new O3("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var N3=Vn,M3=wi,L3=Xf,np=N3?function(t,e,n){return M3.f(t,e,L3(1,n))}:function(t,e,n){return t[e]=n,t},Fl=cn,V3=Qf,F3=rR,$3=Ln,j3=_c.f,U3=w3,jo=En,B3=pR,Uo=np,uT=wr,z3=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return V3(t,this,arguments)};return e.prototype=t.prototype,e},St=function(t,e){var n=t.target,r=t.global,i=t.stat,s=t.proto,o=r?Fl:i?Fl[n]:Fl[n]&&Fl[n].prototype,a=r?jo:jo[n]||Uo(jo,n,{})[n],l=a.prototype,c,h,d,f,m,w,T,P,_;for(f in e)c=U3(r?f:n+(i?".":"#")+f,t.forced),h=!c&&o&&uT(o,f),w=a[f],h&&(t.dontCallGetSet?(_=j3(o,f),T=_&&_.value):T=o[f]),m=h&&T?T:e[f],!(!c&&!s&&typeof w==typeof m)&&(t.bind&&h?P=B3(m,Fl):t.wrap&&h?P=z3(m):s&&$3(m)?P=F3(m):P=m,(t.sham||m&&m.sham||w&&w.sham)&&Uo(P,"sham",!0),Uo(a,f,P),s&&(d=n+"Prototype",uT(jo,d)||Uo(jo,d,{}),Uo(jo[d],f,m),t.real&&l&&(c||!l[f])&&Uo(l,f,m)))},W3=Math.ceil,H3=Math.floor,K3=Math.trunc||function(e){var n=+e;return(n>0?H3:W3)(n)},G3=K3,Z0=function(t){var e=+t;return e!==e||e===0?0:G3(e)},q3=Z0,Q3=Math.max,Y3=Math.min,gR=function(t,e){var n=q3(t);return n<0?Q3(n+e,0):Y3(n,e)},X3=Z0,J3=Math.min,vR=function(t){var e=X3(t);return e>0?J3(e,9007199254740991):0},Z3=vR,Sc=function(t){return Z3(t.length)},e5=_i,t5=gR,n5=Sc,cT=function(t){return function(e,n,r){var i=e5(e),s=n5(i);if(s===0)return!t&&-1;var o=t5(r,s),a;if(t&&n!==n){for(;s>o;)if(a=i[o++],a!==a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===n)return t||o||0;return!t&&-1}},r5={includes:cT(!0),indexOf:cT(!1)},rp={},i5=ct,Xm=wr,s5=_i,o5=r5.indexOf,a5=rp,hT=i5([].push),yR=function(t,e){var n=s5(t),r=0,i=[],s;for(s in n)!Xm(a5,s)&&Xm(n,s)&&hT(i,s);for(;e.length>r;)Xm(n,s=e[r++])&&(~o5(i,s)||hT(i,s));return i},e1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],l5=yR,u5=e1,ip=Object.keys||function(e){return l5(e,u5)},Ic={};Ic.f=Object.getOwnPropertySymbols;var dT=Vn,c5=ct,h5=gs,d5=ut,Jm=ip,f5=Ic,p5=Yf,m5=ys,g5=Jf,Bo=Object.assign,fT=Object.defineProperty,v5=c5([].concat),y5=!Bo||d5(function(){if(dT&&Bo({b:1},Bo(fT({},"a",{enumerable:!0,get:function(){fT(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(i){e[i]=i}),Bo({},t)[n]!==7||Jm(Bo({},e)).join("")!==r})?function(e,n){for(var r=m5(e),i=arguments.length,s=1,o=f5.f,a=p5.f;i>s;)for(var l=g5(arguments[s++]),c=o?v5(Jm(l),o(l)):Jm(l),h=c.length,d=0,f;h>d;)f=c[d++],(!dT||h5(a,l,f))&&(r[f]=l[f]);return r}:Bo,_5=St,pT=y5;_5({target:"Object",stat:!0,arity:2,forced:Object.assign!==pT},{assign:pT});var w5=En,E5=w5.Object.assign,T5=E5,S5=T5;const Hv=lt(S5);function hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}function I5(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _R(t){var e=I5(t,"string");return Na(e)=="symbol"?e:e+""}function P5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_R(r.key),r)}}function dn(t,e,n){return e&&P5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var C5=Er,A5=C5("toStringTag"),wR={};wR[A5]="z";var t1=String(wR)==="[object z]",R5=t1,b5=Ln,ad=ms,x5=Er,k5=x5("toStringTag"),O5=Object,D5=ad(function(){return arguments}())==="Arguments",N5=function(t,e){try{return t[e]}catch{}},n1=R5?ad:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=N5(e=O5(t),k5))=="string"?n:D5?ad(e):(r=ad(e))==="Object"&&b5(e.callee)?"Arguments":r},M5=n1,L5=String,Io=function(t){if(M5(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return L5(t)},V5=Z0,F5=Io,$5=wc,j5=RangeError,U5=function(e){var n=F5($5(this)),r="",i=V5(e);if(i<0||i===1/0)throw new j5("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(n+=n))i&1&&(r+=n);return r},ER=ct,B5=vR,mT=Io,z5=U5,W5=wc,H5=ER(z5),K5=ER("".slice),G5=Math.ceil,gT=function(t){return function(e,n,r){var i=mT(W5(e)),s=B5(n),o=i.length,a=r===void 0?" ":mT(r),l,c;return s<=o||a===""?i:(l=s-o,c=H5(a,G5(l/a.length)),c.length>l&&(c=K5(c,0,l)),t?i+c:c+i)}},q5={start:gT(!1),end:gT(!0)},_s=ct,vT=ut,Ms=q5.start,Q5=RangeError,Y5=isFinite,X5=Math.abs,Ei=Date.prototype,Zm=Ei.toISOString,J5=_s(Ei.getTime),Z5=_s(Ei.getUTCDate),e9=_s(Ei.getUTCFullYear),t9=_s(Ei.getUTCHours),n9=_s(Ei.getUTCMilliseconds),r9=_s(Ei.getUTCMinutes),i9=_s(Ei.getUTCMonth),s9=_s(Ei.getUTCSeconds),o9=vT(function(){return Zm.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!vT(function(){Zm.call(new Date(NaN))})?function(){if(!Y5(J5(this)))throw new Q5("Invalid time value");var e=this,n=e9(e),r=n9(e),i=n<0?"-":n>9999?"+":"";return i+Ms(X5(n),i?6:4,0)+"-"+Ms(i9(e)+1,2,0)+"-"+Ms(Z5(e),2,0)+"T"+Ms(t9(e),2,0)+":"+Ms(r9(e),2,0)+":"+Ms(s9(e),2,0)+"."+Ms(r,3,0)+"Z"}:Zm,a9=St,TR=gs,l9=ys,u9=hR,c9=o9,h9=ms,d9=ut,f9=d9(function(){return new Date(NaN).toJSON()!==null||TR(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});a9({target:"Date",proto:!0,forced:f9},{toJSON:function(e){var n=l9(this),r=u9(n,"number");return typeof r=="number"&&!isFinite(r)?null:!("toISOString"in n)&&h9(n)==="Date"?TR(c9,n):n.toISOString()}});var p9=ct,sp=p9([].slice),m9=ms,op=Array.isArray||function(e){return m9(e)==="Array"},g9=ct,yT=op,v9=Ln,_T=ms,y9=Io,wT=g9([].push),_9=function(t){if(v9(t))return t;if(yT(t)){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];typeof i=="string"?wT(n,i):(typeof i=="number"||_T(i)==="Number"||_T(i)==="String")&&wT(n,y9(i))}var s=n.length,o=!0;return function(a,l){if(o)return o=!1,l;if(yT(this))return l;for(var c=0;c<s;c++)if(n[c]===a)return l}}},w9=St,SR=vs,IR=Qf,E9=gs,Pc=ct,PR=ut,ET=Ln,TT=ep,CR=sp,T9=_9,S9=el,I9=String,Ji=SR("JSON","stringify"),Dh=Pc(/./.exec),ST=Pc("".charAt),P9=Pc("".charCodeAt),C9=Pc("".replace),A9=Pc(1 .toString),R9=/[\uD800-\uDFFF]/g,IT=/^[\uD800-\uDBFF]$/,PT=/^[\uDC00-\uDFFF]$/,CT=!S9||PR(function(){var t=SR("Symbol")("stringify detection");return Ji([t])!=="[null]"||Ji({a:t})!=="{}"||Ji(Object(t))!=="{}"}),AT=PR(function(){return Ji("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ji("\uDEAD")!=='"\\udead"'}),b9=function(t,e){var n=CR(arguments),r=T9(e);if(!(!ET(r)&&(t===void 0||TT(t))))return n[1]=function(i,s){if(ET(r)&&(s=E9(r,this,I9(i),s)),!TT(s))return s},IR(Ji,null,n)},x9=function(t,e,n){var r=ST(n,e-1),i=ST(n,e+1);return Dh(IT,t)&&!Dh(PT,i)||Dh(PT,t)&&!Dh(IT,r)?"\\u"+A9(P9(t,0),16):t};Ji&&w9({target:"JSON",stat:!0,arity:3,forced:CT||AT},{stringify:function(e,n,r){var i=CR(arguments),s=IR(CT?b9:Ji,null,i);return AT&&typeof s=="string"?C9(s,R9,x9):s}});var Kv=En,k9=Qf;Kv.JSON||(Kv.JSON={stringify:JSON.stringify});var O9=function(e,n,r){return k9(Kv.JSON.stringify,null,arguments)},D9=O9,N9=D9;const M9=lt(N9);var L9=ct,V9=Ln,Gv=Y0,F9=L9(Function.toString);V9(Gv.inspectSource)||(Gv.inspectSource=function(t){return F9(t)});var $9=Gv.inspectSource,j9=ct,U9=ut,AR=Ln,B9=n1,z9=vs,W9=$9,RR=function(){},bR=z9("Reflect","construct"),r1=/^\s*(?:class|function)\b/,H9=j9(r1.exec),K9=!r1.test(RR),$l=function(e){if(!AR(e))return!1;try{return bR(RR,[],e),!0}catch{return!1}},xR=function(e){if(!AR(e))return!1;switch(B9(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return K9||!!H9(r1,W9(e))}catch{return!0}};xR.sham=!0;var i1=!bR||U9(function(){var t;return $l($l.call)||!$l(Object)||!$l(function(){t=!0})||t})?xR:$l,RT=op,G9=i1,q9=jr,Q9=Er,Y9=Q9("species"),bT=Array,X9=function(t){var e;return RT(t)&&(e=t.constructor,G9(e)&&(e===bT||RT(e.prototype))?e=void 0:q9(e)&&(e=e[Y9],e===null&&(e=void 0))),e===void 0?bT:e},J9=X9,kR=function(t,e){return new(J9(t))(e===0?0:e)},Z9=pR,e6=ct,t6=Jf,n6=ys,r6=Sc,i6=kR,xT=e6([].push),bi=function(t){var e=t===1,n=t===2,r=t===3,i=t===4,s=t===6,o=t===7,a=t===5||s;return function(l,c,h,d){for(var f=n6(l),m=t6(f),w=r6(m),T=Z9(c,h),P=0,_=d||i6,y=e?_(l,w):n||o?_(l,0):void 0,E,b;w>P;P++)if((a||P in m)&&(E=m[P],b=T(E,P,f),t))if(e)y[P]=b;else if(b)switch(t){case 3:return!0;case 5:return E;case 6:return P;case 2:xT(y,E)}else switch(t){case 4:return!1;case 7:xT(y,E)}return s?-1:r||i?i:y}},s1={forEach:bi(0),map:bi(1),filter:bi(2),some:bi(3),every:bi(4),find:bi(5),findIndex:bi(6),filterReject:bi(7)},s6=ut,o6=Er,a6=Zf,l6=o6("species"),ap=function(t){return a6>=51||!s6(function(){var e=[],n=e.constructor={};return n[l6]=function(){return{foo:1}},e[t](Boolean).foo!==1})},u6=St,c6=s1.filter,h6=ap,d6=h6("filter");u6({target:"Array",proto:!0,forced:!d6},{filter:function(e){return c6(this,e,arguments.length>1?arguments[1]:void 0)}});var f6=cn,p6=En,Cc=function(t,e){var n=p6[t+"Prototype"],r=n&&n[e];if(r)return r;var i=f6[t],s=i&&i.prototype;return s&&s[e]},m6=Cc,g6=m6("Array","filter"),v6=So,y6=g6,eg=Array.prototype,_6=function(t){var e=t.filter;return t===eg||v6(eg,t)&&e===eg.filter?y6:e},w6=_6,E6=w6;const lp=lt(E6);var T6=Vn,S6=wi,I6=Xf,o1=function(t,e,n){T6?S6.f(t,e,I6(0,n)):t[e]=n},P6=St,kT=op,C6=i1,A6=jr,OT=gR,R6=Sc,b6=_i,x6=o1,k6=Er,O6=ap,D6=sp,N6=O6("slice"),M6=k6("species"),tg=Array,L6=Math.max;P6({target:"Array",proto:!0,forced:!N6},{slice:function(e,n){var r=b6(this),i=R6(r),s=OT(e,i),o=OT(n===void 0?i:n,i),a,l,c;if(kT(r)&&(a=r.constructor,C6(a)&&(a===tg||kT(a.prototype))?a=void 0:A6(a)&&(a=a[M6],a===null&&(a=void 0)),a===tg||a===void 0))return D6(r,s,o);for(l=new(a===void 0?tg:a)(L6(o-s,0)),c=0;s<o;s++,c++)s in r&&x6(l,c,r[s]);return l.length=c,l}});var V6=Cc,F6=V6("Array","slice"),$6=So,j6=F6,ng=Array.prototype,U6=function(t){var e=t.slice;return t===ng||$6(ng,t)&&e===ng.slice?j6:e},B6=U6,z6=B6;const OR=lt(z6);var W6="react-avatar/",rg="failing",DT=function(){try{return"localStorage"in window&&window.localStorage}catch{return!1}}(),Gd=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hn(this,t);var n=e.cachePrefix,r=n===void 0?W6:n,i=e.sourceTTL,s=i===void 0?7*24*3600*1e3:i,o=e.sourceSize,a=o===void 0?20:o;this.cachePrefix=r,this.sourceTTL=s,this.sourceSize=a}return dn(t,[{key:"set",value:function(n,r){if(DT){r=M9(r);try{localStorage.setItem(this.cachePrefix+n,r)}catch(i){console.error(i)}}}},{key:"get",value:function(n){if(!DT)return null;var r=localStorage.getItem(this.cachePrefix+n);return r?JSON.parse(r):null}},{key:"sourceFailed",value:function(n){var r=this.get(rg)||[];return r=lp(r).call(r,function(i){var s=i.expires>0&&i.expires<Date.now(),o=i===n||i.url==n;return!s&&!o}),r.unshift({url:n,expires:Date.now()+this.sourceTTL}),r=OR(r).call(r,0,this.sourceSize-1),this.set(rg,r)}},{key:"hasSourceFailedBefore",value:function(n){var r=this.get(rg)||[];return r.some(function(i){var s=i.expires>0&&i.expires<Date.now(),o=i===n||i.url==n;return o&&!s})}}]),t}();const H6=new Gd;var DR=ct,K6=tp,G6=jr,q6=wr,NT=sp,Q6=yc,NR=Function,Y6=DR([].concat),X6=DR([].join),ig={},J6=function(t,e,n){if(!q6(ig,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";ig[e]=NR("C,a","return new C("+X6(r,",")+")")}return ig[e](t,n)},Z6=Q6?NR.bind:function(e){var n=K6(this),r=n.prototype,i=NT(arguments,1),s=function(){var a=Y6(i,NT(arguments));return this instanceof s?J6(n,a.length,a):n.apply(e,a)};return G6(r)&&(s.prototype=r),s},eF=i1,tF=Q0,nF=TypeError,rF=function(t){if(eF(t))return t;throw new nF(tF(t)+" is not a constructor")},up={},iF=Vn,sF=mR,oF=wi,aF=tl,lF=_i,uF=ip;up.f=iF&&!sF?Object.defineProperties:function(e,n){aF(e);for(var r=lF(n),i=uF(n),s=i.length,o=0,a;s>o;)oF.f(e,a=i[o++],r[a]);return e};var cF=vs,hF=cF("document","documentElement"),dF=Ec,fF=X0,MT=dF("keys"),a1=function(t){return MT[t]||(MT[t]=fF(t))},pF=tl,mF=up,LT=e1,gF=rp,vF=hF,yF=dR,_F=a1,VT=">",FT="<",qv="prototype",Qv="script",MR=_F("IE_PROTO"),sg=function(){},LR=function(t){return FT+Qv+VT+t+FT+"/"+Qv+VT},$T=function(t){t.write(LR("")),t.close();var e=t.parentWindow.Object;return t=null,e},wF=function(){var t=yF("iframe"),e="java"+Qv+":",n;return t.style.display="none",vF.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(LR("document.F=Object")),n.close(),n.F},Nh,ld=function(){try{Nh=new ActiveXObject("htmlfile")}catch{}ld=typeof document<"u"?document.domain&&Nh?$T(Nh):wF():$T(Nh);for(var t=LT.length;t--;)delete ld[qv][LT[t]];return ld()};gF[MR]=!0;var VR=Object.create||function(e,n){var r;return e!==null?(sg[qv]=pF(e),r=new sg,sg[qv]=null,r[MR]=e):r=ld(),n===void 0?r:mF.f(r,n)},EF=St,TF=vs,og=Qf,SF=Z6,jT=rF,IF=tl,UT=jr,PF=VR,FR=ut,l1=TF("Reflect","construct"),CF=Object.prototype,AF=[].push,$R=FR(function(){function t(){}return!(l1(function(){},[],t)instanceof t)}),jR=!FR(function(){l1(function(){})}),BT=$R||jR;EF({target:"Reflect",stat:!0,forced:BT,sham:BT},{construct:function(e,n){jT(e),IF(n);var r=arguments.length<3?e:jT(arguments[2]);if(jR&&!$R)return l1(e,n,r);if(e===r){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var i=[null];return og(AF,i,n),new(og(SF,e,i))}var s=r.prototype,o=PF(UT(s)?s:CF),a=og(e,o,n);return UT(a)?a:o}});var RF=En,bF=RF.Reflect.construct,xF=bF,kF=xF;const gt=lt(kF);function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Yv(t,e)}function Ac(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function qd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rc(t,e){if(e&&(Na(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qd(t)}function Zn(t){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zn(t)}function ie(t,e,n){return(e=_R(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var OF=St,DF=ys,UR=ip,NF=ut,MF=NF(function(){UR(1)});OF({target:"Object",stat:!0,forced:MF},{keys:function(e){return UR(DF(e))}});var LF=En,VF=LF.Object.keys,FF=VF,$F=FF;const u1=lt($F);var BR={exports:{}},jF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UF=jF,BF=UF;function zR(){}function WR(){}WR.resetWarningCache=zR;var zF=function(){function t(r,i,s,o,a,l){if(l!==BF){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WR,resetWarningCache:zR};return n.PropTypes=n,n};BR.exports=zF();var c1=BR.exports;const Q=lt(c1);function WF(t){if(Array.isArray(t))return t}function HF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function HR(t,e){if(t){if(typeof t=="string")return Xv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xv(t,e):void 0}}function KF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(t,e){return WF(t)||HF(t,e)||HR(t,e)||KF()}function qF(t){if(Array.isArray(t))return Xv(t)}function QF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(t){return qF(t)||QF(t)||HR(t)||YF()}var JF=ut,ZF=function(t,e){var n=[][t];return!!n&&JF(function(){n.call(null,e||function(){return 1},1)})},e$=St,t$=s1.map,n$=ap,r$=n$("map");e$({target:"Array",proto:!0,forced:!r$},{map:function(e){return t$(this,e,arguments.length>1?arguments[1]:void 0)}});var i$=Cc,s$=i$("Array","map"),o$=So,a$=s$,ag=Array.prototype,l$=function(t){var e=t.map;return t===ag||o$(ag,t)&&e===ag.map?a$:e},u$=l$,c$=u$;const KR=lt(c$);var h$=tp,d$=ys,f$=Jf,p$=Sc,zT=TypeError,WT="Reduce of empty array with no initial value",HT=function(t){return function(e,n,r,i){var s=d$(e),o=f$(s),a=p$(s);if(h$(n),a===0&&r<2)throw new zT(WT);var l=t?a-1:0,c=t?-1:1;if(r<2)for(;;){if(l in o){i=o[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new zT(WT)}for(;t?l>=0:a>l;l+=c)l in o&&(i=n(i,o[l],l,s));return i}},m$={left:HT(!1),right:HT(!0)},jl=cn,g$=aR,v$=ms,Mh=function(t){return g$.slice(0,t.length)===t},y$=function(){return Mh("Bun/")?"BUN":Mh("Cloudflare-Workers")?"CLOUDFLARE":Mh("Deno/")?"DENO":Mh("Node.js/")?"NODE":jl.Bun&&typeof Bun.version=="string"?"BUN":jl.Deno&&typeof Deno.version=="object"?"DENO":v$(jl.process)==="process"?"NODE":jl.window&&jl.document?"BROWSER":"REST"}(),_$=y$,w$=_$==="NODE",E$=St,T$=m$.left,S$=ZF,KT=Zf,I$=w$,P$=!I$&&KT>79&&KT<83,C$=P$||!S$("reduce");E$({target:"Array",proto:!0,forced:C$},{reduce:function(e){var n=arguments.length;return T$(this,e,n,n>1?arguments[1]:void 0)}});var A$=Cc,R$=A$("Array","reduce"),b$=So,x$=R$,lg=Array.prototype,k$=function(t){var e=t.reduce;return t===lg||b$(lg,t)&&e===lg.reduce?x$:e},O$=k$,D$=O$;const GR=lt(D$);var qR=`	
\v\f\r \u2028\u2029\uFEFF`,N$=ct,M$=wc,L$=Io,Jv=qR,GT=N$("".replace),V$=RegExp("^["+Jv+"]+"),F$=RegExp("(^|[^"+Jv+"])["+Jv+"]+$"),ug=function(t){return function(e){var n=L$(M$(e));return t&1&&(n=GT(n,V$,"")),t&2&&(n=GT(n,F$,"$1")),n}},$$={start:ug(1),end:ug(2),trim:ug(3)},QR=cn,j$=ut,U$=ct,B$=Io,z$=$$.trim,W$=qR,H$=U$("".charAt),Qd=QR.parseFloat,qT=QR.Symbol,QT=qT&&qT.iterator,K$=1/Qd(W$+"-0")!==-1/0||QT&&!j$(function(){Qd(Object(QT))}),G$=K$?function(e){var n=z$(B$(e)),r=Qd(n);return r===0&&H$(n,0)==="-"?-0:r}:Qd,q$=St,YT=G$;q$({global:!0,forced:parseFloat!==YT},{parseFloat:YT});var Q$=En,Y$=Q$.parseFloat,X$=Y$,J$=X$;const Z$=lt(J$);var e8=function(){var t;return!!(typeof window<"u"&&window!==null&&(t="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia(t).matches))};const t8=lt(e8);var n8=t8(),YR=["#A62A21","#7e3794","#0B51C1","#3A6024","#A81563","#B3003C"],r8=/^([-+]?(?:\d+(?:\.\d+)?|\.\d+))([a-z]{2,4}|%)?$/;function i8(t,e){for(var n,r=KR(n=XF(t)).call(n,function(c){return c.charCodeAt(0)}),i=r.length,s=i%(e-1)+1,o=GR(r).call(r,function(c,h){return c+h})%e,a=r[0]%e,l=0;l<i;l++)a=(s*a+o)%e;return a}function h1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YR;if(!t)return"transparent";var n=i8(t,e.length);return e[n]}function cp(t){t=""+t;var e=r8.exec(t)||[],n=GF(e,3),r=n[1],i=r===void 0?0:r,s=n[2],o=s===void 0?"px":s;return{value:Z$(i),str:i+o,unit:o}}function hp(t){return t=cp(t),isNaN(t.value)?t=512:t.unit==="px"?t=t.value:t.value===0?t=0:t=512,n8&&(t=t*2),t}function XR(t,e){var n,r,i,s=e.maxInitials;return OR(n=lp(r=KR(i=t.split(/\s/)).call(i,function(o){return o.substring(0,1).toUpperCase()})).call(r,function(o){return!!o})).call(n,0,s).join("").toUpperCase()}var Lh={};function s8(t,e){if(Lh[e]){Lh[e].push(t);return}var n=Lh[e]=[t];setTimeout(function(){delete Lh[e],n.forEach(function(r){return r()})},e)}function Zv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];if(s||s==="")return s;if(s===!1||s===null)return null}}function d1(t){if(t===!0)return"100%";if(t!==!1)return t}function o8(t){var e=a8();return function(){var r=Zn(t),i;if(e){var s=Zn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Rc(this,i)}}function a8(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var ey={cache:H6,colors:YR,initials:XR,avatarRedirectUrl:null},l8=u1(ey),f1=ve.createContext&&ve.createContext(),dp=!f1,u8=dp?null:f1.Consumer,c8=ve.forwardRef||function(t){return t},ss=function(t){Ac(n,t);var e=o8(n);function n(){return hn(this,n),e.apply(this,arguments)}return dn(n,[{key:"_getContext",value:function(){var i=this,s={};return l8.forEach(function(o){typeof i.props[o]<"u"&&(s[o]=i.props[o])}),s}},{key:"render",value:function(){var i=this.props.children;return dp?ve.Children.only(i):ve.createElement(f1.Provider,{value:this._getContext()},ve.Children.only(i))}}]),n}(ve.Component);ie(ss,"displayName","ConfigProvider");ie(ss,"propTypes",{cache:Q.object,colors:Q.arrayOf(Q.string),initials:Q.func,avatarRedirectUrl:Q.string,children:Q.node});var JR=function(e){function n(r,i){if(dp){var s=i&&i.reactAvatar;return ve.createElement(e,Da({},ey,s,r))}return ve.createElement(u8,null,function(o){return ve.createElement(e,Da({ref:i},ey,o,r))})}return n.contextTypes=ss.childContextTypes,c8(n)};dp&&(ss.childContextTypes={reactAvatar:Q.object},ss.prototype.getChildContext=function(){return{reactAvatar:this._getContext()}});var fp={},h8=yR,d8=e1,f8=d8.concat("length","prototype");fp.f=Object.getOwnPropertyNames||function(e){return h8(e,f8)};var ZR={},p8=ms,m8=_i,eb=fp.f,g8=sp,tb=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],v8=function(t){try{return eb(t)}catch{return g8(tb)}};ZR.f=function(e){return tb&&p8(e)==="Window"?v8(e):eb(m8(e))};var y8=np,nb=function(t,e,n,r){return r&&r.enumerable?t[e]=n:y8(t,e,n),t},_8=wi,w8=function(t,e,n){return _8.f(t,e,n)},p1={},E8=Er;p1.f=E8;var XT=En,T8=wr,S8=p1,I8=wi.f,P8=function(t){var e=XT.Symbol||(XT.Symbol={});T8(e,t)||I8(e,t,{value:S8.f(t)})},C8=gs,A8=vs,R8=Er,b8=nb,x8=function(){var t=A8("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,r=R8("toPrimitive");e&&!e[r]&&b8(e,r,function(i){return C8(n,this)},{arity:1})},k8=t1,O8=n1,D8=k8?{}.toString:function(){return"[object "+O8(this)+"]"},N8=t1,M8=wi.f,L8=np,V8=wr,F8=D8,$8=Er,JT=$8("toStringTag"),j8=function(t,e,n,r){var i=n?t:t&&t.prototype;i&&(V8(i,JT)||M8(i,JT,{configurable:!0,value:e}),r&&!N8&&L8(i,"toString",F8))},U8=cn,B8=Ln,ZT=U8.WeakMap,z8=B8(ZT)&&/native code/.test(String(ZT)),W8=z8,rb=cn,H8=jr,K8=np,cg=wr,hg=Y0,G8=a1,q8=rp,eS="Object already initialized",ty=rb.TypeError,Q8=rb.WeakMap,Yd,Bu,Xd,Y8=function(t){return Xd(t)?Bu(t):Yd(t,{})},X8=function(t){return function(e){var n;if(!H8(e)||(n=Bu(e)).type!==t)throw new ty("Incompatible receiver, "+t+" required");return n}};if(W8||hg.state){var Ar=hg.state||(hg.state=new Q8);Ar.get=Ar.get,Ar.has=Ar.has,Ar.set=Ar.set,Yd=function(t,e){if(Ar.has(t))throw new ty(eS);return e.facade=t,Ar.set(t,e),e},Bu=function(t){return Ar.get(t)||{}},Xd=function(t){return Ar.has(t)}}else{var zo=G8("state");q8[zo]=!0,Yd=function(t,e){if(cg(t,zo))throw new ty(eS);return e.facade=t,K8(t,zo,e),e},Bu=function(t){return cg(t,zo)?t[zo]:{}},Xd=function(t){return cg(t,zo)}}var J8={set:Yd,get:Bu,has:Xd,enforce:Y8,getterFor:X8},pp=St,bc=cn,m1=gs,Z8=ct,Ma=Vn,La=el,ej=ut,At=wr,tj=So,ny=tl,mp=_i,g1=J0,nj=Io,ry=Xf,Va=VR,ib=ip,rj=fp,sb=ZR,ij=Ic,ob=_c,ab=wi,sj=up,lb=Yf,tS=nb,oj=w8,v1=Ec,aj=a1,ub=rp,nS=X0,lj=Er,uj=p1,cj=P8,hj=x8,dj=j8,cb=J8,gp=s1.forEach,mn=aj("hidden"),vp="Symbol",zu="prototype",fj=cb.set,rS=cb.getterFor(vp),hr=Object[zu],to=bc.Symbol,Yl=to&&to[zu],pj=bc.RangeError,mj=bc.TypeError,dg=bc.QObject,hb=ob.f,no=ab.f,db=sb.f,gj=lb.f,fb=Z8([].push),hi=v1("symbols"),xc=v1("op-symbols"),vj=v1("wks"),iy=!dg||!dg[zu]||!dg[zu].findChild,pb=function(t,e,n){var r=hb(hr,e);r&&delete hr[e],no(t,e,n),r&&t!==hr&&no(hr,e,r)},sy=Ma&&ej(function(){return Va(no({},"a",{get:function(){return no(this,"a",{value:7}).a}})).a!==7})?pb:no,fg=function(t,e){var n=hi[t]=Va(Yl);return fj(n,{type:vp,tag:t,description:e}),Ma||(n.description=e),n},yp=function(e,n,r){e===hr&&yp(xc,n,r),ny(e);var i=g1(n);return ny(r),At(hi,i)?(r.enumerable?(At(e,mn)&&e[mn][i]&&(e[mn][i]=!1),r=Va(r,{enumerable:ry(0,!1)})):(At(e,mn)||no(e,mn,ry(1,Va(null))),e[mn][i]=!0),sy(e,i,r)):no(e,i,r)},y1=function(e,n){ny(e);var r=mp(n),i=ib(r).concat(yb(r));return gp(i,function(s){(!Ma||m1(mb,r,s))&&yp(e,s,r[s])}),e},yj=function(e,n){return n===void 0?Va(e):y1(Va(e),n)},mb=function(e){var n=g1(e),r=m1(gj,this,n);return this===hr&&At(hi,n)&&!At(xc,n)?!1:r||!At(this,n)||!At(hi,n)||At(this,mn)&&this[mn][n]?r:!0},gb=function(e,n){var r=mp(e),i=g1(n);if(!(r===hr&&At(hi,i)&&!At(xc,i))){var s=hb(r,i);return s&&At(hi,i)&&!(At(r,mn)&&r[mn][i])&&(s.enumerable=!0),s}},vb=function(e){var n=db(mp(e)),r=[];return gp(n,function(i){!At(hi,i)&&!At(ub,i)&&fb(r,i)}),r},yb=function(t){var e=t===hr,n=db(e?xc:mp(t)),r=[];return gp(n,function(i){At(hi,i)&&(!e||At(hr,i))&&fb(r,hi[i])}),r};La||(to=function(){if(tj(Yl,this))throw new mj("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:nj(arguments[0]),n=nS(e),r=function(i){var s=this===void 0?bc:this;s===hr&&m1(r,xc,i),At(s,mn)&&At(s[mn],n)&&(s[mn][n]=!1);var o=ry(1,i);try{sy(s,n,o)}catch(a){if(!(a instanceof pj))throw a;pb(s,n,o)}};return Ma&&iy&&sy(hr,n,{configurable:!0,set:r}),fg(n,e)},Yl=to[zu],tS(Yl,"toString",function(){return rS(this).tag}),tS(to,"withoutSetter",function(t){return fg(nS(t),t)}),lb.f=mb,ab.f=yp,sj.f=y1,ob.f=gb,rj.f=sb.f=vb,ij.f=yb,uj.f=function(t){return fg(lj(t),t)},Ma&&oj(Yl,"description",{configurable:!0,get:function(){return rS(this).description}}));pp({global:!0,constructor:!0,wrap:!0,forced:!La,sham:!La},{Symbol:to});gp(ib(vj),function(t){cj(t)});pp({target:vp,stat:!0,forced:!La},{useSetter:function(){iy=!0},useSimple:function(){iy=!1}});pp({target:"Object",stat:!0,forced:!La,sham:!Ma},{create:yj,defineProperty:yp,defineProperties:y1,getOwnPropertyDescriptor:gb});pp({target:"Object",stat:!0,forced:!La},{getOwnPropertyNames:vb});hj();dj(to,vp);ub[mn]=!0;var _j=el,_b=_j&&!!Symbol.for&&!!Symbol.keyFor,wj=St,Ej=vs,Tj=wr,Sj=Io,wb=Ec,Ij=_b,pg=wb("string-to-symbol-registry"),Pj=wb("symbol-to-string-registry");wj({target:"Symbol",stat:!0,forced:!Ij},{for:function(t){var e=Sj(t);if(Tj(pg,e))return pg[e];var n=Ej("Symbol")(e);return pg[e]=n,Pj[n]=e,n}});var Cj=St,Aj=wr,Rj=ep,bj=Q0,xj=Ec,kj=_b,iS=xj("symbol-to-string-registry");Cj({target:"Symbol",stat:!0,forced:!kj},{keyFor:function(e){if(!Rj(e))throw new TypeError(bj(e)+" is not a symbol");if(Aj(iS,e))return iS[e]}});var Oj=St,Dj=el,Nj=ut,Eb=Ic,Mj=ys,Lj=!Dj||Nj(function(){Eb.f(1)});Oj({target:"Object",stat:!0,forced:Lj},{getOwnPropertySymbols:function(e){var n=Eb.f;return n?n(Mj(e)):[]}});var Vj=En,Fj=Vj.Object.getOwnPropertySymbols,$j=Fj,jj=$j;const Jd=lt(jj);var Tb={exports:{}},Uj=St,Bj=ut,zj=_i,Sb=_c.f,Ib=Vn,Wj=!Ib||Bj(function(){Sb(1)});Uj({target:"Object",stat:!0,forced:Wj,sham:!Ib},{getOwnPropertyDescriptor:function(e,n){return Sb(zj(e),n)}});var Hj=En,Pb=Hj.Object,Kj=Tb.exports=function(e,n){return Pb.getOwnPropertyDescriptor(e,n)};Pb.getOwnPropertyDescriptor.sham&&(Kj.sham=!0);var Gj=Tb.exports,qj=Gj,Qj=qj;const _p=lt(Qj);var Yj=vs,Xj=ct,Jj=fp,Zj=Ic,e7=tl,t7=Xj([].concat),n7=Yj("Reflect","ownKeys")||function(e){var n=Jj.f(e7(e)),r=Zj.f;return r?t7(n,r(e)):n},r7=St,i7=Vn,s7=n7,o7=_i,a7=_c,l7=o1;r7({target:"Object",stat:!0,sham:!i7},{getOwnPropertyDescriptors:function(e){for(var n=o7(e),r=a7.f,i=s7(n),s={},o=0,a,l;i.length>o;)l=r(n,a=i[o++]),l!==void 0&&l7(s,a,l);return s}});var u7=En,c7=u7.Object.getOwnPropertyDescriptors,h7=c7,d7=h7;const Zd=lt(d7);var Cb={exports:{}},f7=St,p7=Vn,sS=up.f;f7({target:"Object",stat:!0,forced:Object.defineProperties!==sS,sham:!p7},{defineProperties:sS});var m7=En,Ab=m7.Object,g7=Cb.exports=function(e,n){return Ab.defineProperties(e,n)};Ab.defineProperties.sham&&(g7.sham=!0);var v7=Cb.exports,y7=v7,_7=y7;const Rb=lt(_7);var bb={exports:{}},w7=St,E7=Vn,oS=wi.f;w7({target:"Object",stat:!0,forced:Object.defineProperty!==oS,sham:!E7},{defineProperty:oS});var T7=En,xb=T7.Object,S7=bb.exports=function(e,n,r){return xb.defineProperty(e,n,r)};xb.defineProperty.sham&&(S7.sham=!0);var I7=bb.exports,P7=I7,C7=P7;const kb=lt(C7);var A7=function(){function t(){hn(this,t),this.sourcePointer=0,this.active=!0,this.fetch=null}return dn(t,[{key:"isActive",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(n.internal!==this||!this.fetch||this.active!==!0)}}]),t}();function aS(t,e){var n=u1(t);if(Jd){var r=Jd(t);e&&(r=lp(r).call(r,function(i){return _p(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Zd?Rb(t,Zd(n)):aS(Object(n)).forEach(function(r){kb(t,r,_p(n,r))})}return t}function R7(t){var e=b7();return function(){var r=Zn(t),i;if(e){var s=Zn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Rc(this,i)}}function b7(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}function x7(t,e,n){var r=e.cache,i=new t(e);if(!i.isCompatible(e))return n();i.get(function(s){var o=s&&s.src&&r.hasSourceFailedBefore(s.src);!o&&s?n(s):n()})}function k7(t){var e=t.sources,n=e===void 0?[]:e,r=GR(n).call(n,function(s,o){return Hv(s,o.propTypes)},{}),i=function(s){Ac(a,s);var o=R7(a);function a(l){var c;return hn(this,a),c=o.call(this,l),ie(qd(c),"_createFetcher",function(h){return function(d){var f=c.props.cache;if(h.isActive(c.state)){d&&d.type==="error"&&f.sourceFailed(d.target.src);var m=h.sourcePointer;if(n.length!==m){var w=n[m];h.sourcePointer++,x7(w,c.props,function(T){if(!T)return setTimeout(h.fetch,0);h.isActive(c.state)&&(T=mg({src:null,value:null,color:null},T),c.setState(function(P){return h.isActive(P)?T:{}}))})}}}}),ie(qd(c),"fetch",function(){var h=new A7;h.fetch=c._createFetcher(h),c.setState({internal:h},h.fetch)}),c.state={internal:null,src:null,value:null,color:l.color},c}return dn(a,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(c){var h=!1;for(var d in r)h=h||c[d]!==this.props[d];h&&setTimeout(this.fetch,0)}},{key:"componentWillUnmount",value:function(){this.state.internal&&(this.state.internal.active=!1)}},{key:"render",value:function(){var c=this.props,h=c.children,d=c.propertyName,f=this.state,m=f.src,w=f.value,T=f.color,P=f.sourceName,_=f.internal,y={src:m,value:w,color:T,sourceName:P,onRenderFailed:function(){return _&&_.fetch()}};if(typeof h=="function")return h(y);var E=ve.Children.only(h);return ve.cloneElement(E,ie({},d,y))}}]),a}(V.PureComponent);return ie(i,"displayName","AvatarDataProvider"),ie(i,"propTypes",mg(mg({},r),{},{cache:Q.object,propertyName:Q.string})),ie(i,"defaultProps",{propertyName:"avatar"}),ie(i,"Cache",Gd),ie(i,"ConfigProvider",ss),Hv(JR(i),{ConfigProvider:ss,Cache:Gd})}function lS(t,e){var n=u1(t);if(Jd){var r=Jd(t);e&&(r=lp(r).call(r,function(i){return _p(t,i).enumerable})),n.push.apply(n,r)}return n}function O7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Zd?Rb(t,Zd(n)):lS(Object(n)).forEach(function(r){kb(t,r,_p(n,r))})}return t}function D7(t){var e=N7();return function(){var r=Zn(t),i;if(e){var s=Zn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Rc(this,i)}}function N7(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var _1=function(t){Ac(n,t);var e=D7(n);function n(){return hn(this,n),e.apply(this,arguments)}return dn(n,[{key:"render",value:function(){var i=this.props,s=i.className,o=i.unstyled,a=i.round,l=i.style,c=i.avatar,h=i.onClick,d=i.children,f=c.sourceName,m=cp(this.props.size),w=o?null:O7({display:"inline-block",verticalAlign:"middle",width:m.str,height:m.str,borderRadius:d1(a),fontFamily:"Helvetica, Arial, sans-serif"},l),T=[s,"sb-avatar"];if(f){var P=f.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");T.push("sb-avatar--"+P)}return ve.createElement("div",{className:T.join(" "),onClick:h,style:w},d)}}]),n}(ve.PureComponent);ie(_1,"propTypes",{className:Q.string,round:Q.oneOfType([Q.bool,Q.string]),style:Q.object,size:Q.oneOfType([Q.number,Q.string]),unstyled:Q.bool,avatar:Q.object,onClick:Q.func,children:Q.node});function M7(t){var e=L7();return function(){var r=Zn(t),i;if(e){var s=Zn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Rc(this,i)}}function L7(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var w1=function(t){Ac(n,t);var e=M7(n);function n(){return hn(this,n),e.apply(this,arguments)}return dn(n,[{key:"render",value:function(){var i=this.props,s=i.className,o=i.round,a=i.unstyled,l=i.alt,c=i.title,h=i.name,d=i.value,f=i.avatar,m=cp(this.props.size),w=a?null:{maxWidth:"100%",width:m.str,height:m.str,borderRadius:d1(o)};return ve.createElement(_1,this.props,ve.createElement("img",{className:s+" sb-avatar__image",width:m.str,height:m.str,style:w,src:f.src,alt:Zv(l,h||d),title:Zv(c,h||d),onError:f.onRenderFailed}))}}]),n}(ve.PureComponent);ie(w1,"propTypes",{alt:Q.oneOfType([Q.string,Q.bool]),title:Q.oneOfType([Q.string,Q.bool]),name:Q.string,value:Q.string,avatar:Q.object,className:Q.string,unstyled:Q.bool,round:Q.oneOfType([Q.bool,Q.string,Q.number]),size:Q.oneOfType([Q.number,Q.string])});ie(w1,"defaultProps",{className:"",round:!1,size:100,unstyled:!1});var V7=TypeError,F7=9007199254740991,$7=function(t){if(t>F7)throw V7("Maximum allowed index exceeded");return t},j7=St,U7=ut,B7=op,z7=jr,W7=ys,H7=Sc,uS=$7,cS=o1,K7=kR,G7=ap,q7=Er,Q7=Zf,Ob=q7("isConcatSpreadable"),Y7=Q7>=51||!U7(function(){var t=[];return t[Ob]=!1,t.concat()[0]!==t}),X7=function(t){if(!z7(t))return!1;var e=t[Ob];return e!==void 0?!!e:B7(t)},J7=!Y7||!G7("concat");j7({target:"Array",proto:!0,arity:1,forced:J7},{concat:function(e){var n=W7(this),r=K7(n,0),i=0,s,o,a,l,c;for(s=-1,a=arguments.length;s<a;s++)if(c=s===-1?n:arguments[s],X7(c))for(l=H7(c),uS(i+l),o=0;o<l;o++,i++)o in c&&cS(r,i,c[o]);else uS(i+1),cS(r,i++,c);return r.length=i,r}});var Z7=Cc,eU=Z7("Array","concat"),tU=So,nU=eU,gg=Array.prototype,rU=function(t){var e=t.concat;return t===gg||tU(gg,t)&&e===gg.concat?nU:e},iU=rU,sU=iU;const pu=lt(sU);function oU(t){var e=aU();return function(){var r=Zn(t),i;if(e){var s=Zn(this).constructor;i=gt(r,arguments,s)}else i=r.apply(this,arguments);return Rc(this,i)}}function aU(){if(typeof Reflect>"u"||!gt||gt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(gt(Boolean,[],function(){})),!0}catch{return!1}}var E1=function(t){Ac(n,t);var e=oU(n);function n(){var r,i;hn(this,n);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return i=e.call.apply(e,pu(r=[this]).call(r,o)),ie(qd(i),"_scaleTextNode",function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,h=i.props,d=h.unstyled,f=h.textSizeRatio,m=h.textMarginRatio,w=h.avatar;if(i._node=l,!(!l||!l.parentNode||d||w.src||!i._mounted)){var T=l.parentNode,P=T.parentNode,_=T.getBoundingClientRect(),y=_.width,E=_.height;if(y==0&&E==0){var b=Math.min(c*1.5,500);s8(function(){return i._scaleTextNode(l,b)},b);return}if(!P.style.fontSize){var L=E/f;P.style.fontSize="".concat(L,"px")}T.style.fontSize=null;var j=l.getBoundingClientRect(),C=j.width;if(!(C<0)){var g=y*(1-2*m);C>g&&(T.style.fontSize="calc(1em * ".concat(g/C,")"))}}}),i}return dn(n,[{key:"componentDidMount",value:function(){this._mounted=!0,this._scaleTextNode(this._node)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var i=this.props,s=i.className,o=i.round,a=i.unstyled,l=i.title,c=i.name,h=i.value,d=i.avatar,f=cp(this.props.size),m=a?null:{width:f.str,height:f.str,lineHeight:"initial",textAlign:"center",color:this.props.fgColor,background:d.color,borderRadius:d1(o)},w=a?null:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"},T=a?null:{display:"table-cell",verticalAlign:"middle",fontSize:"100%",whiteSpace:"nowrap"},P=[d.value,this.props.size].join("");return ve.createElement(_1,this.props,ve.createElement("div",{className:s+" sb-avatar__text",style:m,title:Zv(l,c||h)},ve.createElement("div",{style:w},ve.createElement("span",{style:T},ve.createElement("span",{ref:this._scaleTextNode,key:P},d.value)))))}}]),n}(ve.PureComponent);ie(E1,"propTypes",{name:Q.string,value:Q.string,avatar:Q.object,title:Q.oneOfType([Q.string,Q.bool]),className:Q.string,unstyled:Q.bool,fgColor:Q.string,textSizeRatio:Q.number,textMarginRatio:Q.number,round:Q.oneOfType([Q.bool,Q.string,Q.number]),size:Q.oneOfType([Q.number,Q.string])});ie(E1,"defaultProps",{className:"",fgColor:"#FFF",round:!1,size:100,textSizeRatio:3,textMarginRatio:.15,unstyled:!1});function lU(t){var e=k7(t),n=JR(ve.forwardRef(function(r,i){return ve.createElement(e,Da({},r,{propertyName:"avatar"}),function(s){var o=s.src?w1:E1;return ve.createElement(o,Da({},r,{avatar:s,ref:i}))})}));return Hv(n,{getRandomColor:h1,ConfigProvider:ss,Cache:Gd})}var Db={exports:{}},Nb={exports:{}};(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return e.rotl(n,8)&16711935|e.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=e.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],i=0,s=0;i<n.length;i++,s+=8)r[s>>>5]|=n[i]<<24-s%32;return r},wordsToBytes:function(n){for(var r=[],i=0;i<n.length*32;i+=8)r.push(n[i>>>5]>>>24-i%32&255);return r},bytesToHex:function(n){for(var r=[],i=0;i<n.length;i++)r.push((n[i]>>>4).toString(16)),r.push((n[i]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],i=0;i<n.length;i+=2)r.push(parseInt(n.substr(i,2),16));return r},bytesToBase64:function(n){for(var r=[],i=0;i<n.length;i+=3)for(var s=n[i]<<16|n[i+1]<<8|n[i+2],o=0;o<4;o++)i*8+o*6<=n.length*8?r.push(t.charAt(s>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],i=0,s=0;i<n.length;s=++i%4)s!=0&&r.push((t.indexOf(n.charAt(i-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(n.charAt(i))>>>6-s*2);return r}};Nb.exports=e})();var uU=Nb.exports,oy={utf8:{stringToBytes:function(t){return oy.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(oy.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},hS=oy;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var cU=function(t){return t!=null&&(Mb(t)||hU(t)||!!t._isBuffer)};function Mb(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function hU(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Mb(t.slice(0,0))}(function(){var t=uU,e=hS.utf8,n=cU,r=hS.bin,i=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=r.stringToBytes(s):s=e.stringToBytes(s):n(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=t.bytesToWords(s),l=s.length*8,c=1732584193,h=-271733879,d=-1732584194,f=271733878,m=0;m<a.length;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var w=i._ff,T=i._gg,P=i._hh,_=i._ii,m=0;m<a.length;m+=16){var y=c,E=h,b=d,L=f;c=w(c,h,d,f,a[m+0],7,-680876936),f=w(f,c,h,d,a[m+1],12,-389564586),d=w(d,f,c,h,a[m+2],17,606105819),h=w(h,d,f,c,a[m+3],22,-1044525330),c=w(c,h,d,f,a[m+4],7,-176418897),f=w(f,c,h,d,a[m+5],12,1200080426),d=w(d,f,c,h,a[m+6],17,-1473231341),h=w(h,d,f,c,a[m+7],22,-45705983),c=w(c,h,d,f,a[m+8],7,1770035416),f=w(f,c,h,d,a[m+9],12,-1958414417),d=w(d,f,c,h,a[m+10],17,-42063),h=w(h,d,f,c,a[m+11],22,-1990404162),c=w(c,h,d,f,a[m+12],7,1804603682),f=w(f,c,h,d,a[m+13],12,-40341101),d=w(d,f,c,h,a[m+14],17,-1502002290),h=w(h,d,f,c,a[m+15],22,1236535329),c=T(c,h,d,f,a[m+1],5,-165796510),f=T(f,c,h,d,a[m+6],9,-1069501632),d=T(d,f,c,h,a[m+11],14,643717713),h=T(h,d,f,c,a[m+0],20,-373897302),c=T(c,h,d,f,a[m+5],5,-701558691),f=T(f,c,h,d,a[m+10],9,38016083),d=T(d,f,c,h,a[m+15],14,-660478335),h=T(h,d,f,c,a[m+4],20,-405537848),c=T(c,h,d,f,a[m+9],5,568446438),f=T(f,c,h,d,a[m+14],9,-1019803690),d=T(d,f,c,h,a[m+3],14,-187363961),h=T(h,d,f,c,a[m+8],20,1163531501),c=T(c,h,d,f,a[m+13],5,-1444681467),f=T(f,c,h,d,a[m+2],9,-51403784),d=T(d,f,c,h,a[m+7],14,1735328473),h=T(h,d,f,c,a[m+12],20,-1926607734),c=P(c,h,d,f,a[m+5],4,-378558),f=P(f,c,h,d,a[m+8],11,-2022574463),d=P(d,f,c,h,a[m+11],16,1839030562),h=P(h,d,f,c,a[m+14],23,-35309556),c=P(c,h,d,f,a[m+1],4,-1530992060),f=P(f,c,h,d,a[m+4],11,1272893353),d=P(d,f,c,h,a[m+7],16,-155497632),h=P(h,d,f,c,a[m+10],23,-1094730640),c=P(c,h,d,f,a[m+13],4,681279174),f=P(f,c,h,d,a[m+0],11,-358537222),d=P(d,f,c,h,a[m+3],16,-722521979),h=P(h,d,f,c,a[m+6],23,76029189),c=P(c,h,d,f,a[m+9],4,-640364487),f=P(f,c,h,d,a[m+12],11,-421815835),d=P(d,f,c,h,a[m+15],16,530742520),h=P(h,d,f,c,a[m+2],23,-995338651),c=_(c,h,d,f,a[m+0],6,-198630844),f=_(f,c,h,d,a[m+7],10,1126891415),d=_(d,f,c,h,a[m+14],15,-1416354905),h=_(h,d,f,c,a[m+5],21,-57434055),c=_(c,h,d,f,a[m+12],6,1700485571),f=_(f,c,h,d,a[m+3],10,-1894986606),d=_(d,f,c,h,a[m+10],15,-1051523),h=_(h,d,f,c,a[m+1],21,-2054922799),c=_(c,h,d,f,a[m+8],6,1873313359),f=_(f,c,h,d,a[m+15],10,-30611744),d=_(d,f,c,h,a[m+6],15,-1560198380),h=_(h,d,f,c,a[m+13],21,1309151649),c=_(c,h,d,f,a[m+4],6,-145523070),f=_(f,c,h,d,a[m+11],10,-1120210379),d=_(d,f,c,h,a[m+2],15,718787259),h=_(h,d,f,c,a[m+9],21,-343485551),c=c+y>>>0,h=h+E>>>0,d=d+b>>>0,f=f+L>>>0}return t.endian([c,h,d,f])};i._ff=function(s,o,a,l,c,h,d){var f=s+(o&a|~o&l)+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._gg=function(s,o,a,l,c,h,d){var f=s+(o&l|a&~l)+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._hh=function(s,o,a,l,c,h,d){var f=s+(o^a^l)+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._ii=function(s,o,a,l,c,h,d){var f=s+(a^(o|~l))+(c>>>0)+d;return(f<<h|f>>>32-h)+o},i._blocksize=16,i._digestsize=16,Db.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=t.wordsToBytes(i(s,o));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):t.bytesToHex(a)}})();var dU=Db.exports;const fU=lt(dU);var Lb=dn(function t(e){var n=this;hn(this,t),ie(this,"props",null),ie(this,"isCompatible",function(){return!!n.props.email||!!n.props.md5Email}),ie(this,"get",function(r){var i=n.props,s=i.md5Email||fU(i.email),o=hp(i.size),a="https://secure.gravatar.com/avatar/".concat(s,"?d=404");o&&(a+="&s=".concat(o)),r({sourceName:"gravatar",src:a})}),this.props=e});ie(Lb,"propTypes",{email:Q.string,md5Email:Q.string});var Vb=dn(function t(e){var n=this;hn(this,t),ie(this,"props",null),ie(this,"isCompatible",function(){return!!n.props.facebookId}),ie(this,"get",function(r){var i,s=n.props.facebookId,o=hp(n.props.size),a="https://graph.facebook.com/".concat(s,"/picture");o&&(a+=pu(i="?width=".concat(o,"&height=")).call(i,o)),r({sourceName:"facebook",src:a})}),this.props=e});ie(Vb,"propTypes",{facebookId:Q.string});var Fb=dn(function t(e){var n=this;hn(this,t),ie(this,"props",null),ie(this,"isCompatible",function(){return!!n.props.githubHandle}),ie(this,"get",function(r){var i=n.props.githubHandle,s=hp(n.props.size),o="https://avatars.githubusercontent.com/".concat(i,"?v=4");s&&(o+="&s=".concat(s)),r({sourceName:"github",src:o})}),this.props=e});ie(Fb,"propTypes",{githubHandle:Q.string});var $b=dn(function t(e){var n=this;hn(this,t),ie(this,"props",null),ie(this,"isCompatible",function(){return!!n.props.skypeId}),ie(this,"get",function(r){var i=n.props.skypeId,s="https://api.skype.com/users/".concat(i,"/profile/avatar");r({sourceName:"skype",src:s})}),this.props=e});ie($b,"propTypes",{skypeId:Q.string});var jb=function(){function t(e){var n=this;hn(this,t),ie(this,"props",null),ie(this,"isCompatible",function(){return!!(n.props.name||n.props.value||n.props.email)}),ie(this,"get",function(r){var i=n.getValue();if(!i)return r(null);r({sourceName:"text",value:i,color:n.getColor()})}),this.props=e}return dn(t,[{key:"getInitials",value:function(){var n=this.props,r=n.name,i=n.initials;return typeof i=="string"?i:typeof i=="function"?i(r,this.props):XR(r,this.props)}},{key:"getValue",value:function(){return this.props.name?this.getInitials():this.props.value?this.props.value:null}},{key:"getColor",value:function(){var n=this.props,r=n.color,i=n.colors,s=n.name,o=n.email,a=n.value,l=s||o||a;return r||h1(l,i)}}]),t}();ie(jb,"propTypes",{color:Q.string,name:Q.string,value:Q.string,email:Q.string,maxInitials:Q.number,initials:Q.oneOfType([Q.string,Q.func])});var Ub=dn(function t(e){var n=this;hn(this,t),ie(this,"props",null),ie(this,"isCompatible",function(){return!!n.props.src}),ie(this,"get",function(r){r({sourceName:"src",src:n.props.src})}),this.props=e});ie(Ub,"propTypes",{src:Q.string});var Bb=dn(function t(e){var n=this;hn(this,t),ie(this,"props",null),ie(this,"icon",""),ie(this,"isCompatible",function(){return!0}),ie(this,"get",function(r){var i=n.props,s=i.color,o=i.colors;r({sourceName:"icon",value:n.icon,color:s||h1(n.icon,o)})}),this.props=e});ie(Bb,"propTypes",{color:Q.string});function wp(t,e){var n;return n=dn(function r(i){var s=this;hn(this,r),ie(this,"props",null),ie(this,"isCompatible",function(){return!!s.props.avatarRedirectUrl&&!!s.props[e]}),ie(this,"get",function(o){var a,l,c,h=s.props.avatarRedirectUrl,d=hp(s.props.size),f=h.replace(/\/*$/,"/"),m=s.props[e],w=d?"size=".concat(d):"",T=pu(a=pu(l=pu(c="".concat(f)).call(c,t,"/")).call(l,m,"?")).call(a,w);o({sourceName:t,src:T})}),this.props=i}),ie(n,"propTypes",ie({},e,Q.oneOfType([Q.string,Q.number]))),n}const pU=wp("twitter","twitterHandle"),mU=wp("vkontakte","vkontakteId"),gU=wp("instagram","instagramId"),vU=wp("google","googleId");var yU=[Vb,vU,Fb,pU,gU,mU,$b,Lb,Ub,jb,Bb];const _U=lU({sources:yU});var zb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dS=ve.createContext&&ve.createContext(zb),wU=["attr","size","title"];function EU(t,e){if(t==null)return{};var n=TU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){SU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SU(t,e,n){return e=IU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IU(t){var e=PU(t,"string");return typeof e=="symbol"?e:e+""}function PU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wb(t){return t&&t.map((e,n)=>ve.createElement(e.tag,tf({key:n},e.attr),Wb(e.child)))}function Me(t){return e=>ve.createElement(CU,ef({attr:tf({},t.attr)},e),Wb(t.child))}function CU(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=EU(t,wU),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ve.createElement("svg",ef({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:tf(tf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ve.createElement("title",null,s),t.children)};return dS!==void 0?ve.createElement(dS.Consumer,null,n=>e(n)):e(zb)}function AU(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Question"},child:[{tag:"g",attr:{},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M11.411,12.459a1.547,1.547,0,0,1,.341-.6,2.644,2.644,0,0,1,.535-.417,2.2,2.2,0,0,0,.363-.286,1.2,1.2,0,0,0,.256-.363A1.084,1.084,0,0,0,13,10.341a.923.923,0,0,0-.142-.517.938.938,0,0,0-.374-.338,1.123,1.123,0,0,0-.519-.119,1.173,1.173,0,0,0-.495.107.934.934,0,0,0-.389.335.884.884,0,0,0-.111.224.516.516,0,0,1-.483.359h0a.506.506,0,0,1-.479-.675,1.661,1.661,0,0,1,.178-.349,1.8,1.8,0,0,1,.748-.634,2.437,2.437,0,0,1,1.031-.215,2.4,2.4,0,0,1,1.082.231,1.737,1.737,0,0,1,.721.641,1.772,1.772,0,0,1,.257.96,1.841,1.841,0,0,1-.118.678,1.685,1.685,0,0,1-.334.536,2.289,2.289,0,0,1-.52.417,2.277,2.277,0,0,0-.462.369,1.113,1.113,0,0,0-.256.455,2.344,2.344,0,0,0-.045.283.487.487,0,0,1-.483.429h0a.484.484,0,0,1-.483-.531A2.931,2.931,0,0,1,11.411,12.459Z"},child:[]},{tag:"circle",attr:{cx:"11.793",cy:"14.891",r:"0.587"},child:[]}]},{tag:"path",attr:{d:"M12,21.931A9.934,9.934,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.931ZM12,3.064A8.934,8.934,0,1,0,20.934,12,8.943,8.943,0,0,0,12,3.064Z"},child:[]}]}]}]})(t)}function RU(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Settings"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.6,20.936H11.3a.883.883,0,0,1-.852-.654l-.774-2.833-2.5,1.435a.886.886,0,0,1-1.06-.138l-.925-.919a.884.884,0,0,1-.143-1.066l1.469-2.545L6.509,14.2l-2.787-.747a.882.882,0,0,1-.654-.851V11.3a.882.882,0,0,1,.652-.85l2.839-.777L5.12,7.171a.885.885,0,0,1,.141-1.062l.918-.918A.885.885,0,0,1,7.24,5.049L9.792,6.514l.012,0,.745-2.79a.881.881,0,0,1,.851-.655h1.3a.883.883,0,0,1,.852.655l.762,2.838,2.509-1.441a.885.885,0,0,1,1.059.138l.926.919a.882.882,0,0,1,.141,1.067L17.483,9.777l.008.022,2.786.746a.883.883,0,0,1,.653.851v1.3a.883.883,0,0,1-.654.852l-2.837.774,1.439,2.505a.881.881,0,0,1-.141,1.063l-.917.917a.888.888,0,0,1-1.063.141l-2.539-1.462L14.2,17.5l-.745,2.785A.885.885,0,0,1,12.6,20.936Zm-1.21-1h1.119l.738-2.756a.888.888,0,0,1,.528-.592l.134-.052a.873.873,0,0,1,.76.057l2.51,1.445.789-.789-1.423-2.478a.881.881,0,0,1-.048-.78l.052-.125a.875.875,0,0,1,.584-.51l2.8-.749v-1.12l-2.755-.737a.885.885,0,0,1-.592-.529l-.052-.132a.882.882,0,0,1,.057-.763L18.04,6.818l-.8-.79-2.48,1.425a.878.878,0,0,1-.772.052l-.115-.047a.888.888,0,0,1-.518-.588l-.748-2.806H11.492l-.738,2.762a.883.883,0,0,1-.539.6l-.12.045a.874.874,0,0,1-.751-.058L6.822,5.962l-.789.789L7.455,9.227a.886.886,0,0,1,.046.785l-.051.12a.876.876,0,0,1-.579.5l-2.8.758v1.121l2.757.738a.889.889,0,0,1,.591.525l.048.121a.874.874,0,0,1-.055.77L5.958,17.181l.8.791,2.47-1.419a.878.878,0,0,1,.787-.045l.106.044a.874.874,0,0,1,.526.591ZM9.75,17.482l.008,0ZM9.6,17.421l.007,0ZM6.487,14.147h0Zm.044-4.411h0Zm7.724-3.2Z"},child:[]},{tag:"path",attr:{d:"M12,15a3,3,0,1,1,3-3A3,3,0,0,1,12,15Zm0-5a2,2,0,1,0,2,2A2,2,0,0,0,12,10Z"},child:[]}]}]}]})(t)}function bU(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"},child:[]}]})(t)}function xU(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"},child:[]}]})(t)}function Hb(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 136c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0 240c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40zm0-120c0-22.002-17.998-40-40-40s-40 17.998-40 40 17.998 40 40 40 40-17.998 40-40z"},child:[]}]})(t)}function kU(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 388c-72.597 0-132-59.405-132-132 0-72.601 59.403-132 132-132 36.3 0 69.299 15.4 92.406 39.601L278 234h154V80l-51.698 51.702C348.406 99.798 304.406 80 256 80c-96.797 0-176 79.203-176 176s78.094 176 176 176c81.045 0 148.287-54.134 169.401-128H378.85c-18.745 49.561-67.138 84-122.85 84z"},child:[]}]})(t)}function OU(t){return Me({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 372.686L380.83 448l-33.021-142.066L458 210.409l-145.267-12.475L256 64l-56.743 133.934L54 210.409l110.192 95.525L131.161 448z"},child:[]}]})(t)}function DU(t){return Me({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M76,60A16,16,0,1,1,60,44,16,16,0,0,1,76,60Zm52-16a16,16,0,1,0,16,16A16,16,0,0,0,128,44Zm68,32a16,16,0,1,0-16-16A16,16,0,0,0,196,76ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,128,112Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112ZM60,180a16,16,0,1,0,16,16A16,16,0,0,0,60,180Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,128,180Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,196,180Z"},child:[]}]})(t)}function NU(t){return Me({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(t)}function MU(t){return Me({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"},child:[]}]})(t)}var Kb={exports:{}},Gb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=V;function LU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VU=typeof Object.is=="function"?Object.is:LU,FU=kc.useSyncExternalStore,$U=kc.useRef,jU=kc.useEffect,UU=kc.useMemo,BU=kc.useDebugValue;Gb.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=$U(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=UU(function(){function l(m){if(!c){if(c=!0,h=m,m=r(m),i!==void 0&&o.hasValue){var w=o.value;if(i(w,m))return d=w}return d=m}if(w=d,VU(h,m))return w;var T=r(m);return i!==void 0&&i(w,T)?w:(h=m,d=T)}var c=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=FU(t,s[0],s[1]);return jU(function(){o.hasValue=!0,o.value=a},[a]),BU(a),a};Kb.exports=Gb;var zU=Kb.exports,Cn="default"in Yg?ve:Yg,pS=Symbol.for("react-redux-context"),mS=typeof globalThis<"u"?globalThis:{};function WU(){if(!Cn.createContext)return{};const t=mS[pS]??(mS[pS]=new Map);let e=t.get(Cn.createContext);return e||(e=Cn.createContext(null),t.set(Cn.createContext,e)),e}var os=WU(),HU=()=>{throw new Error("uSES not initialized!")};function T1(t=os){return function(){return Cn.useContext(t)}}var qb=T1(),Qb=HU,KU=t=>{Qb=t},GU=(t,e)=>t===e;function qU(t=os){const e=t===os?qb:T1(t),n=(r,i={})=>{const{equalityFn:s=GU,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:h,identityFunctionCheck:d}=e();Cn.useRef(!0);const f=Cn.useCallback({[r.name](w){return r(w)}}[r.name],[r,h,o.stabilityCheck]),m=Qb(l.addNestedSub,a.getState,c||a.getState,f,s);return Cn.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var Oc=qU();function QU(t){t()}function YU(){let t=null,e=null;return{clear(){t=null,e=null},notify(){QU(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var gS={notify(){},get:()=>[]};function XU(t,e){let n,r=gS,i=0,s=!1;function o(T){h();const P=r.subscribe(T);let _=!1;return()=>{_||(_=!0,P(),d())}}function a(){r.notify()}function l(){w.onStateChange&&w.onStateChange()}function c(){return s}function h(){i++,n||(n=t.subscribe(l),r=YU())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gS)}function f(){s||(s=!0,h())}function m(){s&&(s=!1,d())}const w={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return w}var JU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZU=typeof navigator<"u"&&navigator.product==="ReactNative",eB=JU||ZU?Cn.useLayoutEffect:Cn.useEffect;function tB({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Cn.useMemo(()=>{const c=XU(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Cn.useMemo(()=>t.getState(),[t]);eB(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||os;return Cn.createElement(l.Provider,{value:o},n)}var nB=tB;function Yb(t=os){const e=t===os?qb:T1(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var rB=Yb();function iB(t=os){const e=t===os?rB:Yb(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var nl=iB();KU(zU.useSyncExternalStoreWithSelector);function kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sB=typeof Symbol=="function"&&Symbol.observable||"@@observable",vS=sB,vg=()=>Math.random().toString(36).substring(7).split("").join("."),oB={INIT:`@@redux/INIT${vg()}`,REPLACE:`@@redux/REPLACE${vg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vg()}`},nf=oB;function S1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Xb(t,e,n){if(typeof t!="function")throw new Error(kt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kt(1));return n(Xb)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((P,_)=>{o.set(_,P)}))}function h(){if(l)throw new Error(kt(3));return i}function d(P){if(typeof P!="function")throw new Error(kt(4));if(l)throw new Error(kt(5));let _=!0;c();const y=a++;return o.set(y,P),function(){if(_){if(l)throw new Error(kt(6));_=!1,c(),o.delete(y),s=null}}}function f(P){if(!S1(P))throw new Error(kt(7));if(typeof P.type>"u")throw new Error(kt(8));if(typeof P.type!="string")throw new Error(kt(17));if(l)throw new Error(kt(9));try{l=!0,i=r(i,P)}finally{l=!1}return(s=o).forEach(y=>{y()}),P}function m(P){if(typeof P!="function")throw new Error(kt(10));r=P,f({type:nf.REPLACE})}function w(){const P=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(kt(11));function y(){const b=_;b.next&&b.next(h())}return y(),{unsubscribe:P(y)}},[vS](){return this}}}return f({type:nf.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:m,[vS]:w}}function aB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:nf.INIT})>"u")throw new Error(kt(12));if(typeof n(void 0,{type:nf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kt(13))})}function lB(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{aB(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let h=0;h<r.length;h++){const d=r[h],f=n[d],m=o[d],w=f(m,a);if(typeof w>"u")throw a&&a.type,new Error(kt(14));c[d]=w,l=l||w!==m}return l=l||r.length!==Object.keys(o).length,l?c:o}}function rf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function uB(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(kt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=rf(...a)(i.dispatch),{...i,dispatch:s}}}function cB(t){return S1(t)&&"type"in t&&typeof t.type=="string"}var Jb=Symbol.for("immer-nothing"),yS=Symbol.for("immer-draftable"),kn=Symbol.for("immer-state");function cr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Fa=Object.getPrototypeOf;function fo(t){return!!t&&!!t[kn]}function di(t){var e;return t?Zb(t)||Array.isArray(t)||!!t[yS]||!!((e=t.constructor)!=null&&e[yS])||Tp(t)||Sp(t):!1}var hB=Object.prototype.constructor.toString();function Zb(t){if(!t||typeof t!="object")return!1;const e=Fa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===hB}function sf(t,e){Ep(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ep(t){const e=t[kn];return e?e.type_:Array.isArray(t)?1:Tp(t)?2:Sp(t)?3:0}function ay(t,e){return Ep(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ex(t,e,n){const r=Ep(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function dB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Tp(t){return t instanceof Map}function Sp(t){return t instanceof Set}function $s(t){return t.copy_||t.base_}function ly(t,e){if(Tp(t))return new Map(t);if(Sp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Zb(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[kn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Fa(t),r)}else{const r=Fa(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function I1(t,e=!1){return Ip(t)||fo(t)||!di(t)||(Ep(t)>1&&(t.set=t.add=t.clear=t.delete=fB),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>I1(r,!0))),t}function fB(){cr(2)}function Ip(t){return Object.isFrozen(t)}var pB={};function po(t){const e=pB[t];return e||cr(0,t),e}var Wu;function tx(){return Wu}function mB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _S(t,e){e&&(po("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function uy(t){cy(t),t.drafts_.forEach(gB),t.drafts_=null}function cy(t){t===Wu&&(Wu=t.parent_)}function wS(t){return Wu=mB(Wu,t)}function gB(t){const e=t[kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ES(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[kn].modified_&&(uy(e),cr(4)),di(t)&&(t=of(e,t),e.parent_||af(e,t)),e.patches_&&po("Patches").generateReplacementPatches_(n[kn].base_,t,e.patches_,e.inversePatches_)):t=of(e,n,[]),uy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Jb?t:void 0}function of(t,e,n){if(Ip(e))return e;const r=e[kn];if(!r)return sf(e,(i,s)=>TS(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return af(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),sf(s,(a,l)=>TS(t,r,i,a,l,n,o)),af(t,i,!1),n&&t.patches_&&po("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function TS(t,e,n,r,i,s,o){if(fo(i)){const a=s&&e&&e.type_!==3&&!ay(e.assigned_,r)?s.concat(r):void 0,l=of(t,i,a);if(ex(n,r,l),fo(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(di(i)&&!Ip(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;of(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&af(t,i)}}function af(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&I1(e,n)}function vB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:tx(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=P1;n&&(i=[r],s=Hu);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var P1={get(t,e){if(e===kn)return t;const n=$s(t);if(!ay(n,e))return yB(t,n,e);const r=n[e];return t.finalized_||!di(r)?r:r===yg(t.base_,e)?(_g(t),t.copy_[e]=dy(r,t)):r},has(t,e){return e in $s(t)},ownKeys(t){return Reflect.ownKeys($s(t))},set(t,e,n){const r=nx($s(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=yg($s(t),e),s=i==null?void 0:i[kn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(dB(n,i)&&(n!==void 0||ay(t.base_,e)))return!0;_g(t),hy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,_g(t),hy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=$s(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){cr(11)},getPrototypeOf(t){return Fa(t.base_)},setPrototypeOf(){cr(12)}},Hu={};sf(P1,(t,e)=>{Hu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hu.deleteProperty=function(t,e){return Hu.set.call(this,t,e,void 0)};Hu.set=function(t,e,n){return P1.set.call(this,t[0],e,n,t[0])};function yg(t,e){const n=t[kn];return(n?$s(n):t)[e]}function yB(t,e,n){var i;const r=nx(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function nx(t,e){if(!(e in t))return;let n=Fa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Fa(n)}}function hy(t){t.modified_||(t.modified_=!0,t.parent_&&hy(t.parent_))}function _g(t){t.copy_||(t.copy_=ly(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _B=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,h=>n.call(this,h,...c))}}typeof n!="function"&&cr(6),r!==void 0&&typeof r!="function"&&cr(7);let i;if(di(e)){const s=wS(this),o=dy(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?uy(s):cy(s)}return _S(s,r),ES(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Jb&&(i=void 0),this.autoFreeze_&&I1(i,!0),r){const s=[],o=[];po("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else cr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){di(t)||cr(8),fo(t)&&(t=wB(t));const e=wS(this),n=dy(t,void 0);return n[kn].isManual_=!0,cy(e),n}finishDraft(t,e){const n=t&&t[kn];(!n||!n.isManual_)&&cr(9);const{scope_:r}=n;return _S(r,e),ES(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=po("Patches").applyPatches_;return fo(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dy(t,e){const n=Tp(t)?po("MapSet").proxyMap_(t,e):Sp(t)?po("MapSet").proxySet_(t,e):vB(t,e);return(e?e.scope_:tx()).drafts_.push(n),n}function wB(t){return fo(t)||cr(10,t),rx(t)}function rx(t){if(!di(t)||Ip(t))return t;const e=t[kn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ly(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ly(t,!0);return sf(n,(r,i)=>{ex(n,r,rx(i))}),e&&(e.finalized_=!1),n}var On=new _B,ix=On.produce;On.produceWithPatches.bind(On);On.setAutoFreeze.bind(On);On.setUseStrictShallowCopy.bind(On);On.applyPatches.bind(On);On.createDraft.bind(On);On.finishDraft.bind(On);function sx(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var EB=sx(),TB=sx,SB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rf:rf.apply(null,arguments)};function SS(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(mr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>cB(r)&&r.type===t,n}var ox=class Xl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xl.prototype)}static get[Symbol.species](){return Xl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xl(...e[0].concat(this)):new Xl(...e.concat(this))}};function IS(t){return di(t)?ix(t,()=>{}):t}function PS(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(mr(10));const r=n.insert(e,t);return t.set(e,r),r}function IB(t){return typeof t=="boolean"}var PB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new ox;return n&&(IB(n)?o.push(EB):o.push(TB(n.extraArgument))),o},CB="RTK_autoBatch",ax=t=>e=>{setTimeout(e,t)},AB=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ax(10),RB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?AB:t.type==="callback"?t.queueNotification:ax(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const d=()=>i&&h(),f=r.subscribe(d);return a.add(h),()=>{f(),a.delete(h)}},dispatch(h){var d;try{return i=!((d=h==null?void 0:h.meta)!=null&&d[CB]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(h)}finally{i=!0}}})},bB=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new ox(t);return r&&i.push(RB(typeof r=="object"?r:void 0)),i};function xB(t){const e=PB(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(S1(n))a=lB(n);else throw new Error(mr(1));let l;typeof r=="function"?l=r(e):l=e();let c=rf;i&&(c=SB({trace:!1,...typeof i=="object"&&i}));const h=uB(...l),d=bB(h);let f=typeof o=="function"?o(d):d();const m=c(...f);return Xb(a,s,m)}function lx(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(mr(28));if(a in e)throw new Error(mr(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function kB(t){return typeof t=="function"}function OB(t,e){let[n,r,i]=lx(e),s;if(kB(t))s=()=>IS(t());else{const a=IS(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,d)=>{if(d)if(fo(h)){const m=d(h,l);return m===void 0?h:m}else{if(di(h))return ix(h,f=>d(f,l));{const f=d(h,l);if(f===void 0){if(h===null)return h;throw new Error(mr(9))}return f}}return h},a)}return o.getInitialState=s,o}var DB=Symbol.for("rtk-slice-createasyncthunk");function NB(t,e){return`${t}/${e}`}function MB({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[DB];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(mr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(FB()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,b){const L=typeof E=="string"?E:E.type;if(!L)throw new Error(mr(12));if(L in c.sliceCaseReducersByType)throw new Error(mr(13));return c.sliceCaseReducersByType[L]=b,h},addMatcher(E,b){return c.sliceMatchers.push({matcher:E,reducer:b}),h},exposeAction(E,b){return c.actionCreators[E]=b,h},exposeCaseReducer(E,b){return c.sliceCaseReducersByName[E]=b,h}};l.forEach(E=>{const b=a[E],L={reducerName:E,type:NB(s,E),createNotation:typeof i.reducers=="function"};jB(b)?BB(L,b,h,e):$B(L,b,h)});function d(){const[E={},b=[],L=void 0]=typeof i.extraReducers=="function"?lx(i.extraReducers):[i.extraReducers],j={...E,...c.sliceCaseReducersByType};return OB(i.initialState,C=>{for(let g in j)C.addCase(g,j[g]);for(let g of c.sliceMatchers)C.addMatcher(g.matcher,g.reducer);for(let g of b)C.addMatcher(g.matcher,g.reducer);L&&C.addDefaultCase(L)})}const f=E=>E,m=new Map;let w;function T(E,b){return w||(w=d()),w(E,b)}function P(){return w||(w=d()),w.getInitialState()}function _(E,b=!1){function L(C){let g=C[E];return typeof g>"u"&&b&&(g=P()),g}function j(C=f){const g=PS(m,b,{insert:()=>new WeakMap});return PS(g,C,{insert:()=>{const I={};for(const[A,x]of Object.entries(i.selectors??{}))I[A]=LB(x,C,P,b);return I}})}return{reducerPath:E,getSelectors:j,get selectors(){return j(L)},selectSlice:L}}const y={name:s,reducer:T,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:P,..._(o),injectInto(E,{reducerPath:b,...L}={}){const j=b??o;return E.inject({reducerPath:j,reducer:T},L),{...y,..._(j,!0)}}};return y}}function LB(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var VB=MB();function FB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $B({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!UB(r))throw new Error(mr(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?SS(t,o):SS(t))}function jB(t){return t._reducerDefinitionType==="asyncThunk"}function UB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function BB({type:t,reducerName:e},n,r,i){if(!i)throw new Error(mr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:h}=n,d=i(t,s,h);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Vh,pending:a||Vh,rejected:l||Vh,settled:c||Vh})}function Vh(){}function mr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const ux=VB({name:"appSlice",initialState:{open:!1,emails:[],selectedEmail:null,searchText:"",user:null},reducers:{setOpen:(t,e)=>{t.open=e.payload},setEmails:(t,e)=>{t.emails=e.payload},setSelectedEmail:(t,e)=>{t.selectedEmail=e.payload},setSearchText:(t,e)=>{t.searchText=e.payload},setUser:(t,e)=>{t.user=e.payload}}}),{setOpen:fy,setEmails:zB,setSelectedEmail:WB,setSearchText:HB,setUser:cx}=ux.actions,KB=ux.reducer;function Ku(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const py=t=>Array.isArray(t);function hx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Gu(t){return typeof t=="string"||Array.isArray(t)}function CS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function C1(t,e,n,r){if(typeof e=="function"){const[i,s]=CS(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=CS(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Pp(t,e,n){const r=t.getProps();return C1(r,e,n!==void 0?n:r.custom,t)}const A1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R1=["initial",...A1],Dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ws=new Set(Dc),ni=t=>t*1e3,ri=t=>t/1e3,GB={type:"spring",stiffness:500,damping:25,restSpeed:10},qB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QB={type:"keyframes",duration:.8},YB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XB=(t,{keyframes:e})=>e.length>2?QB:ws.has(t)?t.startsWith("scale")?qB(e[1]):GB:YB;function JB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function b1(t,e){return t[e]||t.default||t}const ZB={skipAnimations:!1,useManualTiming:!1},ez=t=>t!==null;function Cp(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(ez),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Zt=t=>t;function tz(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,d=!1)=>{const m=d&&r?e:n;return h&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const Fh=["read","resolveKeyframes","update","preRender","render","postRender"],nz=40;function dx(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Fh.reduce((_,y)=>(_[y]=tz(s),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:d,postRender:f}=o,m=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,nz),1),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},w=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Fh.reduce((_,y)=>{const E=o[y];return _[y]=(b,L=!1,j=!1)=>(n||w(),E.schedule(b,L,j)),_},{}),cancel:_=>{for(let y=0;y<Fh.length;y++)o[Fh[y]].cancel(_)},state:i,steps:o}}const{schedule:De,cancel:fi,state:Dt,steps:wg}=dx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0),fx=t=>/^0[^.\s]+$/u.test(t);function rz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fx(t):!0}let my=Zt;const px=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),mx=t=>e=>typeof e=="string"&&e.startsWith(t),gx=mx("--"),iz=mx("var(--"),x1=t=>iz(t)?sz.test(t.split("/*")[0].trim()):!1,sz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function az(t){const e=oz.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function vx(t,e,n=1){const[r,i]=az(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return px(o)?parseFloat(o):o}return x1(i)?vx(i,e,n+1):i}const as=(t,e,n)=>n>e?e:n<t?t:n,rl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mu={...rl,transform:t=>as(0,1,t)},$h={...rl,default:1},gu=t=>Math.round(t*1e5)/1e5,k1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,lz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,uz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Nc(t){return typeof t=="string"}function cz(t){return t==null}const Mc=t=>({test:e=>Nc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oi=Mc("deg"),Or=Mc("%"),ae=Mc("px"),hz=Mc("vh"),dz=Mc("vw"),AS={...Or,parse:t=>Or.parse(t)/100,transform:t=>Or.transform(t*100)},fz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),RS=t=>t===rl||t===ae,bS=(t,e)=>parseFloat(t.split(", ")[e]),xS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return bS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?bS(s[1],t):0}},pz=new Set(["x","y","z"]),mz=Dc.filter(t=>!pz.has(t));function gz(t){const e=[];return mz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const $a={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xS(4,13),y:xS(5,14)};$a.translateX=$a.x;$a.translateY=$a.y;const yx=t=>e=>e.test(t),vz={test:t=>t==="auto",parse:t=>t},_x=[rl,ae,Or,Oi,dz,hz,vz],kS=t=>_x.find(yx(t)),ro=new Set;let gy=!1,vy=!1;function wx(){if(vy){const t=Array.from(ro).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=gz(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vy=!1,gy=!1,ro.forEach(t=>t.complete()),ro.clear()}function Ex(){ro.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vy=!0)})}function yz(){Ex(),wx()}class O1{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ro.add(this),gy||(gy=!0,De.read(Ex),De.resolveKeyframes(wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ro.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ro.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const D1=(t,e)=>n=>!!(Nc(n)&&uz.test(n)&&n.startsWith(t)||e&&!cz(n)&&Object.prototype.hasOwnProperty.call(n,e)),Tx=(t,e,n)=>r=>{if(!Nc(r))return r;const[i,s,o,a]=r.match(k1);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_z=t=>as(0,255,t),Eg={...rl,transform:t=>Math.round(_z(t))},Gs={test:D1("rgb","red"),parse:Tx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Eg.transform(t)+", "+Eg.transform(e)+", "+Eg.transform(n)+", "+gu(mu.transform(r))+")"};function wz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yy={test:D1("#"),parse:wz,transform:Gs.transform},la={test:D1("hsl","hue"),parse:Tx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Or.transform(gu(e))+", "+Or.transform(gu(n))+", "+gu(mu.transform(r))+")"},qt={test:t=>Gs.test(t)||yy.test(t)||la.test(t),parse:t=>Gs.test(t)?Gs.parse(t):la.test(t)?la.parse(t):yy.parse(t),transform:t=>Nc(t)?t:t.hasOwnProperty("red")?Gs.transform(t):la.transform(t)};function Ez(t){var e,n;return isNaN(t)&&Nc(t)&&(((e=t.match(k1))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lz))===null||n===void 0?void 0:n.length)||0)>0}const Sx="number",Ix="color",Tz="var",Sz="var(",OS="${}",Iz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Iz,l=>(qt.test(l)?(r.color.push(s),i.push(Ix),n.push(qt.parse(l))):l.startsWith(Sz)?(r.var.push(s),i.push(Tz),n.push(l)):(r.number.push(s),i.push(Sx),n.push(parseFloat(l))),++s,OS)).split(OS);return{values:n,split:a,indexes:r,types:i}}function Px(t){return qu(t).values}function Cx(t){const{split:e,types:n}=qu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Sx?s+=gu(i[o]):a===Ix?s+=qt.transform(i[o]):s+=i[o]}return s}}const Pz=t=>typeof t=="number"?0:t;function Cz(t){const e=Px(t);return Cx(t)(e.map(Pz))}const ls={test:Ez,parse:Px,createTransformer:Cx,getAnimatableNone:Cz},Az=new Set(["brightness","contrast","saturate","opacity"]);function Rz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(k1)||[];if(!r)return t;const i=n.replace(r,"");let s=Az.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const bz=/\b([a-z-]*)\(.*?\)/gu,_y={...ls,getAnimatableNone:t=>{const e=t.match(bz);return e?e.map(Rz).join(" "):t}},DS={...rl,transform:Math.round},N1={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,size:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,rotate:Oi,rotateX:Oi,rotateY:Oi,rotateZ:Oi,scale:$h,scaleX:$h,scaleY:$h,scaleZ:$h,skew:Oi,skewX:Oi,skewY:Oi,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:mu,originX:AS,originY:AS,originZ:ae,zIndex:DS,backgroundPositionX:ae,backgroundPositionY:ae,fillOpacity:mu,strokeOpacity:mu,numOctaves:DS},xz={...N1,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:_y,WebkitFilter:_y},M1=t=>xz[t];function Ax(t,e){let n=M1(t);return n!==_y&&(n=ls),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kz=new Set(["auto","none","0"]);function Oz(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!kz.has(s)&&qu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Ax(n,i)}class Rx extends O1{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),x1(c))){const h=vx(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!fz.has(r)||e.length!==2)return;const[i,s]=e,o=kS(i),a=kS(s);if(o!==a)if(RS(o)&&RS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)rz(e[i])&&r.push(i);r.length&&Oz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$a[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=$a[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function bx(t){let e;return()=>(e===void 0&&(e=t()),e)}let ud;function Dz(){ud=void 0}const ii={now:()=>(ud===void 0&&ii.set(Dt.isProcessing||ZB.useManualTiming?Dt.timestamp:performance.now()),ud),set:t=>{ud=t,queueMicrotask(Dz)}},NS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ls.test(t)||t==="0")&&!t.startsWith("url("));function Nz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Mz(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=NS(i,e),a=NS(s,e);return!o||!a?!1:Nz(t)||n==="spring"&&r}const Lz=40;class xx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ii.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Lz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&yz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ii.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Mz(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Cp(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function kx(t,e){return e?t*(1e3/e):0}const Vz=5;function Ox(t,e,n){const r=Math.max(e-Vz,0);return kx(n-t(r),e-r)}const Tg=.001,Fz=.01,$z=10,jz=.05,Uz=1;function Bz({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=as(jz,Uz,o),t=as(Fz,$z,ri(t)),o<1?(i=c=>{const h=c*o,d=h*t,f=h-n,m=wy(c,o),w=Math.exp(-d);return Tg-f/m*w},s=c=>{const d=c*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),T=wy(Math.pow(c,2),o);return(-i(c)+Tg>0?-1:1)*((f-m)*w)/T}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Tg+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=Wz(i,s,a);if(t=ni(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const zz=12;function Wz(t,e,n){let r=n;for(let i=1;i<zz;i++)r=r-t(r)/e(r);return r}function wy(t,e){return t*Math.sqrt(1-e*e)}const Hz=["duration","bounce"],Kz=["stiffness","damping","mass"];function MS(t,e){return e.some(n=>t[n]!==void 0)}function Gz(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!MS(t,Kz)&&MS(t,Hz)){const n=Bz(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Dx({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=Gz({...r,velocity:-ri(r.velocity||0)}),m=d||0,w=l/(2*Math.sqrt(a*c)),T=s-i,P=ri(Math.sqrt(a/c)),_=Math.abs(T)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(w<1){const E=wy(P,w);y=b=>{const L=Math.exp(-w*P*b);return s-L*((m+w*P*T)/E*Math.sin(E*b)+T*Math.cos(E*b))}}else if(w===1)y=E=>s-Math.exp(-P*E)*(T+(m+P*T)*E);else{const E=P*Math.sqrt(w*w-1);y=b=>{const L=Math.exp(-w*P*b),j=Math.min(E*b,300);return s-L*((m+w*P*T)*Math.sinh(j)+E*T*Math.cosh(j))/E}}return{calculatedDuration:f&&h||null,next:E=>{const b=y(E);if(f)o.done=E>=h;else{let L=0;w<1&&(L=E===0?ni(m):Ox(y,E,b));const j=Math.abs(L)<=n,C=Math.abs(s-b)<=e;o.done=j&&C}return o.value=o.done?s:b,o}}}function LS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=g=>a!==void 0&&g<a||l!==void 0&&g>l,w=g=>a===void 0?l:l===void 0||Math.abs(a-g)<Math.abs(l-g)?a:l;let T=n*e;const P=d+T,_=o===void 0?P:o(P);_!==P&&(T=_-d);const y=g=>-T*Math.exp(-g/r),E=g=>_+y(g),b=g=>{const I=y(g),A=E(g);f.done=Math.abs(I)<=c,f.value=f.done?_:A};let L,j;const C=g=>{m(f.value)&&(L=g,j=Dx({keyframes:[f.value,w(f.value)],velocity:Ox(E,g,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:g=>{let I=!1;return!j&&L===void 0&&(I=!0,b(g),C(g)),L!==void 0&&g>=L?j.next(g-L):(!I&&b(g),f)}}}const Nx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qz=1e-7,Qz=12;function Yz(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Nx(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>qz&&++a<Qz);return o}function Lc(t,e,n,r){if(t===e&&n===r)return Zt;const i=s=>Yz(s,0,1,t,n);return s=>s===0||s===1?s:Nx(i(s),e,r)}const Xz=Lc(.42,0,1,1),Jz=Lc(0,0,.58,1),Mx=Lc(.42,0,.58,1),Zz=t=>Array.isArray(t)&&typeof t[0]!="number",Lx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Vx=t=>e=>1-t(1-e),L1=t=>1-Math.sin(Math.acos(t)),Fx=Vx(L1),eW=Lx(L1),$x=Lc(.33,1.53,.69,.99),V1=Vx($x),tW=Lx(V1),nW=t=>(t*=2)<1?.5*V1(t):.5*(2-Math.pow(2,-10*(t-1))),VS={linear:Zt,easeIn:Xz,easeInOut:Mx,easeOut:Jz,circIn:L1,circInOut:eW,circOut:Fx,backIn:V1,backInOut:tW,backOut:$x,anticipate:nW},FS=t=>{if(Array.isArray(t)){my(t.length===4);const[e,n,r,i]=t;return Lc(e,n,r,i)}else if(typeof t=="string")return my(VS[t]!==void 0),VS[t];return t},rW=(t,e)=>n=>e(t(n)),si=(...t)=>t.reduce(rW),Qu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Xe=(t,e,n)=>t+(e-t)*n;function Sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Sg(l,a,t+1/3),s=Sg(l,a,t),o=Sg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function lf(t,e){return n=>n>0?e:t}const Ig=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},sW=[yy,Gs,la],oW=t=>sW.find(e=>e.test(t));function $S(t){const e=oW(t);if(!e)return!1;let n=e.parse(t);return e===la&&(n=iW(n)),n}const jS=(t,e)=>{const n=$S(t),r=$S(e);if(!n||!r)return lf(t,e);const i={...n};return s=>(i.red=Ig(n.red,r.red,s),i.green=Ig(n.green,r.green,s),i.blue=Ig(n.blue,r.blue,s),i.alpha=Xe(n.alpha,r.alpha,s),Gs.transform(i))},Ey=new Set(["none","hidden"]);function aW(t,e){return Ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function lW(t,e){return n=>Xe(t,e,n)}function F1(t){return typeof t=="number"?lW:typeof t=="string"?x1(t)?lf:qt.test(t)?jS:hW:Array.isArray(t)?jx:typeof t=="object"?qt.test(t)?jS:uW:lf}function jx(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>F1(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function uW(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=F1(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function cW(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const hW=(t,e)=>{const n=ls.createTransformer(e),r=qu(t),i=qu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ey.has(t)&&!i.values.length||Ey.has(e)&&!r.values.length?aW(t,e):si(jx(cW(r,i),i.values),n):lf(t,e)};function Ux(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xe(t,e,n):F1(t)(t,e)}function dW(t,e,n){const r=[],i=n||Ux,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Zt:e;a=si(l,a)}r.push(a)}return r}function fW(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(my(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=dW(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Qu(t[h],t[h+1],c);return o[h](d)};return n?c=>l(as(t[0],t[s-1],c)):l}function pW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Qu(0,e,r);t.push(Xe(n,1,i))}}function mW(t){const e=[0];return pW(e,t.length-1),e}function gW(t,e){return t.map(n=>n*e)}function vW(t,e){return t.map(()=>e||Mx).splice(0,t.length-1)}function uf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Zz(r)?r.map(FS):FS(r),s={done:!1,value:e[0]},o=gW(n&&n.length===e.length?n:mW(e),t),a=fW(o,e,{ease:Array.isArray(i)?i:vW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const US=2e4;function yW(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<US;)e+=n,r=t.next(e);return e>=US?1/0:e}const _W=t=>{const e=({timestamp:n})=>t(n);return{start:()=>De.update(e,!0),stop:()=>fi(e),now:()=>Dt.isProcessing?Dt.timestamp:ii.now()}},wW={decay:LS,inertia:LS,tween:uf,keyframes:uf,spring:Dx},EW=t=>t/100;class $1 extends xx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||O1,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=wW[n]||uf;let l,c;a!==uf&&typeof e[0]!="number"&&(l=si(EW,Ux(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=yW(h));const{calculatedDuration:d}=h,f=d+i,m=f*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:g}=this.options;return{done:!0,value:g[g.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:w,repeatDelay:T,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,b=s;if(m){const g=Math.min(this.currentTime,h)/d;let I=Math.floor(g),A=g%1;!A&&g>=1&&(A=1),A===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(w==="reverse"?(A=1-A,T&&(A-=T/d)):w==="mirror"&&(b=o)),E=as(0,1,A)*d}const L=y?{done:!1,value:l[0]}:b.next(E);a&&(L.value=a(L.value));let{done:j}=L;!y&&c!==null&&(j=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&i!==void 0&&(L.value=Cp(l,this.options,i)),P&&P(L.value),C&&this.finish(),L}get duration(){const{resolved:e}=this;return e?ri(e.calculatedDuration):0}get time(){return ri(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=_W,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Bx=new Set(["opacity","clipPath","filter","transform"]),zx=t=>Array.isArray(t)&&typeof t[0]=="number";function Wx(t){return!!(!t||typeof t=="string"&&t in j1||zx(t)||Array.isArray(t)&&t.every(Wx))}const Jl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,j1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function TW(t){return Hx(t)||j1.easeOut}function Hx(t){if(t)return zx(t)?Jl(t):Array.isArray(t)?t.map(TW):j1[t]}function SW(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=Hx(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const IW=bx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cf=10,PW=2e4;function CW(t){return t.type==="spring"||!Wx(t.ease)}function AW(t,e){const n=new $1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<PW;)r=n.sample(s),i.push(r.value),s+=cf;return{times:void 0,keyframes:i,duration:s-cf,ease:"linear"}}class BS extends xx{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Rx(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(CW(this.options)){const{onComplete:f,onUpdate:m,motionValue:w,element:T,...P}=this.options,_=AW(e,P);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const d=SW(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Cp(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ri(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ri(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Zt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Zt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:d,element:f,...m}=this.options,w=new $1({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),T=ni(this.time);c.setWithVelocity(w.sample(T-cf).value,w.sample(T).value,cf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return IW()&&r&&Bx.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function RW(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return De.update(r,!0),()=>fi(r)}const bW=bx(()=>window.ScrollTimeline!==void 0);class xW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(bW()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),RW(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const U1=(t,e,n,r={},i,s,o)=>a=>{const l=b1(r,t)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ni(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};JB(l)||(d={...d,...XB(t,d)}),d.duration&&(d.duration=ni(d.duration)),d.repeatDelay&&(d.repeatDelay=ni(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=Cp(d.keyframes,l);if(m!==void 0)return De.update(()=>{d.onUpdate(m),d.onComplete()}),new xW([])}return!s&&BS.supports(d)?new BS(d):new $1(d)},kW=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),OW=t=>py(t)?t[t.length-1]||0:t;function Ap(t,e){t.indexOf(e)===-1&&t.push(e)}function Rp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class B1{constructor(){this.subscriptions=[]}add(e){return Ap(this.subscriptions,e),()=>Rp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zS=30,DW=t=>!isNaN(parseFloat(t));class Kx{constructor(e,n={}){this.version="11.4.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ii.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ii.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B1);const r=this.events[e].add(n);return e==="change"?()=>{r(),De.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zS);return kx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(t,e){return new Kx(t,e)}function NW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yu(n))}function MW(t,e){const n=Pp(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=OW(s[o]);NW(t,o,a)}}const bp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LW="framerAppearId",Gx="data-"+bp(LW);function qx(t){return t.props[Gx]}function Qx(t){if(ws.has(t))return"transform";if(Bx.has(t))return bp(t)}class VW extends Kx{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=Qx(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(Rp(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Jt=t=>!!(t&&t.getVelocity);function FW(t){return!!(Jt(t)&&t.add)}function Ty(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new VW("auto"),t.addValue("willChange",r)),FW(r))return r.add(e)}function $W({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Yx(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||h&&$W(h,d))continue;const w={delay:n,...b1(o||{},d)};let T=!1;if(window.MotionHandoffAnimation){const _=qx(t);if(_){const y=window.MotionHandoffAnimation(_,d,De);y!==null&&(w.startTime=y,T=!0)}}f.start(U1(d,f,m,t.shouldReduceMotion&&ws.has(d)?{type:!1}:w,t,T,Ty(t,d)));const P=f.animation;P&&c.push(P)}return a&&Promise.all(c).then(()=>{De.update(()=>{a&&MW(t,a)})}),c}function Sy(t,e,n={}){var r;const i=Pp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Yx(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return jW(t,e,h+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function jW(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(UW).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Sy(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function UW(t,e){return t.sortNodePosition(e)}function BW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Sy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Sy(t,e,n);else{const i=typeof e=="function"?Pp(t,e,n.custom):e;r=Promise.all(Yx(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const zW=[...A1].reverse(),WW=A1.length;function HW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BW(t,n,r)))}function KW(t){let e=HW(t),n=WS(),r=!0;const i=l=>(c,h)=>{var d;const f=Pp(t,h,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:w,...T}=f;c={...c,...T,...w}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let m={},w=1/0;for(let P=0;P<WW;P++){const _=zW[P],y=n[_],E=c[_]!==void 0?c[_]:h[_],b=Gu(E),L=_===l?y.isActive:null;L===!1&&(w=P);let j=E===h[_]&&E!==c[_]&&b;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...m},!y.isActive&&L===null||!E&&!y.prevProp||Ku(E)||typeof E=="boolean")continue;let g=GW(y.prevProp,E)||_===l&&y.isActive&&!j&&b||P>w&&b,I=!1;const A=Array.isArray(E)?E:[E];let x=A.reduce(i(_),{});L===!1&&(x={});const{prevResolvedValues:D={}}=y,R={...D,...x},_e=Ce=>{g=!0,f.has(Ce)&&(I=!0,f.delete(Ce)),y.needsAnimating[Ce]=!0;const qe=t.getValue(Ce);qe&&(qe.liveStyle=!1)};for(const Ce in R){const qe=x[Ce],It=D[Ce];if(m.hasOwnProperty(Ce))continue;let q=!1;py(qe)&&py(It)?q=!hx(qe,It):q=qe!==It,q?qe!=null?_e(Ce):f.add(Ce):qe!==void 0&&f.has(Ce)?_e(Ce):y.protectedKeys[Ce]=!0}y.prevProp=E,y.prevResolvedValues=x,y.isActive&&(m={...m,...x}),r&&t.blockInitialAnimation&&(g=!1),g&&(!j||I)&&d.push(...A.map(Ce=>({animation:Ce,options:{type:_}})))}if(f.size){const P={};f.forEach(_=>{const y=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),P[_]=y??null}),d.push({animation:P})}let T=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(d):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=WS(),r=!0}}}function GW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hx(e,t):!1}function Ls(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WS(){return{animate:Ls(!0),whileInView:Ls(),whileHover:Ls(),whileTap:Ls(),whileDrag:Ls(),whileFocus:Ls(),exit:Ls()}}class Es{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qW extends Es{constructor(e){super(e),e.animationState||(e.animationState=KW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ku(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let QW=0;class YW extends Es{constructor(){super(...arguments),this.id=QW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const XW={animation:{Feature:qW},exit:{Feature:YW}},Xx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const JW=t=>e=>Xx(e)&&t(e,xp(e));function Yr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function oi(t,e,n,r){return Yr(t,e,JW(n),r)}const HS=(t,e)=>Math.abs(t-e);function ZW(t,e){const n=HS(t.x,e.x),r=HS(t.y,e.y);return Math.sqrt(n**2+r**2)}class Jx{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Cg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=ZW(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:w}=d,{timestamp:T}=Dt;this.history.push({...w,timestamp:T});const{onStart:P,onMove:_}=this.handlers;f||(P&&P(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Pg(f,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Cg(d.type==="pointercancel"?this.lastMoveEventInfo:Pg(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,P),w&&w(d,P)},!Xx(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=xp(e),a=Pg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Dt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Cg(a,this.history)),this.removeListeners=si(oi(this.contextWindow,"pointermove",this.handlePointerMove),oi(this.contextWindow,"pointerup",this.handlePointerUp),oi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fi(this.updatePoint)}}function Pg(t,e){return e?{point:e(t.point)}:t}function KS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cg({point:t},e){return{point:t,delta:KS(t,Zx(e)),offset:KS(t,eH(e)),velocity:tH(e,.1)}}function eH(t){return t[0]}function Zx(t){return t[t.length-1]}function tH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Zx(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ni(e)));)n--;if(!r)return{x:0,y:0};const s=ri(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ek(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const GS=ek("dragHorizontal"),qS=ek("dragVertical");function tk(t){let e=!1;if(t==="y")e=qS();else if(t==="x")e=GS();else{const n=GS(),r=qS();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function nk(){const t=tk(!0);return t?(t(),!1):!0}function ua(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const rk=1e-4,nH=1-rk,rH=1+rk,ik=.01,iH=0-ik,sH=0+ik;function Dn(t){return t.max-t.min}function oH(t,e,n){return Math.abs(t-e)<=n}function QS(t,e,n,r=.5){t.origin=r,t.originPoint=Xe(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=Xe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nH&&t.scale<=rH||isNaN(t.scale))&&(t.scale=1),(t.translate>=iH&&t.translate<=sH||isNaN(t.translate))&&(t.translate=0)}function vu(t,e,n,r){QS(t.x,e.x,n.x,r?r.originX:void 0),QS(t.y,e.y,n.y,r?r.originY:void 0)}function YS(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function aH(t,e,n){YS(t.x,e.x,n.x),YS(t.y,e.y,n.y)}function XS(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function yu(t,e,n){XS(t.x,e.x,n.x),XS(t.y,e.y,n.y)}function lH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Xe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Xe(n,t,r.max):Math.min(t,n)),t}function JS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uH(t,{top:e,left:n,bottom:r,right:i}){return{x:JS(t.x,n,i),y:JS(t.y,e,r)}}function ZS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cH(t,e){return{x:ZS(t.x,e.x),y:ZS(t.y,e.y)}}function hH(t,e){let n=.5;const r=Dn(t),i=Dn(e);return i>r?n=Qu(e.min,e.max-r,t.min):r>i&&(n=Qu(t.min,t.max-i,e.min)),as(0,1,n)}function dH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Iy=.35;function fH(t=Iy){return t===!1?t=0:t===!0&&(t=Iy),{x:eI(t,"left","right"),y:eI(t,"top","bottom")}}function eI(t,e,n){return{min:tI(t,e),max:tI(t,n)}}function tI(t,e){return typeof t=="number"?t:t[e]||0}const nI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:nI(),y:nI()}),rI=()=>({min:0,max:0}),st=()=>({x:rI(),y:rI()});function Wn(t){return[t("x"),t("y")]}function sk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ag(t){return t===void 0||t===1}function Py({scale:t,scaleX:e,scaleY:n}){return!Ag(t)||!Ag(e)||!Ag(n)}function js(t){return Py(t)||ok(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ok(t){return iI(t.x)||iI(t.y)}function iI(t){return t&&t!=="0%"}function hf(t,e,n){const r=t-n,i=e*r;return n+i}function sI(t,e,n,r,i){return i!==void 0&&(t=hf(t,i,r)),hf(t,n,r)+e}function Cy(t,e=0,n=1,r,i){t.min=sI(t.min,e,n,r,i),t.max=sI(t.max,e,n,r,i)}function ak(t,{x:e,y:n}){Cy(t.x,e.translate,e.scale,e.originPoint),Cy(t.y,n.translate,n.scale,n.originPoint)}const oI=.999999999999,aI=1.0000000000001;function gH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&da(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ak(t,o)),r&&js(s.latestValues)&&da(t,s.latestValues))}e.x<aI&&e.x>oI&&(e.x=1),e.y<aI&&e.y>oI&&(e.y=1)}function ha(t,e){t.min=t.min+e,t.max=t.max+e}function lI(t,e,n,r,i=.5){const s=Xe(t.min,t.max,i);Cy(t,e,n,s,r)}function da(t,e){lI(t.x,e.x,e.scaleX,e.scale,e.originX),lI(t.y,e.y,e.scaleY,e.scale,e.originY)}function lk(t,e){return sk(mH(t.getBoundingClientRect(),e))}function vH(t,e,n){const r=lk(t,n),{scroll:i}=e;return i&&(ha(r.x,i.offset.x),ha(r.y,i.offset.y)),r}const uk=({current:t})=>t?t.ownerDocument.defaultView:null,yH=new WeakMap;class _H{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=st(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xp(h,"page").point)},s=(h,d)=>{var f;const{drag:m,dragPropagation:w,onDragStart:T}=this.getProps();if(m&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tk(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Or.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const b=E.layout.layoutBox[_];b&&(y=Dn(b)*(parseFloat(y)/100))}}this.originPoint[_]=y}),T&&De.postRender(()=>T(h,d)),(f=this.removeWillChange)===null||f===void 0||f.call(this),this.removeWillChange=Ty(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:w,onDrag:T}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:P}=d;if(m&&this.currentDirection===null){this.currentDirection=wH(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",d.point,P),this.updateAxis("y",d.point,P),this.visualElement.render(),T&&T(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Wn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Jx(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:uk(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&De.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!jh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=lH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ua(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uH(i.layoutBox,n):this.constraints=!1,this.elastic=fH(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ua(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=vH(r,i.root,this.visualElement.getTransformPagePoint());let o=cH(i.layout.layoutBox,s);if(n){const a=n(pH(o));this.hasMutatedConstraints=!!a,a&&(o=sk(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wn(h=>{if(!jh(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(U1(e,r,0,n,this.visualElement,!1,Ty(this.visualElement,e)))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wn(n=>{const{drag:r}=this.getProps();if(!jh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Xe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ua(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=hH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(o=>{if(!jh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Xe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;yH.set(this.visualElement,this);const e=this.visualElement.current,n=oi(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ua(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),De.read(r);const o=Yr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Iy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function jh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class EH extends Es{constructor(e){super(e),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new _H(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const uI=t=>(e,n)=>{t&&De.postRender(()=>t(e,n))};class TH extends Es{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(e){this.session=new Jx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:uI(e),onStart:uI(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&De.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=oi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kp=V.createContext(null);function SH(){const t=V.useContext(kp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=V.useId();V.useEffect(()=>r(i),[]);const s=V.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const z1=V.createContext({}),ck=V.createContext({}),cd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ul={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=cI(t,e.target.x),r=cI(t,e.target.y);return`${n}% ${r}%`}},IH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ls.parse(t);if(i.length>5)return r;const s=ls.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Xe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},df={};function PH(t){Object.assign(df,t)}const{schedule:W1,cancel:Zre}=dx(queueMicrotask,!1);class CH extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;PH(AH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),cd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||De.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hk(t){const[e,n]=SH(),r=V.useContext(z1);return M.jsx(CH,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(ck),isPresent:e,safeToRemove:n})}const AH={borderRadius:{...Ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ul,borderTopRightRadius:Ul,borderBottomLeftRadius:Ul,borderBottomRightRadius:Ul,boxShadow:IH},dk=["TopLeft","TopRight","BottomLeft","BottomRight"],RH=dk.length,hI=t=>typeof t=="string"?parseFloat(t):t,dI=t=>typeof t=="number"||ae.test(t);function bH(t,e,n,r,i,s){i?(t.opacity=Xe(0,n.opacity!==void 0?n.opacity:1,xH(r)),t.opacityExit=Xe(e.opacity!==void 0?e.opacity:1,0,kH(r))):s&&(t.opacity=Xe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<RH;o++){const a=`border${dk[o]}Radius`;let l=fI(e,a),c=fI(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||dI(l)===dI(c)?(t[a]=Math.max(Xe(hI(l),hI(c),r),0),(Or.test(c)||Or.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Xe(e.rotate||0,n.rotate||0,r))}function fI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xH=fk(0,.5,Fx),kH=fk(.5,.95,Zt);function fk(t,e,n){return r=>r<t?0:r>e?1:n(Qu(t,e,r))}function pI(t,e){t.min=e.min,t.max=e.max}function zn(t,e){pI(t.x,e.x),pI(t.y,e.y)}function mI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gI(t,e,n,r,i){return t-=e,t=hf(t,1/n,r),i!==void 0&&(t=hf(t,1/i,r)),t}function OH(t,e=0,n=1,r=.5,i,s=t,o=t){if(Or.test(e)&&(e=parseFloat(e),e=Xe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Xe(s.min,s.max,r);t===s&&(a-=e),t.min=gI(t.min,e,n,a,i),t.max=gI(t.max,e,n,a,i)}function vI(t,e,[n,r,i],s,o){OH(t,e[n],e[r],e[i],e.scale,s,o)}const DH=["x","scaleX","originX"],NH=["y","scaleY","originY"];function yI(t,e,n,r){vI(t.x,e,DH,n?n.x:void 0,r?r.x:void 0),vI(t.y,e,NH,n?n.y:void 0,r?r.y:void 0)}function _I(t){return t.translate===0&&t.scale===1}function pk(t){return _I(t.x)&&_I(t.y)}function wI(t,e){return t.min===e.min&&t.max===e.max}function MH(t,e){return wI(t.x,e.x)&&wI(t.y,e.y)}function EI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function mk(t,e){return EI(t.x,e.x)&&EI(t.y,e.y)}function TI(t){return Dn(t.x)/Dn(t.y)}function SI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LH{constructor(){this.members=[]}add(e){Ap(this.members,e),e.scheduleRender()}remove(e){if(Rp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:m,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const FH=(t,e)=>t.depth-e.depth;class $H{constructor(){this.children=[],this.isDirty=!1}add(e){Ap(this.children,e),this.isDirty=!0}remove(e){Rp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FH),this.isDirty=!1,this.children.forEach(e)}}function hd(t){const e=Jt(t)?t.get():t;return kW(e)?e.toValue():e}function jH(t,e){const n=ii.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(fi(r),t(s-e))};return De.read(r,!0),()=>fi(r)}function UH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function BH(t,e,n){const r=Jt(t)?t:Yu(t);return r.start(U1("",r,e,n)),r.animation}const Us={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Zl=typeof window<"u"&&window.MotionDebug!==void 0,Rg=["","X","Y","Z"],zH={visibility:"hidden"},II=1e3;let WH=0;function bg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function gk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&gk(r)}function vk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=WH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zl&&(Us.totalNodes=Us.resolvedTargetDeltas=Us.recalculatedProjection=0),this.nodes.forEach(GH),this.nodes.forEach(JH),this.nodes.forEach(ZH),this.nodes.forEach(qH),Zl&&window.MotionDebug.record(Us)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $H)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new B1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UH(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=jH(f,250),cd.hasAnimatedSinceResize&&(cd.hasAnimatedSinceResize=!1,this.nodes.forEach(CI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||iK,{onLayoutAnimationStart:P,onLayoutAnimationComplete:_}=h.getProps(),y=!this.targetLayout||!mk(this.targetLayout,w)||m,E=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const b={...b1(T,"layout"),onPlay:P,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||CI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PI);return}this.isUpdating||this.nodes.forEach(YH),this.isUpdating=!1,this.nodes.forEach(XH),this.nodes.forEach(HH),this.nodes.forEach(KH),this.clearAllSnapshots();const a=ii.now();Dt.delta=as(0,1e3/60,a-Dt.timestamp),Dt.timestamp=a,Dt.isProcessing=!0,wg.update.process(Dt),wg.preRender.process(Dt),wg.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QH),this.sharedNodes.forEach(tK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=st(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!pk(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||js(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),sK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return st();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(oK))){const{scroll:h}=this.root;h&&(ha(l.x,h.offset.x),ha(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=st();if(zn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&zn(l,o),ha(l.x,d.offset.x),ha(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=st();zn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&da(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),js(h.latestValues)&&da(l,h.latestValues)}return js(this.latestValues)&&da(l,this.latestValues),l}removeTransform(o){const a=st();zn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!js(c.latestValues))continue;Py(c.latestValues)&&c.updateSnapshot();const h=st(),d=c.measurePageBox();zn(h,d),yI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return js(this.latestValues)&&yI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),yu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=st(),this.targetWithTransforms=st()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),ak(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=st(),this.relativeTargetOrigin=st(),yu(this.relativeTargetOrigin,this.target,m.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zl&&Us.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Py(this.parent.latestValues)||ok(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;zn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;gH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=st());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mI(this.prevProjectionDelta.x,this.projectionDelta.x),mI(this.prevProjectionDelta.y,this.projectionDelta.y)),vu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!SI(this.projectionDelta.x,this.prevProjectionDelta.x)||!SI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Zl&&Us.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ca(),this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=st(),m=l?l.source:void 0,w=this.layout?this.layout.source:void 0,T=m!==w,P=this.getStack(),_=!P||P.members.length<=1,y=!!(T&&!_&&this.options.crossfade===!0&&!this.path.some(rK));this.animationProgress=0;let E;this.mixTargetDelta=b=>{const L=b/1e3;AI(d.x,o.x,L),AI(d.y,o.y,L),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nK(this.relativeTarget,this.relativeTargetOrigin,f,L),E&&MH(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=st()),zn(E,this.relativeTarget)),T&&(this.animationValues=h,bH(h,c,this.latestValues,L,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{cd.hasAnimatedSinceResize=!0,this.currentAnimation=BH(0,II,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(II),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&yk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||st();const d=Dn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Dn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}zn(a,l),da(a,h),vu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&bg("z",o,c,this.animationValues);for(let h=0;h<Rg.length;h++)bg(`rotate${Rg[h]}`,o,c,this.animationValues),bg(`skew${Rg[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zH;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=hd(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=hd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=VH(this.projectionDeltaWithTransform,this.treeScale,f),h&&(c.transform=h(f,c.transform));const{x:m,y:w}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const T in df){if(f[T]===void 0)continue;const{correct:P,applyTo:_}=df[T],y=c.transform==="none"?f[T]:P(f[T],d);if(_){const E=_.length;for(let b=0;b<E;b++)c[_[b]]=y}else c[T]=y}return this.options.layoutId&&(c.pointerEvents=d===this?hd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(PI),this.root.sharedNodes.clear()}}}function HH(t){t.updateLayout()}function KH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Wn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=Dn(f);f.min=r[d].min,f.max=f.min+m}):yk(s,n.layoutBox,r)&&Wn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=Dn(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=ca();vu(a,r,n.layoutBox);const l=ca();o?vu(l,t.applyTransform(i,!0),n.measuredBox):vu(l,r,n.layoutBox);const c=!pk(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const w=st();yu(w,n.layoutBox,f.layoutBox);const T=st();yu(T,r,m.layoutBox),mk(w,T)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function GH(t){Zl&&Us.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QH(t){t.clearSnapshot()}function PI(t){t.clearMeasurements()}function YH(t){t.isLayoutDirty=!1}function XH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JH(t){t.resolveTargetDelta()}function ZH(t){t.calcProjection()}function eK(t){t.resetSkewAndRotation()}function tK(t){t.removeLeadSnapshot()}function AI(t,e,n){t.translate=Xe(e.translate,0,n),t.scale=Xe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function RI(t,e,n,r){t.min=Xe(e.min,n.min,r),t.max=Xe(e.max,n.max,r)}function nK(t,e,n,r){RI(t.x,e.x,n.x,r),RI(t.y,e.y,n.y,r)}function rK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iK={duration:.45,ease:[.4,0,.1,1]},bI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xI=bI("applewebkit/")&&!bI("chrome/")?Math.round:Zt;function kI(t){t.min=xI(t.min),t.max=xI(t.max)}function sK(t){kI(t.x),kI(t.y)}function yk(t,e,n){return t==="position"||t==="preserve-aspect"&&!oH(TI(e),TI(n),.2)}function oK(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const aK=vk({attachResizeListener:(t,e)=>Yr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xg={current:void 0},_k=vk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xg.current){const t=new aK({});t.mount(window),t.setOptions({layoutScroll:!0}),xg.current=t}return xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lK={pan:{Feature:TH},drag:{Feature:EH,ProjectionNode:_k,MeasureLayout:hk}};function OI(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||nk())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&De.postRender(()=>l(s,o))};return oi(t.current,n,i,{passive:!t.getProps()[r]})}class uK extends Es{mount(){this.unmount=si(OI(this.node,!0),OI(this.node,!1))}unmount(){}}class cK extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=si(Yr(this.node.current,"focus",()=>this.onFocus()),Yr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wk=(t,e)=>e?t===e?!0:wk(t,e.parentElement):!1;function kg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,xp(n))}class hK extends Es{constructor(){super(...arguments),this.removeStartListeners=Zt,this.removeEndListeners=Zt,this.removeAccessibleListeners=Zt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=oi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps(),f=!d&&!wk(this.node.current,a.target)?h:c;f&&De.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=oi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=si(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||kg("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&De.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Yr(this.node.current,"keyup",o),kg("down",(a,l)=>{this.startPress(a,l)})},n=Yr(this.node.current,"keydown",e),r=()=>{this.isPressing&&kg("cancel",(s,o)=>this.cancelPress(s,o))},i=Yr(this.node.current,"blur",r);this.removeAccessibleListeners=si(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&De.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nk()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&De.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=oi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Yr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ay=new WeakMap,Og=new WeakMap,dK=t=>{const e=Ay.get(t.target);e&&e(t)},fK=t=>{t.forEach(dK)};function pK({root:t,...e}){const n=t||document;Og.has(n)||Og.set(n,{});const r=Og.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(fK,{root:t,...e})),r[i]}function mK(t,e,n){const r=pK(e);return Ay.set(t,n),r.observe(t),()=>{Ay.delete(t),r.unobserve(t)}}const gK={some:0,all:1};class vK extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gK[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return mK(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yK(e,n))&&this.startObserver()}unmount(){}}function yK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _K={inView:{Feature:vK},tap:{Feature:hK},focus:{Feature:cK},hover:{Feature:uK}},wK={layout:{ProjectionNode:_k,MeasureLayout:hk}},H1=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Op=V.createContext({}),K1=typeof window<"u",Ek=K1?V.useLayoutEffect:V.useEffect,Tk=V.createContext({strict:!1});let DI=!1;function EK(t,e,n,r,i){var s;const{visualElement:o}=V.useContext(Op),a=V.useContext(Tk),l=V.useContext(kp),c=V.useContext(H1).reducedMotion,h=V.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,f=V.useContext(ck);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&SK(h.current,n,i,f),V.useInsertionEffect(()=>{d&&d.update(n,l)});const m=n[Gx],w=V.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return Ek(()=>{d&&(d.updateFeatures(),W1.render(d.render),w.current&&d.animationState&&d.animationState.animateChanges())}),V.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current=!1,DI||(DI=!0,queueMicrotask(TK)))}),d}function TK(){window.MotionHandoffIsComplete=!0}function SK(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Sk(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ua(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Sk(t){if(t)return t.options.allowProjection!==!1?t.projection:Sk(t.parent)}function IK(t,e,n){return V.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ua(n)&&(n.current=r))},[e])}function Dp(t){return Ku(t.animate)||R1.some(e=>Gu(t[e]))}function Ik(t){return!!(Dp(t)||t.variants)}function PK(t,e){if(Dp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Gu(n)?n:void 0,animate:Gu(r)?r:void 0}}return t.inherit!==!1?e:{}}function CK(t){const{initial:e,animate:n}=PK(t,V.useContext(Op));return V.useMemo(()=>({initial:e,animate:n}),[NI(e),NI(n)])}function NI(t){return Array.isArray(t)?t.join(" "):t}const MI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ja={};for(const t in MI)ja[t]={isEnabled:e=>MI[t].some(n=>!!e[n])};function AK(t){for(const e in t)ja[e]={...ja[e],...t[e]}}const RK=Symbol.for("motionComponentSymbol");function bK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&AK(t);function s(a,l){let c;const h={...V.useContext(H1),...a,layoutId:xK(a)},{isStatic:d}=h,f=CK(a),m=r(a,d);if(!d&&K1){kK();const w=OK(h);c=w.MeasureLayout,f.visualElement=EK(i,m,h,e,w.ProjectionNode)}return M.jsxs(Op.Provider,{value:f,children:[c&&f.visualElement?M.jsx(c,{visualElement:f.visualElement,...h}):null,n(i,a,IK(m,f.visualElement,l),m,d,f.visualElement)]})}const o=V.forwardRef(s);return o[RK]=i,o}function xK({layoutId:t}){const e=V.useContext(z1).id;return e&&t!==void 0?e+"-"+t:t}function kK(t,e){V.useContext(Tk).strict}function OK(t){const{drag:e,layout:n}=ja;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const DK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G1(t){return typeof t!="string"||t.includes("-")?!1:!!(DK.indexOf(t)>-1||/[A-Z]/u.test(t))}function Pk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Ck=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ak(t,e,n,r){Pk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ck.has(i)?i:bp(i),e.attrs[i])}function Rk(t,{layout:e,layoutId:n}){return ws.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!df[t]||t==="opacity")}function q1(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Jt(i[o])||e.style&&Jt(e.style[o])||Rk(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function bk(t,e,n){const r=q1(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const s=Dc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Q1(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}function NK({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:LK(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const xk=t=>(e,n)=>{const r=V.useContext(Op),i=V.useContext(kp),s=()=>NK(t,e,r,i,n);return n?s():Q1(s)};function MK(t,e){const n=Qx(e);n&&Ap(t,n)}function LI(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=C1(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function LK(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(t,{});for(const P in c)o[P]=hd(c[P]);let{initial:h,animate:d}=t;const f=Dp(t),m=Ik(t);e&&m&&!f&&t.inherit!==!1&&(h===void 0&&(h=e.initial),d===void 0&&(d=e.animate));let w=n?n.initial===!1:!1;w=w||h===!1;const T=w?d:h;return T&&typeof T!="boolean"&&!Ku(T)&&LI(t,T,(P,_)=>{for(const y in P){let E=P[y];if(Array.isArray(E)){const b=w?E.length-1:0;E=E[b]}E!==null&&(o[y]=E)}for(const y in _)o[y]=_[y]}),l&&(d&&h!==!1&&!Ku(d)&&LI(t,d,P=>{for(const _ in P)MK(a,_)}),a.length&&(o.willChange=a.join(","))),o}const Y1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kk=()=>({...Y1(),attrs:{}}),Ok=(t,e)=>e&&typeof t=="number"?e.transform(t):t,VK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FK=Dc.length;function $K(t,e,n){let r="",i=!0;for(let s=0;s<FK;s++){const o=Dc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Ok(a,N1[o]);if(!l){i=!1;const h=VK[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function X1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ws.has(l)){o=!0;continue}else if(gx(l)){i[l]=c;continue}else{const h=Ok(c,N1[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=$K(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}function VI(t,e,n){return typeof t=="string"?t:ae.transform(e+n*t)}function jK(t,e,n){const r=VI(e,t.x,t.width),i=VI(n,t.y,t.height);return`${r} ${i}`}const UK={offset:"stroke-dashoffset",array:"stroke-dasharray"},BK={offset:"strokeDashoffset",array:"strokeDasharray"};function zK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UK:BK;t[s.offset]=ae.transform(-r);const o=ae.transform(e),a=ae.transform(n);t[s.array]=`${o} ${a}`}function J1(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d){if(X1(t,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:w}=t;f.transform&&(w&&(m.transform=f.transform),delete f.transform),w&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=jK(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&zK(f,o,a,l,!1)}const Z1=t=>typeof t=="string"&&t.toLowerCase()==="svg",WK={useVisualState:xk({scrapeMotionValuesFromProps:bk,createRenderState:kk,onMount:(t,e,{renderState:n,latestValues:r})=>{De.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),De.render(()=>{J1(n,r,Z1(e.tagName),t.transformTemplate),Ak(e,n)})}})},HK={useVisualState:xk({applyWillChange:!0,scrapeMotionValuesFromProps:q1,createRenderState:Y1})};function Dk(t,e,n){for(const r in e)!Jt(e[r])&&!Rk(r,n)&&(t[r]=e[r])}function KK({transformTemplate:t},e){return V.useMemo(()=>{const n=Y1();return X1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GK(t,e){const n=t.style||{},r={};return Dk(r,n,t),Object.assign(r,KK(t,e)),r}function qK(t,e){const n={},r=GK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QK.has(t)}let Nk=t=>!ff(t);function YK(t){t&&(Nk=e=>e.startsWith("on")?!ff(e):t(e))}try{YK(require("@emotion/is-prop-valid").default)}catch{}function XK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Nk(i)||n===!0&&ff(i)||!e&&!ff(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function JK(t,e,n,r){const i=V.useMemo(()=>{const s=kk();return J1(s,e,Z1(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Dk(s,t.style,t),i.style={...s,...i.style}}return i}function ZK(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(G1(n)?JK:qK)(r,s,o,n),c=XK(r,typeof n=="string",t),h=n!==V.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=V.useMemo(()=>Jt(d)?d.get():d,[d]);return V.createElement(n,{...h,children:f})}}function eG(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...G1(r)?WK:HK,preloadedFeatures:t,useRender:ZK(i),createVisualElement:e,Component:r};return bK(o)}}const Ry={current:null},Mk={current:!1};function tG(){if(Mk.current=!0,!!K1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ry.current=t.matches;t.addListener(e),e()}else Ry.current=!1}function nG(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(s))t.addValue(r,Yu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Yu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const FI=new WeakMap,rG=[..._x,qt,ls],iG=t=>rG.find(yx(t)),$I=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],sG=R1.length;class oG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=O1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,De.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Dp(n),this.isVariantNode=Ik(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Jt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,FI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Mk.current||tG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ry.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){FI.delete(this.current),this.projection&&this.projection.unmount(),fi(this.notifyUpdate),fi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ws.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&De.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ja){const n=ja[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):st()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$I.length;r++){const i=$I[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=nG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<sG;r++){const i=R1[r],s=this.props[i];(Gu(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(px(i)||fx(i))?i=parseFloat(i):!iG(i)&&ls.test(n)&&(i=Ax(e,n)),this.setBaseTarget(e,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=C1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Jt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Lk extends oG{constructor(){super(...arguments),this.KeyframeResolver=Rx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function aG(t){return window.getComputedStyle(t)}class lG extends Lk{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Pk}readValueFromInstance(e,n){if(ws.has(n)){const r=M1(n);return r&&r.default||0}else{const r=aG(e),i=(gx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lk(e,n)}build(e,n,r){X1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return q1(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class uG extends Lk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=st}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ws.has(n)){const r=M1(n);return r&&r.default||0}return n=Ck.has(n)?n:bp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return bk(e,n,r)}build(e,n,r){J1(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Ak(e,n,r,i)}mount(e){this.isSVGTag=Z1(e.tagName),super.mount(e)}}const cG=(t,e)=>G1(t)?new uG(e):new lG(e,{allowProjection:t!==V.Fragment}),hG=eG({...XW,..._K,...lK,...wK},cG);function dG(t){if(typeof Proxy>"u")return t;const e=new Map;return new Proxy(t,{get:(n,r)=>(e.has(r)||e.set(r,t(r)),e.get(r))})}const e_=dG(hG);class fG extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pG({children:t,isPresent:e}){const n=V.useId(),r=V.useRef(null),i=V.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=V.useContext(H1);return V.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),M.jsx(fG,{isPresent:e,childRef:r,sizeRef:i,children:V.cloneElement(t,{ref:r})})}const mG=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Q1(gG),l=V.useId(),c=V.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return V.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),V.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=M.jsx(pG,{isPresent:n,children:t})),M.jsx(kp.Provider,{value:c,children:t})};function gG(){return new Map}const Uh=t=>t.key||"";function jI(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const vG=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=V.useMemo(()=>jI(t),[t]),l=a.map(Uh),c=V.useRef(!0),h=V.useRef(a),d=Q1(()=>new Map),[f,m]=V.useState(a),[w,T]=V.useState(a);Ek(()=>{c.current=!1,h.current=a;for(let y=0;y<w.length;y++){const E=Uh(w[y]);l.includes(E)?d.delete(E):d.get(E)!==!0&&d.set(E,!1)}},[w,l.length,l.join("-")]);const P=[];if(a!==f){let y=[...a];for(let E=0;E<w.length;E++){const b=w[E],L=Uh(b);l.includes(L)||(y.splice(E,0,b),P.push(b))}o==="wait"&&P.length&&(y=P),T(jI(y)),m(a);return}const{forceRender:_}=V.useContext(z1);return M.jsx(M.Fragment,{children:w.map(y=>{const E=Uh(y),b=a===w||l.includes(E),L=()=>{if(d.has(E))d.set(E,!0);else return;let j=!0;d.forEach(C=>{C||(j=!1)}),j&&(_==null||_(),T(h.current),i&&i())};return M.jsx(mG,{isPresent:b,initial:!c.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:b?void 0:L,children:y},E)})})};var UI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Fk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new _G;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wG=function(t){const e=Vk(t);return Fk.encodeByteArray(e,!0)},pf=function(t){return wG(t).replace(/\./g,"")},$k=function(t){try{return Fk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=()=>EG().__FIREBASE_DEFAULTS__,SG=()=>{if(typeof process>"u"||typeof UI>"u")return;const t=UI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$k(t[1]);return e&&JSON.parse(e)},Np=()=>{try{return TG()||SG()||IG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jk=t=>{var e,n;return(n=(e=Np())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PG=t=>{const e=jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Uk=()=>{var t;return(t=Np())===null||t===void 0?void 0:t.config},Bk=t=>{var e;return(e=Np())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CG=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pf(JSON.stringify(n)),pf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function bG(){var t;const e=(t=Np())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kG(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OG(){return!bG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wk(){try{return typeof indexedDB=="object"}catch{return!1}}function Hk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function DG(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NG,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MG(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tr(i,a,r)}}function MG(t,e){return t.replace(LG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LG=/\{\$([^}]+)}/g;function VG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(BI(s)&&BI(o)){if(!Xu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function BI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FG(t,e){const n=new $G(t,e);return n.subscribe.bind(n)}class $G{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dg),i.error===void 0&&(i.error=Dg),i.complete===void 0&&(i.complete=Dg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=1e3,BG=2,zG=4*60*60*1e3,WG=.5;function zI(t,e=UG,n=BG){const r=e*Math.pow(n,t),i=Math.round(WG*r*(Math.random()-.5)*2);return Math.min(zG,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t){return t&&t._delegate?t._delegate:t}class yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GG(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KG(t){return t===Bs?void 0:t}function GG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const QG={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},YG=we.INFO,XG={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},JG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=YG,this._logHandler=JG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const ZG=(t,e)=>e.some(n=>t instanceof n);let WI,HI;function eq(){return WI||(WI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tq(){return HI||(HI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kk=new WeakMap,by=new WeakMap,Gk=new WeakMap,Ng=new WeakMap,t_=new WeakMap;function nq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Kk.set(n,t)}).catch(()=>{}),t_.set(e,t),e}function rq(t){if(by.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});by.set(t,e)}let xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return by.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iq(t){xy=t(xy)}function sq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mg(this),e,...n);return Gk.set(r,e.sort?e.sort():[e]),Zi(r)}:tq().includes(t)?function(...e){return t.apply(Mg(this),e),Zi(Kk.get(this))}:function(...e){return Zi(t.apply(Mg(this),e))}}function oq(t){return typeof t=="function"?sq(t):(t instanceof IDBTransaction&&rq(t),ZG(t,eq())?new Proxy(t,xy):t)}function Zi(t){if(t instanceof IDBRequest)return nq(t);if(Ng.has(t))return Ng.get(t);const e=oq(t);return e!==t&&(Ng.set(t,e),t_.set(e,t)),e}const Mg=t=>t_.get(t);function qk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zi(o.result),l.oldVersion,l.newVersion,Zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const aq=["get","getKey","getAll","getAllKeys","count"],lq=["put","add","delete","clear"],Lg=new Map;function KI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lg.get(e))return Lg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aq.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Lg.set(e,s),s}iq(t=>({...t,get:(e,n,r)=>KI(e,n)||t.get(e,n,r),has:(e,n)=>!!KI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ky="@firebase/app",GI="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Mp("@firebase/app"),hq="@firebase/app-compat",dq="@firebase/analytics-compat",fq="@firebase/analytics",pq="@firebase/app-check-compat",mq="@firebase/app-check",gq="@firebase/auth",vq="@firebase/auth-compat",yq="@firebase/database",_q="@firebase/database-compat",wq="@firebase/functions",Eq="@firebase/functions-compat",Tq="@firebase/installations",Sq="@firebase/installations-compat",Iq="@firebase/messaging",Pq="@firebase/messaging-compat",Cq="@firebase/performance",Aq="@firebase/performance-compat",Rq="@firebase/remote-config",bq="@firebase/remote-config-compat",xq="@firebase/storage",kq="@firebase/storage-compat",Oq="@firebase/firestore",Dq="@firebase/vertexai-preview",Nq="@firebase/firestore-compat",Mq="firebase",Lq="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="[DEFAULT]",Vq={[ky]:"fire-core",[hq]:"fire-core-compat",[fq]:"fire-analytics",[dq]:"fire-analytics-compat",[mq]:"fire-app-check",[pq]:"fire-app-check-compat",[gq]:"fire-auth",[vq]:"fire-auth-compat",[yq]:"fire-rtdb",[_q]:"fire-rtdb-compat",[wq]:"fire-fn",[Eq]:"fire-fn-compat",[Tq]:"fire-iid",[Sq]:"fire-iid-compat",[Iq]:"fire-fcm",[Pq]:"fire-fcm-compat",[Cq]:"fire-perf",[Aq]:"fire-perf-compat",[Rq]:"fire-rc",[bq]:"fire-rc-compat",[xq]:"fire-gcs",[kq]:"fire-gcs-compat",[Oq]:"fire-fst",[Nq]:"fire-fst-compat",[Dq]:"fire-vertex","fire-js":"fire-js",[Mq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Map,Fq=new Map,Dy=new Map;function qI(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(Dy.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Dy.set(e,t);for(const n of mf.values())qI(n,t);for(const n of Fq.values())qI(n,t);return!0}function Co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Po("app","Firebase",$q);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=Lq;function Qk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Oy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(n||(n=Uk()),!n)throw es.create("no-options");const s=mf.get(i);if(s){if(Xu(n,s.options)&&Xu(r,s.config))return s;throw es.create("duplicate-app",{appName:i})}const o=new qG(i);for(const l of Dy.values())o.addComponent(l);const a=new jq(n,r,o);return mf.set(i,a),a}function n_(t=Oy){const e=mf.get(t);if(!e&&t===Oy&&Uk())return Qk();if(!e)throw es.create("no-app",{appName:t});return e}function Yn(t,e,n){var r;let i=(r=Vq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(a.join(" "));return}Vr(new yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq="firebase-heartbeat-database",Bq=1,Ju="firebase-heartbeat-store";let Vg=null;function Yk(){return Vg||(Vg=qk(Uq,Bq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),Vg}async function zq(t){try{const n=(await Yk()).transaction(Ju),r=await n.objectStore(Ju).get(Xk(t));return await n.done,r}catch(e){if(e instanceof Tr)pi.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function QI(t,e){try{const r=(await Yk()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(e,Xk(t)),await r.done}catch(n){if(n instanceof Tr)pi.warn(n.message);else{const r=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function Xk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=1024,Hq=30*24*60*60*1e3;class Kq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Hq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YI(),{heartbeatsToSend:r,unsentEntries:i}=Gq(this._heartbeatsCache.heartbeats),s=pf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pi.warn(n),""}}}function YI(){return new Date().toISOString().substring(0,10)}function Gq(t,e=Wq){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wk()?Hk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return QI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return QI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XI(t){return pf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){Vr(new yr("platform-logger",e=>new uq(e),"PRIVATE")),Vr(new yr("heartbeat",e=>new Kq(e),"PRIVATE")),Yn(ky,GI,t),Yn(ky,GI,"esm2017"),Yn("fire-js","")}Qq("");function r_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Jk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yq=Jk,Zk=new Po("auth","Firebase",Jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Mp("@firebase/auth");function Xq(t,...e){gf.logLevel<=we.WARN&&gf.warn(`Auth (${il}): ${t}`,...e)}function dd(t,...e){gf.logLevel<=we.ERROR&&gf.error(`Auth (${il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw s_(t,...e)}function gr(t,...e){return s_(t,...e)}function i_(t,e,n){const r=Object.assign(Object.assign({},Yq()),{[e]:n});return new Po("auth","Firebase",r).create(e,{appName:t.name})}function io(t){return i_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fr(t,"argument-error"),i_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zk.create(t,...e)}function ue(t,e,...n){if(!t)throw s_(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dd(e),new Error(e)}function mi(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Zq(){return JI()==="http:"||JI()==="https:"}function JI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zq()||zk()||"connection"in navigator)?navigator.onLine:!0}function tQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=RG()||xG()}get(){return eQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new Fc(3e4,6e4);function a_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sl(t,e,n,r,i={}){return tO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eO.fetch()(nO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nQ),e);try{const i=new sQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Bh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw i_(t,h,c);Fr(t,h)}}catch(i){if(i instanceof Tr)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function iQ(t,e,n,r,i={}){const s=await sl(t,e,n,r,i);return"mfaPendingCredential"in s&&Fr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o_(t.config,i):`${t.config.apiScheme}://${i}`}class sQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),rQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oQ(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function rO(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aQ(t,e=!1){const n=nn(t),r=await n.getIdToken(e),i=l_(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_u(Fg(i.auth_time)),issuedAtTime:_u(Fg(i.iat)),expirationTime:_u(Fg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function l_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=$k(n);return i?JSON.parse(i):(dd("Failed to decode base64 JWT payload"),null)}catch(i){return dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZI(t){const e=l_(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&lQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zu(t,rO(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iO(s.providerUserInfo):[],a=hQ(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new My(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function cQ(t){const e=nn(t);await vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iO(t){return t.map(e=>{var{providerId:n}=e,r=r_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dQ(t,e){const n=await tO(t,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fQ(t,e){return sl(t,"POST","/v2/accounts:revokeToken",a_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=ZI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wa;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=r_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new My(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aQ(this,e)}reload(){return cQ(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(io(this.auth));const e=await this.getIdToken();return await Zu(this,oQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:b,isAnonymous:L,providerData:j,stsTokenManager:C}=n;ue(E&&C,e,"internal-error");const g=wa.fromJSON(this.name,C);ue(typeof E=="string",e,"internal-error"),xi(d,e.name),xi(f,e.name),ue(typeof b=="boolean",e,"internal-error"),ue(typeof L=="boolean",e,"internal-error"),xi(m,e.name),xi(w,e.name),xi(T,e.name),xi(P,e.name),xi(_,e.name),xi(y,e.name);const I=new Zr({uid:E,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:L,photoURL:w,phoneNumber:m,tenantId:T,stsTokenManager:g,createdAt:_,lastLoginAt:y});return j&&Array.isArray(j)&&(I.providerData=j.map(A=>Object.assign({},A))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new wa;i.updateFromServerResponse(n);const s=new Zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?iO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new wa;a.updateFromIdToken(r);const l=new Zr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new My(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Map;function ei(t){mi(t instanceof Function,"Expected a class definition");let e=eP.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sO.type="NONE";const tP=sO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(ei(tP),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ei(tP);const o=fd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=Zr._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ea(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hO(e))return"Blackberry";if(dO(e))return"Webos";if(aO(e))return"Safari";if((e.includes("chrome/")||lO(e))&&!e.includes("edge/"))return"Chrome";if(cO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oO(t=tn()){return/firefox\//i.test(t)}function aO(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lO(t=tn()){return/crios\//i.test(t)}function uO(t=tn()){return/iemobile/i.test(t)}function cO(t=tn()){return/android/i.test(t)}function hO(t=tn()){return/blackberry/i.test(t)}function dO(t=tn()){return/webos/i.test(t)}function u_(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pQ(t=tn()){var e;return u_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mQ(){return kG()&&document.documentMode===10}function fO(t=tn()){return u_(t)||cO(t)||dO(t)||hO(t)||/windows phone/i.test(t)||uO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e=[]){let n;switch(t){case"Browser":n=nP(tn());break;case"Worker":n=`${nP(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vQ(t,e={}){return sl(t,"GET","/v2/passwordPolicy",a_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=6;class _Q{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rP(this),this.idTokenSubscription=new rP(this),this.beforeStateQueue=new gQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rO(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xr(this.app))return Promise.reject(io(this));const n=e?nn(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xr(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xr(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vQ(this),n=new _Q(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Xq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lp(t){return nn(t)}class rP{constructor(e){this.auth=e,this.observer=null,this.addObserver=FG(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EQ(t){c_=t}function TQ(t){return c_.loadJS(t)}function SQ(){return c_.gapiScript}function IQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(t,e){const n=Co(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xu(s,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function CQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AQ(t,e,n){const r=Lp(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=mO(e),{host:o,port:a}=RQ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),bQ()}function mO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RQ(t){const e=mO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iP(o)}}}function iP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return iQ(t,"POST","/v1/accounts:signInWithIdp",a_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xQ="http://localhost";class mo extends gO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=r_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new mo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:xQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends h_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends $c{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends $c{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends $c{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zr._fromIdTokenResponse(e,r,i),o=sP(r);return new Ua({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sP(r);return new Ua({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yf(e,n,r,i)}}function vO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(t,s,e,r):s})}async function kQ(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OQ(t,e,n=!1){const{auth:r}=t;if(Xr(r.app))return Promise.reject(io(r));const i="reauthenticate";try{const s=await Zu(t,vO(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=l_(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Ua._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DQ(t,e,n=!1){if(Xr(t.app))return Promise.reject(io(t));const r="signIn",i=await vO(t,r,e),s=await Ua._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function NQ(t,e,n,r){return nn(t).onIdTokenChanged(e,n,r)}function MQ(t,e,n){return nn(t).beforeAuthStateChanged(e,n)}function LQ(t){return nn(t).signOut()}const _f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=1e3,FQ=10;class _O extends yO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);mQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_O.type="LOCAL";const $Q=_O;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO extends yO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wO.type="SESSION";const EO=wO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await jQ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=d_("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function BQ(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function zQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HQ(){return TO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="firebaseLocalStorageDb",KQ=1,wf="firebaseLocalStorage",IO="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fp(t,e){return t.transaction([wf],e?"readwrite":"readonly").objectStore(wf)}function GQ(){const t=indexedDB.deleteDatabase(SO);return new jc(t).toPromise()}function Ly(){const t=indexedDB.open(SO,KQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wf,{keyPath:IO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wf)?e(r):(r.close(),await GQ(),e(await Ly()))})})}async function oP(t,e,n){const r=Fp(t,!0).put({[IO]:e,value:n});return new jc(r).toPromise()}async function qQ(t,e){const n=Fp(t,!1).get(e),r=await new jc(n).toPromise();return r===void 0?null:r.value}function aP(t,e){const n=Fp(t,!0).delete(e);return new jc(n).toPromise()}const QQ=800,YQ=3;class PO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ly(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vp._getInstance(HQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zQ(),!this.activeServiceWorker)return;this.sender=new UQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ly();return await oP(e,_f,"1"),await aP(e,_f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fp(i,!1).getAll();return new jc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PO.type="LOCAL";const XQ=PO;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e){return e?ei(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends gO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JQ(t){return DQ(t.auth,new f_(t),t.bypassAuthState)}function ZQ(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),OQ(n,new f_(t),t.bypassAuthState)}async function eY(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),kQ(n,new f_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JQ;case"linkViaPopup":case"linkViaRedirect":return eY;case"reauthViaPopup":case"reauthViaRedirect":return ZQ;default:Fr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY=new Fc(2e3,1e4);async function nY(t,e,n){if(Xr(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=Lp(t);Jq(t,e,h_);const i=CO(r,n);return new qs(r,"signInViaPopup",e,i).executeNotNull()}class qs extends AO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=d_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tY.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY="pendingRedirect",pd=new Map;class iY extends AO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await sY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sY(t,e){const n=lY(e),r=aY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oY(t,e){pd.set(t._key(),e)}function aY(t){return ei(t._redirectPersistence)}function lY(t){return fd(rY,t.config.apiKey,t.name)}async function uY(t,e,n=!1){if(Xr(t.app))return Promise.reject(io(t));const r=Lp(t),i=CO(r,e),o=await new iY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY=10*60*1e3;class hY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cY&&this.cachedEventUids.clear(),this.cachedEventUids.has(lP(e))}saveEventToCache(e){this.cachedEventUids.add(lP(e)),this.lastProcessedEventTime=Date.now()}}function lP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fY(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mY=/^https?/;async function gY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fY(t);for(const n of e)try{if(vY(n))return}catch{}Fr(t,"unauthorized-domain")}function vY(t){const e=Ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mY.test(n))return!1;if(pY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY=new Fc(3e4,6e4);function uP(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _Y(t){return new Promise((e,n)=>{var r,i,s;function o(){uP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uP(),n(gr(t,"network-request-failed"))},timeout:yY.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dr().gapi)===null||s===void 0)&&s.load)o();else{const a=IQ("iframefcb");return Dr()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},TQ(`${SQ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw md=null,e})}let md=null;function wY(t){return md=md||_Y(t),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=new Fc(5e3,15e3),TY="__/auth/iframe",SY="emulator/auth/iframe",IY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CY(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o_(e,SY):`https://${t.config.authDomain}/${TY}`,r={apiKey:e.apiKey,appName:t.name,v:il},i=PY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vc(r).slice(1)}`}async function AY(t){const e=await wY(t),n=Dr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:CY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IY,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),a=Dr().setTimeout(()=>{s(o)},EY.get());function l(){Dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bY=500,xY=600,kY="_blank",OY="http://localhost";class cP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DY(t,e,n,r=bY,i=xY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},RY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=tn().toLowerCase();n&&(a=lO(c)?kY:n),oO(c)&&(e=e||OY,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(pQ(c)&&a!=="_self")return NY(e||"",a),new cP(null);const d=window.open(e||"",a,h);ue(d,t,"popup-blocked");try{d.focus()}catch{}return new cP(d)}function NY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY="__/auth/handler",LY="emulator/auth/handler",VY=encodeURIComponent("fac");async function hP(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:il,eventId:i};if(e instanceof h_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof $c){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${VY}=${encodeURIComponent(l)}`:"";return`${FY(t)}?${Vc(a).slice(1)}${c}`}function FY({config:t}){return t.emulator?o_(t,LY):`https://${t.authDomain}/${MY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class $Y{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EO,this._completeRedirectFn=uY,this._overrideRedirectResult=oY}async _openPopup(e,n,r,i){var s;mi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hP(e,n,r,Ny(),i);return DY(e,o,d_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hP(e,n,r,Ny(),i);return BQ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AY(e),r=new hY(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($g,{type:$g},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$g];o!==void 0&&n(!!o),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fO()||aO()||u_()}}const jY=$Y;var dP="@firebase/auth",fP="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zY(t){Vr(new yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pO(t)},c=new wQ(r,i,s,l);return CQ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new yr("auth-internal",e=>{const n=Lp(e.getProvider("auth").getImmediate());return(r=>new UY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(dP,fP,BY(t)),Yn(dP,fP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=5*60,HY=Bk("authIdTokenMaxAge")||WY;let pP=null;const KY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HY)return;const i=n==null?void 0:n.token;pP!==i&&(pP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GY(t=n_()){const e=Co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PQ(t,{popupRedirectResolver:jY,persistence:[XQ,$Q,EO]}),r=Bk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=KY(s.toString());MQ(n,o,()=>o(n.currentUser)),NQ(n,a=>o(a))}}const i=jk("auth");return i&&AQ(n,`http://${i}`),n}function qY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",qY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zY("Browser");var QY="firebase",YY="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(QY,YY,"app");const bO="@firebase/installations",p_="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=1e4,kO=`w:${p_}`,OO="FIS_v2",XY="https://firebaseinstallations.googleapis.com/v1",JY=60*60*1e3,ZY="installations",eX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},go=new Po(ZY,eX,tX);function DO(t){return t instanceof Tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO({projectId:t}){return`${XY}/projects/${t}/installations`}function MO(t){return{token:t.token,requestStatus:2,expiresIn:rX(t.expiresIn),creationTime:Date.now()}}async function LO(t,e){const r=(await e.json()).error;return go.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function VO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function nX(t,{refreshToken:e}){const n=VO(t);return n.append("Authorization",iX(e)),n}async function FO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function rX(t){return Number(t.replace("s","000"))}function iX(t){return`${OO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NO(t),i=VO(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:OO,appId:t.appId,sdkVersion:kO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await FO(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:MO(c.authToken)}}else throw await LO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX=/^[cdef][\w-]{21}$/,Vy="";function lX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=uX(t);return aX.test(n)?n:Vy}catch{return Vy}}function uX(t){return oX(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Map;function UO(t,e){const n=$p(t);BO(n,e),cX(n,e)}function BO(t,e){const n=jO.get(t);if(n)for(const r of n)r(e)}function cX(t,e){const n=hX();n&&n.postMessage({key:t,fid:e}),dX()}let Qs=null;function hX(){return!Qs&&"BroadcastChannel"in self&&(Qs=new BroadcastChannel("[Firebase] FID Change"),Qs.onmessage=t=>{BO(t.data.key,t.data.fid)}),Qs}function dX(){jO.size===0&&Qs&&(Qs.close(),Qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX="firebase-installations-database",pX=1,vo="firebase-installations-store";let jg=null;function m_(){return jg||(jg=qk(fX,pX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vo)}}})),jg}async function Ef(t,e){const n=$p(t),i=(await m_()).transaction(vo,"readwrite"),s=i.objectStore(vo),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&UO(t,e.fid),e}async function zO(t){const e=$p(t),r=(await m_()).transaction(vo,"readwrite");await r.objectStore(vo).delete(e),await r.done}async function jp(t,e){const n=$p(t),i=(await m_()).transaction(vo,"readwrite"),s=i.objectStore(vo),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&UO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_(t){let e;const n=await jp(t.appConfig,r=>{const i=mX(r),s=gX(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Vy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function mX(t){const e=t||{fid:lX(),registrationStatus:0};return WO(e)}function gX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(go.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vX(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yX(t)}:{installationEntry:e}}async function vX(t,e){try{const n=await sX(t,e);return Ef(t.appConfig,n)}catch(n){throw DO(n)&&n.customData.serverCode===409?await zO(t.appConfig):await Ef(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yX(t){let e=await mP(t.appConfig);for(;e.registrationStatus===1;)await $O(100),e=await mP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await g_(t);return r||n}return e}function mP(t){return jp(t,e=>{if(!e)throw go.create("installation-not-found");return WO(e)})}function WO(t){return _X(t)?{fid:t.fid,registrationStatus:0}:t}function _X(t){return t.registrationStatus===1&&t.registrationTime+xO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wX({appConfig:t,heartbeatServiceProvider:e},n){const r=EX(t,n),i=nX(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:kO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await FO(()=>fetch(r,a));if(l.ok){const c=await l.json();return MO(c)}else throw await LO("Generate Auth Token",l)}function EX(t,{fid:e}){return`${NO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v_(t,e=!1){let n;const r=await jp(t.appConfig,s=>{if(!HO(s))throw go.create("not-registered");const o=s.authToken;if(!e&&IX(o))return s;if(o.requestStatus===1)return n=TX(t,e),s;{if(!navigator.onLine)throw go.create("app-offline");const a=CX(s);return n=SX(t,a),a}});return n?await n:r.authToken}async function TX(t,e){let n=await gP(t.appConfig);for(;n.authToken.requestStatus===1;)await $O(100),n=await gP(t.appConfig);const r=n.authToken;return r.requestStatus===0?v_(t,e):r}function gP(t){return jp(t,e=>{if(!HO(e))throw go.create("not-registered");const n=e.authToken;return AX(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function SX(t,e){try{const n=await wX(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ef(t.appConfig,r),n}catch(n){if(DO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ef(t.appConfig,r)}throw n}}function HO(t){return t!==void 0&&t.registrationStatus===2}function IX(t){return t.requestStatus===2&&!PX(t)}function PX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+JY}function CX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function AX(t){return t.requestStatus===1&&t.requestTime+xO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RX(t){const e=t,{installationEntry:n,registrationPromise:r}=await g_(e);return r?r.catch(console.error):v_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bX(t,e=!1){const n=t;return await xX(n),(await v_(n,e)).token}async function xX(t){const{registrationPromise:e}=await g_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(t){if(!t||!t.options)throw Ug("App Configuration");if(!t.name)throw Ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ug(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ug(t){return go.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="installations",OX="installations-internal",DX=t=>{const e=t.getProvider("app").getImmediate(),n=kX(e),r=Co(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},NX=t=>{const e=t.getProvider("app").getImmediate(),n=Co(e,KO).getImmediate();return{getId:()=>RX(n),getToken:i=>bX(n,i)}};function MX(){Vr(new yr(KO,DX,"PUBLIC")),Vr(new yr(OX,NX,"PRIVATE"))}MX();Yn(bO,p_);Yn(bO,p_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="analytics",LX="firebase_id",VX="origin",FX=60*1e3,$X="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new Mp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new Po("analytics","Analytics",jX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t){if(!t.startsWith(y_)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function GO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function BX(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function zX(t,e){const n=BX("firebase-js-sdk-policy",{createScriptURL:UX}),r=document.createElement("script"),i=`${y_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function WX(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function HX(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await GO(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){wn.error(a)}t("config",i,s)}async function KX(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await GO(n);for(const l of o){const c=a.find(d=>d.measurementId===l),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){wn.error(s)}}function GX(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await KX(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await HX(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){wn.error(a)}}return i}function qX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=GX(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function QX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(y_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX=30,XX=1e3;class JX{constructor(e={},n=XX){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qO=new JX;function ZX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function eJ(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ZX(r)},s=$X.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function tJ(t,e=qO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new iJ;return setTimeout(async()=>{a.abort()},FX),QO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function QO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=qO){var s;const{appId:o,measurementId:a}=t;try{await nJ(r,e)}catch(l){if(a)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await eJ(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!rJ(c)){if(i.deleteThrottleMetadata(o),a)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const h=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?zI(n,i.intervalMillis,YX):zI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,d),wn.debug(`Calling attemptFetch again in ${h} millis`),QO(t,d,r,i)}}function nJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rJ(t){if(!(t instanceof Tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class iJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sJ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oJ(){if(Wk())try{await Hk()}catch(t){return wn.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aJ(t,e,n,r,i,s,o){var a;const l=tJ(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>wn.error(m)),e.push(l);const c=oJ().then(m=>{if(m)return r.getId()}),[h,d]=await Promise.all([l,c]);QX(s)||zX(s,h.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[VX]="firebase",f.update=!0,d!=null&&(f[LX]=d),i("config",h.measurementId,f),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e){this.app=e}_delete(){return delete wu[this.app.options.appId],Promise.resolve()}}let wu={},vP=[];const yP={};let Bg="dataLayer",uJ="gtag",_P,YO,wP=!1;function cJ(){const t=[];if(zk()&&t.push("This is a browser extension environment."),DG()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function hJ(t,e,n){cJ();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(wu[r]!=null)throw Rn.create("already-exists",{id:r});if(!wP){WX(Bg);const{wrappedGtag:s,gtagCore:o}=qX(wu,vP,yP,Bg,uJ);YO=s,_P=o,wP=!0}return wu[r]=aJ(t,vP,yP,e,_P,Bg,n),new lJ(t)}function dJ(t=n_()){t=nn(t);const e=Co(t,Tf);return e.isInitialized()?e.getImmediate():fJ(t)}function fJ(t,e={}){const n=Co(t,Tf);if(n.isInitialized()){const i=n.getImmediate();if(Xu(e,n.getOptions()))return i;throw Rn.create("already-initialized")}return n.initialize({options:e})}function pJ(t,e,n,r){t=nn(t),sJ(YO,wu[t.app.options.appId],e,n,r).catch(i=>wn.error(i))}const EP="@firebase/analytics",TP="0.10.7";function mJ(){Vr(new yr(Tf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return hJ(r,i,n)},"PUBLIC")),Vr(new yr("analytics-internal",t,"PRIVATE")),Yn(EP,TP),Yn(EP,TP,"esm2017");function t(e){try{const n=e.getProvider(Tf).getImmediate();return{logEvent:(r,i,s)=>pJ(n,r,i,s)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}mJ();var SP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,XO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,g){function I(){}I.prototype=g.prototype,C.D=g.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(A,x,D){for(var R=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)R[_e-2]=arguments[_e];return g.prototype[x].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,g,I){I||(I=0);var A=Array(16);if(typeof g=="string")for(var x=0;16>x;++x)A[x]=g.charCodeAt(I++)|g.charCodeAt(I++)<<8|g.charCodeAt(I++)<<16|g.charCodeAt(I++)<<24;else for(x=0;16>x;++x)A[x]=g[I++]|g[I++]<<8|g[I++]<<16|g[I++]<<24;g=C.g[0],I=C.g[1],x=C.g[2];var D=C.g[3],R=g+(D^I&(x^D))+A[0]+3614090360&4294967295;g=I+(R<<7&4294967295|R>>>25),R=D+(x^g&(I^x))+A[1]+3905402710&4294967295,D=g+(R<<12&4294967295|R>>>20),R=x+(I^D&(g^I))+A[2]+606105819&4294967295,x=D+(R<<17&4294967295|R>>>15),R=I+(g^x&(D^g))+A[3]+3250441966&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(D^I&(x^D))+A[4]+4118548399&4294967295,g=I+(R<<7&4294967295|R>>>25),R=D+(x^g&(I^x))+A[5]+1200080426&4294967295,D=g+(R<<12&4294967295|R>>>20),R=x+(I^D&(g^I))+A[6]+2821735955&4294967295,x=D+(R<<17&4294967295|R>>>15),R=I+(g^x&(D^g))+A[7]+4249261313&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(D^I&(x^D))+A[8]+1770035416&4294967295,g=I+(R<<7&4294967295|R>>>25),R=D+(x^g&(I^x))+A[9]+2336552879&4294967295,D=g+(R<<12&4294967295|R>>>20),R=x+(I^D&(g^I))+A[10]+4294925233&4294967295,x=D+(R<<17&4294967295|R>>>15),R=I+(g^x&(D^g))+A[11]+2304563134&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(D^I&(x^D))+A[12]+1804603682&4294967295,g=I+(R<<7&4294967295|R>>>25),R=D+(x^g&(I^x))+A[13]+4254626195&4294967295,D=g+(R<<12&4294967295|R>>>20),R=x+(I^D&(g^I))+A[14]+2792965006&4294967295,x=D+(R<<17&4294967295|R>>>15),R=I+(g^x&(D^g))+A[15]+1236535329&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(x^D&(I^x))+A[1]+4129170786&4294967295,g=I+(R<<5&4294967295|R>>>27),R=D+(I^x&(g^I))+A[6]+3225465664&4294967295,D=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(D^g))+A[11]+643717713&4294967295,x=D+(R<<14&4294967295|R>>>18),R=I+(D^g&(x^D))+A[0]+3921069994&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(x^D&(I^x))+A[5]+3593408605&4294967295,g=I+(R<<5&4294967295|R>>>27),R=D+(I^x&(g^I))+A[10]+38016083&4294967295,D=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(D^g))+A[15]+3634488961&4294967295,x=D+(R<<14&4294967295|R>>>18),R=I+(D^g&(x^D))+A[4]+3889429448&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(x^D&(I^x))+A[9]+568446438&4294967295,g=I+(R<<5&4294967295|R>>>27),R=D+(I^x&(g^I))+A[14]+3275163606&4294967295,D=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(D^g))+A[3]+4107603335&4294967295,x=D+(R<<14&4294967295|R>>>18),R=I+(D^g&(x^D))+A[8]+1163531501&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(x^D&(I^x))+A[13]+2850285829&4294967295,g=I+(R<<5&4294967295|R>>>27),R=D+(I^x&(g^I))+A[2]+4243563512&4294967295,D=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(D^g))+A[7]+1735328473&4294967295,x=D+(R<<14&4294967295|R>>>18),R=I+(D^g&(x^D))+A[12]+2368359562&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(I^x^D)+A[5]+4294588738&4294967295,g=I+(R<<4&4294967295|R>>>28),R=D+(g^I^x)+A[8]+2272392833&4294967295,D=g+(R<<11&4294967295|R>>>21),R=x+(D^g^I)+A[11]+1839030562&4294967295,x=D+(R<<16&4294967295|R>>>16),R=I+(x^D^g)+A[14]+4259657740&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(I^x^D)+A[1]+2763975236&4294967295,g=I+(R<<4&4294967295|R>>>28),R=D+(g^I^x)+A[4]+1272893353&4294967295,D=g+(R<<11&4294967295|R>>>21),R=x+(D^g^I)+A[7]+4139469664&4294967295,x=D+(R<<16&4294967295|R>>>16),R=I+(x^D^g)+A[10]+3200236656&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(I^x^D)+A[13]+681279174&4294967295,g=I+(R<<4&4294967295|R>>>28),R=D+(g^I^x)+A[0]+3936430074&4294967295,D=g+(R<<11&4294967295|R>>>21),R=x+(D^g^I)+A[3]+3572445317&4294967295,x=D+(R<<16&4294967295|R>>>16),R=I+(x^D^g)+A[6]+76029189&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(I^x^D)+A[9]+3654602809&4294967295,g=I+(R<<4&4294967295|R>>>28),R=D+(g^I^x)+A[12]+3873151461&4294967295,D=g+(R<<11&4294967295|R>>>21),R=x+(D^g^I)+A[15]+530742520&4294967295,x=D+(R<<16&4294967295|R>>>16),R=I+(x^D^g)+A[2]+3299628645&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(x^(I|~D))+A[0]+4096336452&4294967295,g=I+(R<<6&4294967295|R>>>26),R=D+(I^(g|~x))+A[7]+1126891415&4294967295,D=g+(R<<10&4294967295|R>>>22),R=x+(g^(D|~I))+A[14]+2878612391&4294967295,x=D+(R<<15&4294967295|R>>>17),R=I+(D^(x|~g))+A[5]+4237533241&4294967295,I=x+(R<<21&4294967295|R>>>11),R=g+(x^(I|~D))+A[12]+1700485571&4294967295,g=I+(R<<6&4294967295|R>>>26),R=D+(I^(g|~x))+A[3]+2399980690&4294967295,D=g+(R<<10&4294967295|R>>>22),R=x+(g^(D|~I))+A[10]+4293915773&4294967295,x=D+(R<<15&4294967295|R>>>17),R=I+(D^(x|~g))+A[1]+2240044497&4294967295,I=x+(R<<21&4294967295|R>>>11),R=g+(x^(I|~D))+A[8]+1873313359&4294967295,g=I+(R<<6&4294967295|R>>>26),R=D+(I^(g|~x))+A[15]+4264355552&4294967295,D=g+(R<<10&4294967295|R>>>22),R=x+(g^(D|~I))+A[6]+2734768916&4294967295,x=D+(R<<15&4294967295|R>>>17),R=I+(D^(x|~g))+A[13]+1309151649&4294967295,I=x+(R<<21&4294967295|R>>>11),R=g+(x^(I|~D))+A[4]+4149444226&4294967295,g=I+(R<<6&4294967295|R>>>26),R=D+(I^(g|~x))+A[11]+3174756917&4294967295,D=g+(R<<10&4294967295|R>>>22),R=x+(g^(D|~I))+A[2]+718787259&4294967295,x=D+(R<<15&4294967295|R>>>17),R=I+(D^(x|~g))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+g&4294967295,C.g[1]=C.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,g){g===void 0&&(g=C.length);for(var I=g-this.blockSize,A=this.B,x=this.h,D=0;D<g;){if(x==0)for(;D<=I;)i(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<g;)if(A[x++]=C.charCodeAt(D++),x==this.blockSize){i(this,A),x=0;break}}else for(;D<g;)if(A[x++]=C[D++],x==this.blockSize){i(this,A),x=0;break}}this.h=x,this.o+=g},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var g=1;g<C.length-8;++g)C[g]=0;var I=8*this.o;for(g=C.length-8;g<C.length;++g)C[g]=I&255,I/=256;for(this.u(C),C=Array(16),g=I=0;4>g;++g)for(var A=0;32>A;A+=8)C[I++]=this.g[g]>>>A&255;return C};function s(C,g){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=g(C)}function o(C,g){this.h=g;for(var I=[],A=!0,x=C.length-1;0<=x;x--){var D=C[x]|0;A&&D==g||(I[x]=D,A=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?s(C,function(g){return new o([g|0],0>g?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return P(c(-C));for(var g=[],I=1,A=0;C>=I;A++)g[A]=C/I|0,I*=4294967296;return new o(g,0)}function h(C,g){if(C.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(C.charAt(0)=="-")return P(h(C.substring(1),g));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(g,8)),A=d,x=0;x<C.length;x+=8){var D=Math.min(8,C.length-x),R=parseInt(C.substring(x,x+D),g);8>D?(D=c(Math.pow(g,D)),A=A.j(D).add(c(R))):(A=A.j(I),A=A.add(c(R)))}return A}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();for(var C=0,g=1,I=0;I<this.g.length;I++){var A=this.i(I);C+=(0<=A?A:4294967296+A)*g,g*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(T(this))return"-"+P(this).toString(C);for(var g=c(Math.pow(C,6)),I=this,A="";;){var x=b(I,g).g;I=_(I,x.j(g));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=x,w(I))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var g=0;g<C.g.length;g++)if(C.g[g]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=_(this,C),T(C)?-1:w(C)?0:1};function P(C){for(var g=C.g.length,I=[],A=0;A<g;A++)I[A]=~C.g[A];return new o(I,~C.h).add(f)}t.abs=function(){return T(this)?P(this):this},t.add=function(C){for(var g=Math.max(this.g.length,C.g.length),I=[],A=0,x=0;x<=g;x++){var D=A+(this.i(x)&65535)+(C.i(x)&65535),R=(D>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);A=R>>>16,D&=65535,R&=65535,I[x]=R<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(C,g){return C.add(P(g))}t.j=function(C){if(w(this)||w(C))return d;if(T(this))return T(C)?P(this).j(P(C)):P(P(this).j(C));if(T(C))return P(this.j(P(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var g=this.g.length+C.g.length,I=[],A=0;A<2*g;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var x=0;x<C.g.length;x++){var D=this.i(A)>>>16,R=this.i(A)&65535,_e=C.i(x)>>>16,Ce=C.i(x)&65535;I[2*A+2*x]+=R*Ce,y(I,2*A+2*x),I[2*A+2*x+1]+=D*Ce,y(I,2*A+2*x+1),I[2*A+2*x+1]+=R*_e,y(I,2*A+2*x+1),I[2*A+2*x+2]+=D*_e,y(I,2*A+2*x+2)}for(A=0;A<g;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=g;A<2*g;A++)I[A]=0;return new o(I,0)};function y(C,g){for(;(C[g]&65535)!=C[g];)C[g+1]+=C[g]>>>16,C[g]&=65535,g++}function E(C,g){this.g=C,this.h=g}function b(C,g){if(w(g))throw Error("division by zero");if(w(C))return new E(d,d);if(T(C))return g=b(P(C),g),new E(P(g.g),P(g.h));if(T(g))return g=b(C,P(g)),new E(P(g.g),g.h);if(30<C.g.length){if(T(C)||T(g))throw Error("slowDivide_ only works with positive integers.");for(var I=f,A=g;0>=A.l(C);)I=L(I),A=L(A);var x=j(I,1),D=j(A,1);for(A=j(A,2),I=j(I,2);!w(A);){var R=D.add(A);0>=R.l(C)&&(x=x.add(I),D=R),A=j(A,1),I=j(I,1)}return g=_(C,x.j(g)),new E(x,g)}for(x=d;0<=C.l(g);){for(I=Math.max(1,Math.floor(C.m()/g.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(I),R=D.j(g);T(R)||0<R.l(C);)I-=A,D=c(I),R=D.j(g);w(D)&&(D=f),x=x.add(D),C=_(C,R)}return new E(x,C)}t.A=function(C){return b(this,C).h},t.and=function(C){for(var g=Math.max(this.g.length,C.g.length),I=[],A=0;A<g;A++)I[A]=this.i(A)&C.i(A);return new o(I,this.h&C.h)},t.or=function(C){for(var g=Math.max(this.g.length,C.g.length),I=[],A=0;A<g;A++)I[A]=this.i(A)|C.i(A);return new o(I,this.h|C.h)},t.xor=function(C){for(var g=Math.max(this.g.length,C.g.length),I=[],A=0;A<g;A++)I[A]=this.i(A)^C.i(A);return new o(I,this.h^C.h)};function L(C){for(var g=C.g.length+1,I=[],A=0;A<g;A++)I[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(I,C.h)}function j(C,g){var I=g>>5;g%=32;for(var A=C.g.length-I,x=[],D=0;D<A;D++)x[D]=0<g?C.i(D+I)>>>g|C.i(D+I+1)<<32-g:C.i(D+I);return new o(x,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,so=o}).apply(typeof SP<"u"?SP:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JO,ZO,eu,e4,gd,Fy,t4,n4,r4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var N=u[S];if(!(N in v))break e;v=v[N]}u=u[u.length-1],S=v[u],p=p(S),p!=S&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var v=0,S=!1,N={next:function(){if(!S&&v<u.length){var $=v++;return{value:p($,u[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,v){return u.call.apply(u.bind,arguments)}function d(u,p,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,S),u.apply(p,N)}}return function(){return u.apply(p,arguments)}}function f(u,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,N,$){for(var K=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)K[Fe-2]=arguments[Fe];return p.prototype[N].apply(S,K)}}function T(u){const p=u.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=u[S];return v}return[]}function P(u,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(l(S)){const N=u.length||0,$=S.length||0;u.length=N+$;for(let K=0;K<$;K++)u[N+K]=S[K]}else u.push(S)}}class _{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var L=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(u,p,v){for(const S in u)p.call(v,u[S],S,u)}function C(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function g(u){const p={};for(const v in u)p[v]=u[v];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,p){let v,S;for(let N=1;N<arguments.length;N++){S=arguments[N];for(v in S)u[v]=S[v];for(let $=0;$<I.length;$++)v=I[$],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function x(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function D(u){a.setTimeout(()=>{throw u},0)}function R(){var u=X;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class _e{constructor(){this.h=this.g=null}add(p,v){const S=Ce.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ce=new _(()=>new qe,u=>u.reset());class qe{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,q=!1,X=new _e,le=()=>{const u=a.Promise.resolve(void 0);It=()=>{u.then(Oe)}};var Oe=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){D(v)}var p=Ce;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}q=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Ut=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return u}();function rn(u,p){if(xe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(L){e:{try{b(p.nodeName);var N=!0;break e}catch{}N=!1}N||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rn.aa.h.call(this)}}w(rn,xe);var vt={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Ur=0;function rm(u,p,v,S,N){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=N,this.key=++Ur,this.da=this.fa=!1}function Ti(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xo(u){this.src=u,this.g={},this.h=0}xo.prototype.add=function(u,p,v,S,N){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var K=dl(u,p,S,N);return-1<K?(p=u[K],v||(p.fa=!1)):(p=new rm(p,this.src,$,!!S,N),p.fa=v,u.push(p)),p};function hl(u,p){var v=p.type;if(v in u.g){var S=u.g[v],N=Array.prototype.indexOf.call(S,p,void 0),$;($=0<=N)&&Array.prototype.splice.call(S,N,1),$&&(Ti(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function dl(u,p,v,S){for(var N=0;N<u.length;++N){var $=u[N];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==S)return N}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),Sr={};function fl(u,p,v,S,N){if(Array.isArray(p)){for(var $=0;$<p.length;$++)fl(u,p[$],v,S,N);return null}return v=Yc(v),u&&u[bt]?u.K(p,v,c(S)?!!S.capture:!!S,N):im(u,p,v,!1,S,N)}function im(u,p,v,S,N,$){if(!p)throw Error("Invalid event type");var K=c(N)?!!N.capture:!!N,Fe=gl(u);if(Fe||(u[yt]=Fe=new xo(u)),v=Fe.add(p,v,S,K,$),v.proxy)return v;if(S=Br(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)Ut||(N=K),N===void 0&&(N=!1),u.addEventListener(p.toString(),S,N);else if(u.attachEvent)u.attachEvent(ml(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Br(){function u(v){return p.call(u.src,u.listener,v)}const p=sm;return u}function Qc(u,p,v,S,N){if(Array.isArray(p))for(var $=0;$<p.length;$++)Qc(u,p[$],v,S,N);else S=c(S)?!!S.capture:!!S,v=Yc(v),u&&u[bt]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],v=dl($,v,S,N),-1<v&&(Ti($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=gl(u))&&(p=u.g[p.toString()],u=-1,p&&(u=dl(p,v,S,N)),(v=-1<u?p[u]:null)&&pl(v))}function pl(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[bt])hl(p.i,u);else{var v=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(v,S,u.capture):p.detachEvent?p.detachEvent(ml(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=gl(p))?(hl(v,u),v.h==0&&(v.src=null,p[yt]=null)):Ti(u)}}}function ml(u){return u in Sr?Sr[u]:Sr[u]="on"+u}function sm(u,p){if(u.da)u=!0;else{p=new rn(p,this);var v=u.listener,S=u.ha||u.src;u.fa&&pl(u),u=v.call(S,p)}return u}function gl(u){return u=u[yt],u instanceof xo?u:null}var vl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yc(u){return typeof u=="function"?u:(u[vl]||(u[vl]=function(p){return u.handleEvent(p)}),u[vl])}function tt(){Ee.call(this),this.i=new xo(this),this.M=this,this.F=null}w(tt,Ee),tt.prototype[bt]=!0,tt.prototype.removeEventListener=function(u,p,v,S){Qc(this,u,p,v,S)};function it(u,p){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new xe(p,u);else if(p instanceof xe)p.target=p.target||u;else{var N=p;p=new xe(S,u),A(p,N)}if(N=!0,v)for(var $=v.length-1;0<=$;$--){var K=p.g=v[$];N=Is(K,S,!0,p)&&N}if(K=p.g=u,N=Is(K,S,!0,p)&&N,N=Is(K,S,!1,p)&&N,v)for($=0;$<v.length;$++)K=p.g=v[$],N=Is(K,S,!1,p)&&N}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],S=0;S<v.length;S++)Ti(v[S]);delete u.g[p],u.h--}}this.F=null},tt.prototype.K=function(u,p,v,S){return this.i.add(String(u),p,!1,v,S)},tt.prototype.L=function(u,p,v,S){return this.i.add(String(u),p,!0,v,S)};function Is(u,p,v,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var N=!0,$=0;$<p.length;++$){var K=p[$];if(K&&!K.da&&K.capture==v){var Fe=K.listener,xt=K.ha||K.src;K.fa&&hl(u.i,K),N=Fe.call(xt,S)!==!1&&N}}return N&&!S.defaultPrevented}function ko(u,p,v){if(typeof u=="function")v&&(u=f(u,v));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function er(u){u.g=ko(()=>{u.g=null,u.i&&(u.i=!1,er(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class tr extends Ee{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:er(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(u){Ee.call(this),this.h=u,this.g={}}w(Si,Ee);var Ps=[];function Xc(u){j(u.g,function(p,v){this.g.hasOwnProperty(v)&&pl(p)},u),u.g={}}Si.prototype.N=function(){Si.aa.N.call(this),Xc(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=a.JSON.stringify,Jc=a.JSON.parse,Zc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Oo(){}Oo.prototype.h=null;function eh(u){return u.h||(u.h=u.i())}function yl(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Do(){xe.call(this,"d")}w(Do,xe);function Cs(){xe.call(this,"c")}w(Cs,xe);var $n={},No=null;function Mo(){return No=No||new tt}$n.La="serverreachability";function _l(u){xe.call(this,$n.La,u)}w(_l,xe);function As(u){const p=Mo();it(p,new _l(p))}$n.STAT_EVENT="statevent";function wl(u,p){xe.call(this,$n.STAT_EVENT,u),this.stat=p}w(wl,xe);function ht(u){const p=Mo();it(p,new wl(p,u))}$n.Ma="timingevent";function Rs(u,p){xe.call(this,$n.Ma,u),this.size=p}w(Rs,xe);function Ii(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function bs(){this.g=!0}bs.prototype.xa=function(){this.g=!1};function om(u,p,v,S,N,$){u.info(function(){if(u.g)if($)for(var K="",Fe=$.split("&"),xt=0;xt<Fe.length;xt++){var Re=Fe[xt].split("=");if(1<Re.length){var zt=Re[0];Re=Re[1];var Wt=zt.split("_");K=2<=Wt.length&&Wt[1]=="type"?K+(zt+"="+Re+"&"):K+(zt+"=redacted&")}}else K=null;else K=$;return"XMLHTTP REQ ("+S+") [attempt "+N+"]: "+p+`
`+v+`
`+K})}function k(u,p,v,S,N,$,K){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+N+"]: "+p+`
`+v+`
`+$+" "+K})}function O(u,p,v,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+U(u,v)+(S?" "+S:"")})}function F(u,p){u.info(function(){return"TIMEOUT: "+p})}bs.prototype.info=function(){};function U(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var N=S[1];if(Array.isArray(N)&&!(1>N.length)){var $=N[0];if($!="noop"&&$!="stop"&&$!="close")for(var K=1;K<N.length;K++)N[K]=""}}}}return Fn(v)}catch{return p}}var Y={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},se;function H(){}w(H,Oo),H.prototype.g=function(){return new XMLHttpRequest},H.prototype.i=function(){return{}},se=new H;function oe(u,p,v,S){this.j=u,this.i=p,this.l=v,this.R=S||1,this.U=new Si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var he={},Ae={};function Se(u,p,v){u.L=1,u.v=sh(zr(p)),u.m=v,u.P=!0,ke(u,null)}function ke(u,p){u.F=Date.now(),Be(u),u.A=zr(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),hw(v.i,"t",S),u.C=0,v=u.j.J,u.h=new ne,u.g=bw(u.j,v?p:null,!u.m),0<u.O&&(u.M=new tr(f(u.Y,u,u.g),u.O)),p=u.U,v=u.g,S=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(Ps[0]=N.toString()),N=Ps);for(var $=0;$<N.length;$++){var K=fl(v,N[$],S||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=u.H?g(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),As(),om(u.i,u.u,u.A,u.l,u.R,u.m)}oe.prototype.ca=function(u){u=u.target;const p=this.M;p&&Wr(u)==3?p.j():this.Y(u)},oe.prototype.Y=function(u){try{if(u==this.g)e:{const Wt=Wr(this.g);var p=this.g.Ba();const Fo=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||yw(this.g)))){this.J||Wt!=4||p==7||(p==8||0>=Fo?As(3):As(2)),jn(this);var v=this.g.Z();this.X=v;t:if(Ie(this)){var S=yw(this.g);u="";var N=S.length,$=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Un(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<N;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!($&&p==N-1)});S.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=v==200,k(this.i,this.u,this.A,this.l,this.R,Wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,xt=this.g;if((Fe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Fe)){var Re=Fe;break t}}Re=null}if(v=Re)O(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,v);else{this.o=!1,this.s=3,ht(12),fn(this),Un(this);break e}}if(this.P){v=!0;let rr;for(;!this.J&&this.C<K.length;)if(rr=_t(this,K),rr==Ae){Wt==4&&(this.s=4,ht(14),v=!1),O(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==he){this.s=4,ht(15),O(this.i,this.l,K,"[Invalid Chunk]"),v=!1;break}else O(this.i,this.l,rr,null),Pr(this,rr);if(Ie(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||K.length!=0||this.h.h||(this.s=1,ht(16),v=!1),this.o=this.o&&v,!v)O(this.i,this.l,K,"[Invalid Chunked Response]"),fn(this),Un(this);else if(0<K.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),cm(zt),zt.M=!0,ht(11))}}else O(this.i,this.l,K,null),Pr(this,K);Wt==4&&fn(this),this.o&&!this.J&&(Wt==4?Pw(this.j,this):(this.o=!1,Be(this)))}else dN(this.g),v==400&&0<K.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),fn(this),Un(this)}}}catch{}finally{}};function Ie(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _t(u,p){var v=u.C,S=p.indexOf(`
`,v);return S==-1?Ae:(v=Number(p.substring(v,S)),isNaN(v)?he:(S+=1,S+v>p.length?Ae:(p=p.slice(S,S+v),u.C=S+v,p)))}oe.prototype.cancel=function(){this.J=!0,fn(this)};function Be(u){u.S=Date.now()+u.I,Pi(u,u.I)}function Pi(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ii(f(u.ba,u),p)}function jn(u){u.B&&(a.clearTimeout(u.B),u.B=null)}oe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(F(this.i,this.A),this.L!=2&&(As(),ht(17)),fn(this),this.s=2,Un(this)):Pi(this,this.S-u)};function Un(u){u.j.G==0||u.J||Pw(u.j,u)}function fn(u){jn(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Xc(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Pr(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||de(v.h,u))){if(!u.K&&de(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var N=S;if(N[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ch(v),lh(v);else break e;um(v),ht(18)}}else v.za=N[1],0<v.za-v.T&&37500>N[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ii(f(v.Za,v),6e3));if(1>=Os(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ns(v,11)}else if((u.K||v.g==u)&&ch(v),!y(p))for(N=v.Da.g.parse(p),p=0;p<N.length;p++){let Re=N[p];if(v.T=Re[0],Re=Re[1],v.G==2)if(Re[0]=="c"){v.K=Re[1],v.ia=Re[2];const zt=Re[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Wt=Re[4];Wt!=null&&(v.Aa=Wt,v.j.info("SVER="+v.Aa));const Fo=Re[5];Fo!=null&&typeof Fo=="number"&&0<Fo&&(S=1.5*Fo,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const rr=u.g;if(rr){const dh=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dh){var $=S.h;$.g||dh.indexOf("spdy")==-1&&dh.indexOf("quic")==-1&&dh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(je($,$.h),$.h=null))}if(S.D){const hm=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(S.ya=hm,ze(S.I,S.D,hm))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var K=u;if(S.qa=Rw(S,S.J?S.ia:null,S.W),K.K){Bt(S.h,K);var Fe=K,xt=S.L;xt&&(Fe.I=xt),Fe.B&&(jn(Fe),Be(Fe)),S.g=K}else Sw(S);0<v.i.length&&uh(v)}else Re[0]!="stop"&&Re[0]!="close"||Ns(v,7);else v.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Ns(v,7):lm(v):Re[0]!="noop"&&v.l&&v.l.ta(Re),v.v=0)}}As(4)}catch{}}var Bn=class{constructor(u,p){this.g=u,this.map=p}};function xs(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Os(u){return u.h?1:u.g?u.g.size:0}function de(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function je(u,p){u.g?u.g.add(p):u.h=p}function Bt(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}xs.prototype.cancel=function(){if(this.i=Ve(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ve(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return T(u.i)}function nr(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],v=u.length,S=0;S<v;S++)p.push(u[S]);return p}p=[],v=0;for(S in u)p[v++]=u[S];return p}function th(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const S in u)p[v++]=S;return p}}}function nh(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=th(u),S=nr(u),N=S.length,$=0;$<N;$++)p.call(void 0,S[$],v&&v[$],u)}var ow=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZD(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),N=null;if(0<=S){var $=u[v].substring(0,S);N=u[v].substring(S+1)}else $=u[v];p($,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Ds(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ds){this.h=u.h,rh(this,u.j),this.o=u.o,this.g=u.g,ih(this,u.s),this.l=u.l;var p=u.i,v=new Sl;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),aw(this,v),this.m=u.m}else u&&(p=String(u).match(ow))?(this.h=!1,rh(this,p[1]||"",!0),this.o=El(p[2]||""),this.g=El(p[3]||"",!0),ih(this,p[4]),this.l=El(p[5]||"",!0),aw(this,p[6]||"",!0),this.m=El(p[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}Ds.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Tl(p,lw,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Tl(p,lw,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tl(v,v.charAt(0)=="/"?nN:tN,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tl(v,iN)),u.join("")};function zr(u){return new Ds(u)}function rh(u,p,v){u.j=v?El(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ih(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function aw(u,p,v){p instanceof Sl?(u.i=p,sN(u.i,u.h)):(v||(p=Tl(p,rN)),u.i=new Sl(p,u.h))}function ze(u,p,v){u.i.set(p,v)}function sh(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function El(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tl(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,eN),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var lw=/[#\/\?@]/g,tN=/[#\?:]/g,nN=/[#\?]/g,rN=/[#\?@]/g,iN=/#/g;function Sl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ci(u){u.g||(u.g=new Map,u.h=0,u.i&&ZD(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Sl.prototype,t.add=function(u,p){Ci(this),this.i=null,u=Lo(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function uw(u,p){Ci(u),p=Lo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function cw(u,p){return Ci(u),p=Lo(u,p),u.g.has(p)}t.forEach=function(u,p){Ci(this),this.g.forEach(function(v,S){v.forEach(function(N){u.call(p,N,S,this)},this)},this)},t.na=function(){Ci(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const N=u[S];for(let $=0;$<N.length;$++)v.push(p[S])}return v},t.V=function(u){Ci(this);let p=[];if(typeof u=="string")cw(this,u)&&(p=p.concat(this.g.get(Lo(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},t.set=function(u,p){return Ci(this),this.i=null,u=Lo(this,u),cw(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function hw(u,p,v){uw(u,p),0<v.length&&(u.i=null,u.g.set(Lo(u,p),T(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const $=encodeURIComponent(String(S)),K=this.V(S);for(S=0;S<K.length;S++){var N=$;K[S]!==""&&(N+="="+encodeURIComponent(String(K[S]))),u.push(N)}}return this.i=u.join("&")};function Lo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function sN(u,p){p&&!u.j&&(Ci(u),u.i=null,u.g.forEach(function(v,S){var N=S.toLowerCase();S!=N&&(uw(this,S),hw(this,N,v))},u)),u.j=p}function oN(u,p){const v=new bs;if(a.Image){const S=new Image;S.onload=m(Ai,v,"TestLoadImage: loaded",!0,p,S),S.onerror=m(Ai,v,"TestLoadImage: error",!1,p,S),S.onabort=m(Ai,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(Ai,v,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function aN(u,p){const v=new bs,S=new AbortController,N=setTimeout(()=>{S.abort(),Ai(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then($=>{clearTimeout(N),$.ok?Ai(v,"TestPingServer: ok",!0,p):Ai(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),Ai(v,"TestPingServer: error",!1,p)})}function Ai(u,p,v,S,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),S(v)}catch{}}function lN(){this.g=new Zc}function uN(u,p,v){const S=v||"";try{nh(u,function(N,$){let K=N;c(N)&&(K=Fn(N)),p.push(S+$+"="+encodeURIComponent(K))})}catch(N){throw p.push(S+"type="+encodeURIComponent("_badmap")),N}}function Il(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Il,Oo),Il.prototype.g=function(){return new oh(this.l,this.j)},Il.prototype.i=function(u){return function(){return u}}({});function oh(u,p){tt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(oh,tt),t=oh.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Cl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cl(this)),this.g&&(this.readyState=3,Cl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dw(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function dw(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Pl(this):Cl(this),this.readyState==3&&dw(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Pl(this))},t.Qa=function(u){this.g&&(this.response=u,Pl(this))},t.ga=function(){this.g&&Pl(this)};function Pl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Cl(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Cl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fw(u){let p="";return j(u,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function am(u,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=fw(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ze(u,p,v))}function nt(u){tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(nt,tt);var cN=/^https?$/i,hN=["POST","PUT"];t=nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():se.g(),this.v=this.o?eh(this.o):eh(se),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){pw(this,$);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var N in S)v.set(N,S[N]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hN,p,void 0))||S||N||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,K]of v)this.g.setRequestHeader($,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vw(this),this.u=!0,this.g.send(u),this.u=!1}catch($){pw(this,$)}};function pw(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,mw(u),ah(u)}function mw(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,it(this,"complete"),it(this,"abort"),ah(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ah(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gw(this):this.bb())},t.bb=function(){gw(this)};function gw(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Wr(u)!=4||u.Z()!=2)){if(u.u&&Wr(u)==4)ko(u.Ea,0,u);else if(it(u,"readystatechange"),Wr(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=K===0){var N=String(u.D).match(ow)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),S=!cN.test(N?N.toLowerCase():"")}v=S}if(v)it(u,"complete"),it(u,"success");else{u.m=6;try{var $=2<Wr(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",mw(u)}}finally{ah(u)}}}}function ah(u,p){if(u.g){vw(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||it(u,"ready");try{v.onreadystatechange=S}catch{}}}function vw(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Wr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Jc(p)}};function yw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dN(u){const p={};u=(u.g&&2<=Wr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(y(u[S]))continue;var v=x(u[S]);const N=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[N]||[];p[N]=$,$.push(v)}C(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Al(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function _w(u){this.Aa=0,this.i=[],this.j=new bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Al("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Al("baseRetryDelayMs",5e3,u),this.cb=Al("retryDelaySeedMs",1e4,u),this.Wa=Al("forwardChannelMaxRetries",2,u),this.wa=Al("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(u&&u.concurrentRequestLimit),this.Da=new lN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_w.prototype,t.la=8,t.G=1,t.connect=function(u,p,v,S){ht(0),this.W=u,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Rw(this,null,this.W),uh(this)};function lm(u){if(ww(u),u.G==3){var p=u.U++,v=zr(u.I);if(ze(v,"SID",u.K),ze(v,"RID",p),ze(v,"TYPE","terminate"),Rl(u,v),p=new oe(u,u.j,p),p.L=2,p.v=sh(zr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=bw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Be(p)}Aw(u)}function lh(u){u.g&&(cm(u),u.g.cancel(),u.g=null)}function ww(u){lh(u),u.u&&(a.clearTimeout(u.u),u.u=null),ch(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function uh(u){if(!ks(u.h)&&!u.s){u.s=!0;var p=u.Ga;It||le(),q||(It(),q=!0),X.add(p,u),u.B=0}}function fN(u,p){return Os(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ii(f(u.Ga,u,p),Cw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new oe(this,this.j,u);let $=this.o;if(this.S&&($?($=g($),A($,this.S)):$=this.S),this.m!==null||this.O||(N.H=$,$=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Tw(this,N,p),v=zr(this.I),ze(v,"RID",u),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),Rl(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(fw($)))+"&"+p:this.m&&am(v,this.m,$)),je(this.h,N),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",p),ze(v,"SID","null"),N.T=!0,Se(N,v,null)):Se(N,v,p),this.G=2}}else this.G==3&&(u?Ew(this,u):this.i.length==0||ks(this.h)||Ew(this))};function Ew(u,p){var v;p?v=p.l:v=u.U++;const S=zr(u.I);ze(S,"SID",u.K),ze(S,"RID",v),ze(S,"AID",u.T),Rl(u,S),u.m&&u.o&&am(S,u.m,u.o),v=new oe(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Tw(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),je(u.h,v),Se(v,S,p)}function Rl(u,p){u.H&&j(u.H,function(v,S){ze(p,S,v)}),u.l&&nh({},function(v,S){ze(p,S,v)})}function Tw(u,p,v){v=Math.min(u.i.length,v);var S=u.l?f(u.l.Na,u.l,u):null;e:{var N=u.i;let $=-1;for(;;){const K=["count="+v];$==-1?0<v?($=N[0].g,K.push("ofs="+$)):$=0:K.push("ofs="+$);let Fe=!0;for(let xt=0;xt<v;xt++){let Re=N[xt].g;const zt=N[xt].map;if(Re-=$,0>Re)$=Math.max(0,N[xt].g-100),Fe=!1;else try{uN(zt,K,"req"+Re+"_")}catch{S&&S(zt)}}if(Fe){S=K.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,S}function Sw(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;It||le(),q||(It(),q=!0),X.add(p,u),u.v=0}}function um(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ii(f(u.Fa,u),Cw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Iw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ii(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),lh(this),Iw(this))};function cm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Iw(u){u.g=new oe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=zr(u.qa);ze(p,"RID","rpc"),ze(p,"SID",u.K),ze(p,"AID",u.T),ze(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(p,"TO",u.ja),ze(p,"TYPE","xmlhttp"),Rl(u,p),u.m&&u.o&&am(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=sh(zr(p)),v.m=null,v.P=!0,ke(v,u)}t.Za=function(){this.C!=null&&(this.C=null,lh(this),um(this),ht(19))};function ch(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Pw(u,p){var v=null;if(u.g==p){ch(u),cm(u),u.g=null;var S=2}else if(de(u.h,p))v=p.D,Bt(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var N=u.B;S=Mo(),it(S,new Rs(S,v)),uh(u)}else Sw(u);else if(N=p.s,N==3||N==0&&0<p.X||!(S==1&&fN(u,p)||S==2&&um(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),N){case 1:Ns(u,5);break;case 4:Ns(u,10);break;case 3:Ns(u,6);break;default:Ns(u,2)}}}function Cw(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Ns(u,p){if(u.j.info("Error code "+p),p==2){var v=f(u.fb,u),S=u.Xa;const N=!S;S=new Ds(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||rh(S,"https"),sh(S),N?oN(S.toString(),v):aN(S.toString(),v)}else ht(2);u.G=0,u.l&&u.l.sa(p),Aw(u),ww(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Aw(u){if(u.G=0,u.ka=[],u.l){const p=Ve(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function Rw(u,p,v){var S=v instanceof Ds?zr(v):new Ds(v);if(S.g!="")p&&(S.g=p+"."+S.g),ih(S,S.s);else{var N=a.location;S=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;var $=new Ds(null);S&&rh($,S),p&&($.g=p),N&&ih($,N),v&&($.l=v),S=$}return v=u.D,p=u.ya,v&&p&&ze(S,v,p),ze(S,"VER",u.la),Rl(u,S),S}function bw(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new nt(new Il({eb:v})):new nt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xw(){}t=xw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hh(){}hh.prototype.g=function(u,p){return new Tn(u,p)};function Tn(u,p){tt.call(this),this.g=new _w(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Vo(this)}w(Tn,tt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){lm(this.g)},Tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Fn(u),u=v);p.i.push(new Bn(p.Ya++,u)),p.G==3&&uh(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,lm(this.g),delete this.g,Tn.aa.N.call(this)};function kw(u){Do.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(kw,Do);function Ow(){Cs.call(this),this.status=1}w(Ow,Cs);function Vo(u){this.g=u}w(Vo,xw),Vo.prototype.ua=function(){it(this.g,"a")},Vo.prototype.ta=function(u){it(this.g,new kw(u))},Vo.prototype.sa=function(u){it(this.g,new Ow)},Vo.prototype.ra=function(){it(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,r4=function(){return new hh},n4=function(){return Mo()},t4=$n,Fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,gd=Y,ee.COMPLETE="complete",e4=ee,yl.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",tt.prototype.listen=tt.prototype.K,eu=yl,ZO=Il,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,JO=nt}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const IP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Mp("@firebase/firestore");function Bl(){return yo.logLevel}function te(t,...e){if(yo.logLevel<=we.DEBUG){const n=e.map(__);yo.debug(`Firestore (${ol}): ${t}`,...n)}}function gi(t,...e){if(yo.logLevel<=we.ERROR){const n=e.map(__);yo.error(`Firestore (${ol}): ${t}`,...n)}}function Ba(t,...e){if(yo.logLevel<=we.WARN){const n=e.map(__);yo.warn(`Firestore (${ol}): ${t}`,...n)}}function __(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw gi(e),new Error(e)}function $e(t,e){t||ce()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class vJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yJ{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new oo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new oo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new i4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Qt(e)}}class _J{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _J(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new EJ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=SJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Tt(0,0))}static max(){return new fe(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends ec{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const IJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends ec{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return IJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(He.fromString(e))}static fromName(e){return new re(He.fromString(e).popFirst(5))}static empty(){return new re(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new He(e.slice()))}}function PJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new us(i,re.empty(),e)}function CJ(t){return new us(t.readTime,t.key,-1)}class us{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new us(fe.min(),re.empty(),-1)}static max(){return new us(fe.max(),re.empty(),-1)}}function AJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==RJ)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}w_.oe=-1;function Up(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function kJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CP(this.data.getIterator())}getIteratorFrom(e){return new CP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class CP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new dr([])}unionWith(e){let n=new Ft(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new a4("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const OJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if($e(!!t),typeof t=="string"){let e=0;const n=OJ.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function T_(t){const e=t.mapValue.fields.__previous_value__;return E_(e)?T_(e):e}function tc(t){const e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class nc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E_(t)?4:MJ(t)?9007199254740991:NJ(t)?10:11:ce()}function $r(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=cs(i.timestampValue),a=cs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _o(i.bytesValue).isEqual(_o(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),a=ot(s.doubleValue);return o===a?Sf(o)===Sf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(PP(o)!==PP(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$r(o[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function rc(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ot(s.integerValue||s.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return AP(t.timestampValue,e.timestampValue);case 4:return AP(tc(t),tc(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=_o(s),l=_o(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=be(a[c],l[c]);if(h!==0)return h}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=be(ot(s.latitude),ot(o.latitude));return a!==0?a:be(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RP(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},f=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,T=be(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:RP(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hh.mapValue&&o===Hh.mapValue)return 0;if(s===Hh.mapValue)return 1;if(o===Hh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=be(l[d],h[d]);if(f!==0)return f;const m=Wa(a[l[d]],c[h[d]]);if(m!==0)return m}return be(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function AP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=cs(t),r=cs(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function RP(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wa(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function Ha(t){return $y(t)}function $y(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$y(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${$y(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function bP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jy(t){return!!t&&"integerValue"in t}function S_(t){return!!t&&"arrayValue"in t}function xP(t){return!!t&&"nullValue"in t}function kP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vd(t){return!!t&&"mapValue"in t}function NJ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Eu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Eu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){al(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gn(Eu(this.value))}}function l4(t){const e=[];return al(t.fields,(n,r)=>{const i=new Lt([n]);if(vd(r)){const s=l4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,fe.min(),fe.min(),fe.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,fe.min(),fe.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,fe.min(),fe.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.position=e,this.inclusive=n}}function OP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Wa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function LJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{}class mt extends u4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FJ(e,n,r):n==="array-contains"?new UJ(e,r):n==="in"?new BJ(e,r):n==="not-in"?new zJ(e,r):n==="array-contains-any"?new WJ(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $J(e,r):new jJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends u4{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _r(e,n)}matches(e){return c4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function c4(t){return t.op==="and"}function h4(t){return VJ(t)&&c4(t)}function VJ(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Uy(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Ha(t.value);if(h4(t))return t.filters.map(e=>Uy(e)).join(",");{const e=t.filters.map(n=>Uy(n)).join(",");return`${t.op}(${e})`}}function d4(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof _r?function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&d4(o,i.filters[a]),!0):!1}(t,e):void ce()}function f4(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ha(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(f4).join(" ,")+"}"}(t):"Filter"}class FJ extends mt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class $J extends mt{constructor(e,n){super(e,"in",n),this.keys=p4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jJ extends mt{constructor(e,n){super(e,"not-in",n),this.keys=p4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class UJ extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return S_(n)&&rc(n.arrayValue,this.value)}}class BJ extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class zJ extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}}class WJ extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!S_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function NP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new HJ(t,e,n,r,i,s,o)}function I_(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Up(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ha(r)).join(",")),e.ue=n}return e.ue}function P_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!d4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DP(t.startAt,e.startAt)&&DP(t.endAt,e.endAt)}function By(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function KJ(t,e,n,r,i,s,o,a){return new ll(t,e,n,r,i,s,o,a)}function C_(t){return new ll(t)}function MP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m4(t){return t.collectionGroup!==null}function Tu(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ft(Lt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ic(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new ic(Lt.keyField(),r))}return e.ce}function Nr(t){const e=pe(t);return e.le||(e.le=GJ(e,Tu(t))),e.le}function GJ(t,e){if(t.limitType==="F")return NP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ic(i.field,s)});const n=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;return NP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zy(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wy(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bp(t,e){return P_(Nr(t),Nr(e))&&t.limitType===e.limitType}function g4(t){return`${I_(Nr(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>f4(i)).join(", ")}]`),Up(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ha(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ha(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Tu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=OP(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Tu(r),i)||r.endAt&&!function(o,a,l){const c=OP(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Tu(r),i))}(t,e)}function qJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v4(t){return(e,n)=>{let r=!1;for(const i of Tu(t)){const s=QJ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function QJ(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Wa(l,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return o4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=new et(re.comparator);function vi(){return YJ}const y4=new et(re.comparator);function tu(...t){let e=y4;for(const n of t)e=e.insert(n.key,n);return e}function _4(t){let e=y4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return Su()}function w4(){return Su()}function Su(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const XJ=new et(re.comparator),JJ=new Ft(re.comparator);function ye(...t){let e=JJ;for(const n of t)e=e.add(n);return e}const ZJ=new Ft(be);function eZ(){return ZJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function E4(t){return{integerValue:""+t}}function tZ(t,e){return kJ(e)?E4(e):A_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this._=void 0}}function nZ(t,e,n){return t instanceof sc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&E_(s)&&(s=T_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oc?S4(t,e):t instanceof ac?I4(t,e):function(i,s){const o=T4(i,s),a=LP(o)+LP(i.Pe);return jy(o)&&jy(i.Pe)?E4(a):A_(i.serializer,a)}(t,e)}function rZ(t,e,n){return t instanceof oc?S4(t,e):t instanceof ac?I4(t,e):n}function T4(t,e){return t instanceof Pf?function(r){return jy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class sc extends Wp{}class oc extends Wp{constructor(e){super(),this.elements=e}}function S4(t,e){const n=P4(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends Wp{constructor(e){super(),this.elements=e}}function I4(t,e){let n=P4(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Pf extends Wp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function LP(t){return ot(t.integerValue||t.doubleValue)}function P4(t){return S_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e,n){this.field=e,this.transform=n}}function sZ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oc&&i instanceof oc||r instanceof ac&&i instanceof ac?za(r.elements,i.elements,$r):r instanceof Pf&&i instanceof Pf?$r(r.Pe,i.Pe):r instanceof sc&&i instanceof sc}(t.transform,e.transform)}class oZ{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hp{}function C4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R_(t.key,Mr.none()):new zc(t.key,t.data,Mr.none());{const n=t.data,r=Gn.empty();let i=new Ft(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ao(t.key,r,new dr(i.toArray()),Mr.none())}}function aZ(t,e,n){t instanceof zc?function(i,s,o){const a=i.value.clone(),l=FP(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(i,s,o){if(!yd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=FP(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(A4(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,r){return t instanceof zc?function(s,o,a,l){if(!yd(s.precondition,o))return a;const c=s.value.clone(),h=$P(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ao?function(s,o,a,l){if(!yd(s.precondition,o))return a;const c=$P(s.fieldTransforms,l,o),h=o.data;return h.setAll(A4(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return yd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T4(r.transform,i||null);s!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,s))}return n||null}function VP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&za(r,i,(s,o)=>sZ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends Hp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ao extends Hp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FP(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rZ(o,a,n[i]))}return r}function $P(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nZ(s,o,e))}return r}class R_ extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uZ extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aZ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=C4(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(n,r)=>VP(n,r))&&za(this.baseMutations,e.baseMutations,(n,r)=>VP(n,r))}}class b_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=function(){return XJ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new b_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Te;function fZ(t){switch(t){default:return ce();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function R4(t){if(t===void 0)return gi("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return ce()}}(Te=dt||(dt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=new so([4294967295,4294967295],0);function jP(t){const e=pZ().encode(t),n=new XO;return n.update(e),new Uint8Array(n.digest())}function UP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new so([n,r],0),new so([i,s],0)]}class x_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(r<0)throw new nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=so.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(so.fromNumber(r)));return i.compare(mZ)===1&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=jP(e),[r,i]=UP(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new x_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=jP(e),[r,i]=UP(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kp(fe.min(),i,new et(be),vi(),ye())}}class Wc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wc(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class b4{constructor(e,n){this.targetId=e,this.me=n}}class x4{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BP{constructor(){this.fe=0,this.ge=WP(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),n=ye(),r=ye();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Wc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=WP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gZ{constructor(e){this.Le=e,this.Be=new Map,this.ke=vi(),this.qe=zP(),this.Qe=new et(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(By(s))if(r===0){const o=new re(s.path);this.Ue(n,o,Xt.newNoDocument(o,fe.min()))}else $e(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=_o(r).toUint8Array()}catch(l){if(l instanceof a4)return Ba("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new x_(o,i,s)}catch(l){return Ba(l instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&By(a.target)){const l=new re(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Xt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ye();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Kp(e,n,this.Qe,this.ke,r);return this.ke=vi(),this.qe=zP(),this.Qe=new et(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new BP,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new BP),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zP(){return new et(re.comparator)}function WP(){return new et(re.comparator)}const vZ={asc:"ASCENDING",desc:"DESCENDING"},yZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_Z={and:"AND",or:"OR"};class wZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hy(t,e){return t.useProto3Json||Up(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EZ(t,e){return Cf(t,e.toTimestamp())}function Lr(t){return $e(!!t),fe.fromTimestamp(function(n){const r=cs(n);return new Tt(r.seconds,r.nanos)}(t))}function k_(t,e){return Ky(t,e).canonicalString()}function Ky(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O4(t){const e=He.fromString(t);return $e(V4(e)),e}function Gy(t,e){return k_(t.databaseId,e.path)}function zg(t,e){const n=O4(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(N4(n))}function D4(t,e){return k_(t.databaseId,e)}function TZ(t){const e=O4(t);return e.length===4?He.emptyPath():N4(e)}function qy(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N4(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HP(t,e,n){return{name:Gy(t,e),fields:n.value.mapValue.fields}}function SZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?($e(h===void 0||typeof h=="string"),jt.fromBase64String(h||"")):($e(h===void 0||h instanceof Buffer||h instanceof Uint8Array),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:R4(c.code);return new Z(h,c.message||"")}(o);n=new x4(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zg(t,r.document.name),s=Lr(r.document.updateTime),o=r.document.createTime?Lr(r.document.createTime):fe.min(),a=new Gn({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new _d(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zg(t,r.document),s=r.readTime?Lr(r.readTime):fe.min(),o=Xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _d([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zg(t,r.document),s=r.removedTargetIds||[];n=new _d([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new dZ(i,s),a=r.targetId;n=new b4(a,o)}}return n}function IZ(t,e){let n;if(e instanceof zc)n={update:HP(t,e.key,e.value)};else if(e instanceof R_)n={delete:Gy(t,e.key)};else if(e instanceof Ao)n={update:HP(t,e.key,e.data),updateMask:DZ(e.fieldMask)};else{if(!(e instanceof uZ))return ce();n={verify:Gy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EZ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function PZ(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Lr(i.updateTime):Lr(s);return o.isEqual(fe.min())&&(o=Lr(s)),new oZ(o,i.transformResults||[])}(n,e))):[]}function CZ(t,e){return{documents:[D4(t,e.path)]}}function AZ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=D4(t,i);const s=function(c){if(c.length!==0)return L4(_r.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Go(f.field),direction:xZ(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function RZ(t){let e=TZ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=M4(d);return f instanceof _r&&h4(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new ic(qo(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Up(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new If(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new If(m,f)}(n.endAt)),KJ(e,i,o,s,a,"F",l,c)}function bZ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qo(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qo(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qo(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qo(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>M4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function xZ(t){return vZ[t]}function kZ(t){return yZ[t]}function OZ(t){return _Z[t]}function Go(t){return{fieldPath:t.canonicalString()}}function qo(t){return Lt.fromServerFormat(t.fieldPath)}function L4(t){return t instanceof mt?function(n){if(n.op==="=="){if(kP(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(xP(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kP(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(xP(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:kZ(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(i=>L4(i));return r.length===1?r[0]:{compositeFilter:{op:OZ(n.op),filters:r}}}(t):ce()}function DZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r,i,s=fe.min(),o=fe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e){this.ct=e}}function MZ(t){const e=RZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(){this.un=new VZ}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(us.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class VZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ka(0)}static kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(){this.changes=new ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Iu(r.mutation,i,dr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=tu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vi();const o=Su(),a=function(){return Su()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ao)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Iu(h.mutation,c,h.mutation.getFieldMask(),Tt.now())):o.set(c.key,dr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new $Z(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Su();let i=new et((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||dr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=w4();h.forEach(f=>{if(!s.has(f)){const m=C4(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(Ys());let a=-1,l=s;return o.next(c=>z.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ye())).next(h=>({batchId:a,changes:_4(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=tu();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const c=function(d,f){return new ll(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Xt.newInvalidDocument(h)))});let a=tu();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Iu(h.mutation,c,dr.empty(),Tt.now()),zp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Lr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:MZ(i.bundledQuery),readTime:Lr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(){this.overlays=new et(re.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=Ys(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Ys(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ys(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hZ(n,r));let s=this.Ir.get(n);s===void 0&&(s=ye(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.Tr=new Ft(Pt.Er),this.dr=new Ft(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new re(new He([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new re(new He([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=ye();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ft(Pt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cZ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(be);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new re(s),0);let a=new Ft(be);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pt(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e){this.Mr=e,this.docs=function(){return new et(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vi();const o=n.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||AJ(CJ(h),r)<=0||(i.has(h.key)||zp(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KZ(this)}getSize(e){return z.resolve(this.size)}}class KZ extends FZ{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e){this.persistence=e,this.Nr=new ul(n=>I_(n),P_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new O_,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(e,n){this.qr={},this.overlays={},this.Qr=new w_(0),this.Kr=!1,this.Kr=!0,this.$r=new zZ,this.referenceDelegate=e(this),this.Ur=new GZ(this),this.indexManager=new LZ,this.remoteDocumentCache=function(i){return new HZ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new NZ(n),this.Gr=new UZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new WZ(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new QZ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class QZ extends bJ{constructor(e){super(),this.currentSequenceNumber=e}}class D_{constructor(e){this.persistence=e,this.Jr=new O_,this.Yr=null}static Zr(e){return new D_(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=re.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new N_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return OG()?8:xJ(tn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YZ;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Bl()<=we.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Bl()<=we.DEBUG&&te("QueryEngine","Query:",Ko(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Bl()<=we.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):z.resolve())}Yi(e,n){if(MP(n))return z.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wy(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Wy(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return MP(n)||i.isEqual(fe.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(Bl()<=we.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ko(n)),this.rs(e,o,n,PJ(i,-1)).next(a=>a))})}ts(e,n){let r=new Ft(v4(e));return n.forEach((i,s)=>{zp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Bl()<=we.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.Ji.getDocumentsMatchingQuery(e,n,us.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(be),this._s=new ul(s=>I_(s),P_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jZ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function ZZ(t,e,n,r){return new JZ(t,e,n,r)}async function F4(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ye();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function eee(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let m=z.resolve();return f.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(T=>{const P=c.docVersions.get(w);$e(P!==null),T.version.compareTo(P)<0&&(d.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $4(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tee(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(T,P,_){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,h)&&a.push(n.Ur.updateTargetData(s,m))});let l=vi(),c=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(nee(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(fe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function nee(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function ree(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iee(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Qy(t,e,n){const r=pe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function KP(t,e,n){const r=pe(t);let i=fe.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=pe(l),f=d._s.get(h);return f!==void 0?z.resolve(d.os.get(f)):d.Ur.getTargetData(c,h)}(r,o,Nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:fe.min(),n?s:ye())).next(a=>(see(r,qJ(e),a),{documents:a,Ts:s})))}function see(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class GP{constructor(){this.activeTargetIds=eZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oee{constructor(){this.so=new GP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new GP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function Wg(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class cee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Wg(),l=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(te("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ba("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=lee[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Wg();return new Promise((o,a)=>{const l=new JO;l.setWithCredentials(!0),l.listenOnce(e4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gd.NO_ERROR:const h=l.getResponseJson();te(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case gd.TIMEOUT:te(Gt,`RPC '${e}' ${s} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const d=l.getStatus();if(te(Gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(m.status);a(new Z(w,m.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{te(Gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(Gt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Wg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r4(),a=n4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new ZO({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");te(Gt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,m=!1;const w=new uee({Io:P=>{m?te(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(f||(te(Gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(Gt,`RPC '${e}' stream ${i} sending:`,P),d.send(P))},To:()=>d.close()}),T=(P,_,y)=>{P.listen(_,E=>{try{y(E)}catch(b){setTimeout(()=>{throw b},0)}})};return T(d,eu.EventType.OPEN,()=>{m||(te(Gt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),T(d,eu.EventType.CLOSE,()=>{m||(m=!0,te(Gt,`RPC '${e}' stream ${i} transport closed`),w.So())}),T(d,eu.EventType.ERROR,P=>{m||(m=!0,Ba(Gt,`RPC '${e}' stream ${i} transport errored:`,P),w.So(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),T(d,eu.EventType.MESSAGE,P=>{var _;if(!m){const y=P.data[0];$e(!!y);const E=y,b=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(b){te(Gt,`RPC '${e}' stream ${i} received error:`,b);const L=b.status;let j=function(I){const A=dt[I];if(A!==void 0)return R4(A)}(L),C=b.message;j===void 0&&(j=B.INTERNAL,C="Unknown error status: "+L+" with message "+b.message),m=!0,w.So(new Z(j,C)),d.close()}else te(Gt,`RPC '${e}' stream ${i} received:`,y),w.bo(y)}}),T(a,t4.STAT_EVENT,P=>{P.stat===Fy.PROXY?te(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Fy.NOPROXY&&te(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){return new wZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new j4(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hee extends U4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=SZ(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Lr(o.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=qy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=By(l)?{documents:CZ(s,l)}:{query:AZ(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=k4(s,o.resumeToken);const c=Hy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Cf(s,o.snapshotVersion.toTimestamp());const c=Hy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bZ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=qy(this.serializer),n.removeTarget=e,this.a_(n)}}class dee extends U4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=PZ(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=qy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IZ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ky(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ky(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gi(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ro(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=pe(l);c.L_.add(4),await Hc(c),c.q_.set("Unknown"),c.L_.delete(4),await qp(c)}(this))})}),this.q_=new pee(r,i)}}async function qp(t){if(Ro(t))for(const e of t.B_)await e(!0)}async function Hc(t){for(const e of t.B_)await e(!1)}function B4(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),F_(n)?V_(n):cl(n).r_()&&L_(n,e))}function M_(t,e){const n=pe(t),r=cl(n);n.N_.delete(e),r.r_()&&z4(n,e),n.N_.size===0&&(r.r_()?r.o_():Ro(n)&&n.q_.set("Unknown"))}function L_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).A_(e)}function z4(t,e){t.Q_.xe(e),cl(t).R_(e)}function V_(t){t.Q_=new gZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.q_.v_()}function F_(t){return Ro(t)&&!cl(t).n_()&&t.N_.size>0}function Ro(t){return pe(t).L_.size===0}function W4(t){t.Q_=void 0}async function gee(t){t.q_.set("Online")}async function vee(t){t.N_.forEach((e,n)=>{L_(t,e)})}async function yee(t,e){W4(t),F_(t)?(t.q_.M_(e),V_(t)):t.q_.set("Unknown")}async function _ee(t,e,n){if(t.q_.set("Online"),e instanceof x4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Af(t,r)}else if(e instanceof _d?t.Q_.Ke(e):e instanceof b4?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{const r=await $4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),z4(s,l);const d=new zi(h.target,l,c,h.sequenceNumber);L_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Af(t,r)}}async function Af(t,e,n){if(!Bc(e))throw e;t.L_.add(1),await Hc(t),t.q_.set("Offline"),n||(n=()=>$4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await qp(t)})}function H4(t,e){return e().catch(n=>Af(t,n,e))}async function Qp(t){const e=pe(t),n=hs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wee(e);)try{const i=await ree(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Eee(e,i)}catch(i){await Af(e,i)}K4(e)&&G4(e)}function wee(t){return Ro(t)&&t.O_.length<10}function Eee(t,e){t.O_.push(e);const n=hs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function K4(t){return Ro(t)&&!hs(t).n_()&&t.O_.length>0}function G4(t){hs(t).start()}async function Tee(t){hs(t).p_()}async function See(t){const e=hs(t);for(const n of t.O_)e.m_(n.mutations)}async function Iee(t,e,n){const r=t.O_.shift(),i=b_.from(r,e,n);await H4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qp(t)}async function Pee(t,e){e&&hs(t).V_&&await async function(r,i){if(function(o){return fZ(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();hs(r).s_(),await H4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qp(r)}}(t,e),K4(t)&&G4(t)}async function QP(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Ro(n);n.L_.add(3),await Hc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await qp(n)}async function Cee(t,e){const n=pe(t);e?(n.L_.delete(2),await qp(n)):e||(n.L_.add(2),await Hc(n),n.q_.set("Unknown"))}function cl(t){return t.K_||(t.K_=function(n,r,i){const s=pe(n);return s.w_(),new hee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gee.bind(null,t),Ro:vee.bind(null,t),mo:yee.bind(null,t),d_:_ee.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),F_(t)?V_(t):t.q_.set("Unknown")):(await t.K_.stop(),W4(t))})),t.K_}function hs(t){return t.U_||(t.U_=function(n,r,i){const s=pe(n);return s.w_(),new dee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Tee.bind(null,t),mo:Pee.bind(null,t),f_:See.bind(null,t),g_:Iee.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Qp(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j_(t,e){if(gi("AsyncQueue",`${e}: ${t}`),Bc(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=tu(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.W_=new et(re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ga(e,n,Sa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Ree{constructor(){this.queries=XP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=XP(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function XP(){return new ul(t=>g4(t),Bp)}async function bee(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Aee,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=j_(o,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&U_(n)}async function xee(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kee(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&U_(n)}function Oee(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function U_(t){t.Y_.forEach(e=>{e.next()})}var Yy,JP;(JP=Yy||(Yy={})).ea="default",JP.Cache="cache";class Dee{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.key=e}}class Q4{constructor(e){this.key=e}}class Nee{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=v4(e),this.Ra=new Sa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new YP,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),m=zp(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;f&&m?f.data.isEqual(m.data)?w!==T&&(r.track({type:3,doc:m}),P=!0):this.ga(f,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),P=!0):f&&!m&&(r.track({type:1,doc:f}),P=!0,(l||c)&&(a=!0)),P&&(m?(o=o.add(m),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(m,w){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return T(m)-T(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ga(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new YP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Q4(r))}),this.da.forEach(r=>{e.has(r)||n.push(new q4(r))}),n}ba(e){this.Ta=e.Ts,this.da=ye();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ga.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Mee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lee{constructor(e){this.key=e,this.va=!1}}class Vee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ul(a=>g4(a),Bp),this.Ma=new Map,this.xa=new Set,this.Oa=new et(re.comparator),this.Na=new Map,this.La=new O_,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Fee(t,e,n=!0){const r=tD(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Y4(r,e,n,!0),i}async function $ee(t,e){const n=tD(t);await Y4(n,e,!0,!1)}async function Y4(t,e,n,r){const i=await iee(t.localStore,Nr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await jee(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&B4(t.remoteStore,i),a}async function jee(t,e,n,r,i){t.Ka=(d,f,m)=>async function(T,P,_,y){let E=P.view.ma(_);E.ns&&(E=await KP(T.localStore,P.query,!1).then(({documents:C})=>P.view.ma(C,E)));const b=y&&y.targetChanges.get(P.targetId),L=y&&y.targetMismatches.get(P.targetId)!=null,j=P.view.applyChanges(E,T.isPrimaryClient,b,L);return e2(T,P.targetId,j.wa),j.snapshot}(t,d,f,m);const s=await KP(t.localStore,e,!0),o=new Nee(e,s.Ts),a=o.ma(s.documents),l=Wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);e2(t,n,c.wa);const h=new Mee(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Uee(t,e,n){const r=pe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Bp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&M_(r.remoteStore,i.targetId),Xy(r,i.targetId)}).catch(Uc)):(Xy(r,i.targetId),await Qy(r.localStore,i.targetId,!0))}async function Bee(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))}async function zee(t,e,n){const r=Yee(t);try{const i=await function(o,a){const l=pe(o),c=Tt.now(),h=a.reduce((m,w)=>m.add(w.key),ye());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=vi(),T=ye();return l.cs.getEntries(m,h).next(P=>{w=P,w.forEach((_,y)=>{y.isValidDocument()||(T=T.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(P=>{d=P;const _=[];for(const y of a){const E=lZ(y,d.get(y.key).overlayedDocument);E!=null&&_.push(new Ao(y.key,E,l4(E.value.mapValue),Mr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(P=>{f=P;const _=P.applyToLocalDocumentSet(d,T);return l.documentOverlayCache.saveOverlays(m,P.batchId,_)})}).then(()=>({batchId:f.batchId,changes:_4(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new et(be)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Kc(r,i.changes),await Qp(r.remoteStore)}catch(i){const s=j_(i,"Failed to persist write");n.reject(s)}}async function X4(t,e){const n=pe(t);try{const r=await tee(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?$e(o.va):i.removedDocuments.size>0&&($e(o.va),o.va=!1))}),await Kc(n,r,e)}catch(r){await Uc(r)}}function ZP(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&U_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wee(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new et(re.comparator);o=o.insert(s,Xt.newNoDocument(s,fe.min()));const a=ye().add(s),l=new Kp(fe.min(),new Map,new et(be),o,a);await X4(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),B_(r)}else await Qy(r.localStore,e,!1).then(()=>Xy(r,e,n)).catch(Uc)}async function Hee(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await eee(n.localStore,e);Z4(n,r,null),J4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kc(n,i)}catch(i){await Uc(i)}}async function Kee(t,e,n){const r=pe(t);try{const i=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>($e(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);Z4(r,e,n),J4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kc(r,i)}catch(i){await Uc(i)}}function J4(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Z4(t,e,n){const r=pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Xy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eD(t,r)})}function eD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(M_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),B_(t))}function e2(t,e,n){for(const r of n)r instanceof q4?(t.La.addReference(r.key,e),Gee(t,r)):r instanceof Q4?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eD(t,r.key)):ce()}function Gee(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),B_(t))}function B_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new re(He.fromString(e)),r=t.qa.next();t.Na.set(r,new Lee(n)),t.Oa=t.Oa.insert(n,r),B4(t.remoteStore,new zi(Nr(C_(n.path)),r,"TargetPurposeLimboResolution",w_.oe))}}async function Kc(t,e,n){const r=pe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=N_.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,f=>z.forEach(f.$i,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>z.forEach(f.Ui,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Bc(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=h.os.get(f),w=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(f,T)}}}(r.localStore,s))}async function qee(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await F4(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kc(n,r.hs)}}function Qee(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function tD(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wee.bind(null,e),e.Ca.d_=kee.bind(null,e.eventManager),e.Ca.$a=Oee.bind(null,e.eventManager),e}function Yee(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kee.bind(null,e),e}class t2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZZ(this.persistence,new XZ,e.initialUser,this.serializer)}createPersistence(e){return new qZ(D_.Zr,this.serializer)}createSharedClientState(e){return new oee}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Xee{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qee.bind(null,this.syncEngine),await Cee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ree}()}createDatastore(e){const n=Gp(e.databaseInfo.databaseId),r=function(s){return new cee(s)}(e.databaseInfo);return function(s,o,a,l){return new fee(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new mee(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ZP(this.syncEngine,n,0),function(){return qP.D()?new qP:new aee}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new Vee(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Hc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qt.UNAUTHENTICATED,this.clientId=s4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{te("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=j_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kg(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function n2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tte(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>QP(e.remoteStore,i)),t._onlineComponents=e}function ete(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function tte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ete(n))throw n;Ba("Error using user provided cache. Falling back to memory cache: "+n),await Kg(t,new t2)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Kg(t,new t2);return t._offlineComponents}async function nD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await n2(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await n2(t,new Xee))),t._onlineComponents}function nte(t){return nD(t).then(e=>e.syncEngine)}async function r2(t){const e=await nD(t),n=e.eventManager;return n.onListen=Fee.bind(null,e.syncEngine),n.onUnlisten=Uee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$ee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bee.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rte(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s2(t){if(!re.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o2(t){if(re.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Ia(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yp(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gJ;switch(r.type){case"firstParty":return new wJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i2.get(n);r&&(te("ComponentProvider","Removing Datastore"),i2.delete(n),r.terminate())}(this),Promise.resolve()}}function ite(t,e,n,r={}){var i;const s=(t=Ia(t,Xp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Qt.MOCK_USER;else{a=AG(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qt(c)}t._authCredentials=new vJ(new i4(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class ts extends bo{constructor(e,n,r){super(e,n,C_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new re(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function sD(t,e,...n){if(t=nn(t),iD("collection","path",e),t instanceof Xp){const r=He.fromString(e,...n);return o2(r),new ts(t,null,r)}{if(!(t instanceof bn||t instanceof ts))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return o2(r),new ts(t.firestore,null,r)}}function oD(t,e,...n){if(t=nn(t),arguments.length===1&&(e=s4.newId()),iD("doc","path",e),t instanceof Xp){const r=He.fromString(e,...n);return s2(r),new bn(t,null,new re(r))}{if(!(t instanceof bn||t instanceof ts))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return s2(r),new bn(t.firestore,t instanceof ts?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new j4(this,"async_queue_retry"),this.Eu=()=>{const n=Hg();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Hg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new oo;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Bc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=$_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ce()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function l2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class lc extends Xp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ste}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lD(this),this._firestoreClient.terminate()}}function ote(t,e){const n=typeof t=="object"?t:n_(),r=typeof t=="string"?t:"(default)",i=Co(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=PG("firestore");s&&ite(i,...s)}return i}function aD(t){return t._firestoreClient||lD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new DJ(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,rD(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Zee(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(jt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qa(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=/^__.*__$/;class lte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}function uD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class G_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new G_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Rf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(uD(this.wu)&&ate.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class ute{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gp(e)}Nu(e,n,r,i=!1){return new G_({wu:e,methodName:n,Ou:r,path:Lt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cD(t){const e=t._freezeSettings(),n=Gp(t._databaseId);return new ute(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cte(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);fD("Data must be an object, but it was:",o,r);const a=hD(r,o);let l,c;if(s.merge)l=new dr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=dte(e,d,n);if(!o.contains(f))throw new Z(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pte(h,f)||h.push(f)}l=new dr(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new lte(new Gn(a),l,c)}class q_ extends W_{_toFieldTransform(e){return new iZ(e.path,new sc)}isEqual(e){return e instanceof q_}}function hte(t,e,n,r=!1){return Q_(n,t.Nu(r?4:3,e))}function Q_(t,e){if(dD(t=nn(t)))return fD("Unsupported field value:",e,t),hD(t,e);if(t instanceof W_)return function(r,i){if(!uD(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Q_(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tZ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tt.fromDate(r);return{timestampValue:Cf(i.serializer,s)}}if(r instanceof Tt){const s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(i.serializer,s)}}if(r instanceof H_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:k4(i.serializer,r._byteString)};if(r instanceof bn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:k_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof K_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return A_(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Yp(r)}`)}(t,e)}function hD(t,e){const n={};return o4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,(r,i)=>{const s=Q_(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof H_||t instanceof qa||t instanceof bn||t instanceof W_||t instanceof K_)}function fD(t,e,n){if(!dD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function dte(t,e,n){if((e=nn(e))instanceof z_)return e._internalPath;if(typeof e=="string")return pD(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const fte=new RegExp("[~\\*/\\[\\]]");function pD(t,e,n){if(e.search(fte)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new z_(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z(B.INVALID_ARGUMENT,a+t+l)}function pte(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Y_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mte extends mD{data(){return super.data()}}function Y_(t,e){return typeof e=="string"?pD(t,e):e instanceof z_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X_{}class gD extends X_{}function vte(t,e,...n){let r=[];e instanceof X_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Z_).length,a=s.filter(l=>l instanceof J_).length;if(o>1||o>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class J_ extends gD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new J_(e,n,r)}_apply(e){const n=this._parse(e);return vD(e._query,n),new bo(e.firestore,e.converter,zy(e._query,n))}_parse(e){const n=cD(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){c2(d,h);const m=[];for(const w of d)m.push(u2(l,s,w));f={arrayValue:{values:m}}}else f=u2(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||c2(d,h),f=hte(a,o,d,h==="in"||h==="not-in");return mt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Z_ extends X_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vD(o,l),o=zy(o,l)}(e._query,n),new bo(e.firestore,e.converter,zy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ew extends gD{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ew(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Z(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(s,o)}(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ll(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function yte(t,e="asc"){const n=e,r=Y_("orderBy",t);return ew._create(r,n)}function u2(t,e,n){if(typeof(n=nn(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m4(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!re.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bP(t,new re(r))}if(n instanceof bn)return bP(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function c2(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vD(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _te{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return al(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ot(o.doubleValue));return new K_(s)}convertGeoPoint(e){return new H_(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=T_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=cs(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);$e(V4(r));const i=new nc(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||gi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wte(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yD extends mD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Y_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wd extends yD{data(e={}){return super.data(e)}}class Ete{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ru(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wd(this._firestore,this._userDataWriter,r.key,r,new ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new wd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ru(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new wd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ru(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Tte(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class _D extends _te{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function Ste(t){return wD(Ia(t.firestore,lc),[new R_(t._key,Mr.none())])}function Ite(t,e){const n=Ia(t.firestore,lc),r=oD(t),i=wte(t.converter,e);return wD(n,[cte(cD(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function Pte(t,...e){var n,r,i;t=nn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||l2(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(l2(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,h;if(t instanceof bn)c=Ia(t.firestore,lc),h=C_(t._key.path),l={next:d=>{e[o]&&e[o](Cte(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ia(t,bo);c=Ia(d.firestore,lc),h=d._query;const f=new _D(c);l={next:m=>{e[o]&&e[o](new Ete(c,f,d,m))},error:e[o+1],complete:e[o+2]},gte(t._query)}return function(f,m,w,T){const P=new Jee(T),_=new Dee(m,P,w);return f.asyncQueue.enqueueAndForget(async()=>bee(await r2(f),_)),()=>{P.za(),f.asyncQueue.enqueueAndForget(async()=>xee(await r2(f),_))}}(aD(c),h,a,l)}function wD(t,e){return function(r,i){const s=new oo;return r.asyncQueue.enqueueAndForget(async()=>zee(await nte(r),i,s)),s.promise}(aD(t),e)}function Cte(t,e,n){const r=n.docs.get(e._key),i=new _D(t);return new yD(t,i,e._key,r,new ru(n.hasPendingWrites,n.fromCache),e.converter)}function Ate(){return new q_("serverTimestamp")}(function(e,n=!0){(function(i){ol=i})(il),Vr(new yr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new lc(new yJ(r.getProvider("auth-internal")),new TJ(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Yn(IP,"4.7.1",e),Yn(IP,"4.7.1","esm2017")})();const Rte={apiKey:"AIzaSyCnBjXgEfDMbL5ErRB-E0Emhh2Qgd5rXxc",authDomain:"clone-yt-46070.firebaseapp.com",projectId:"clone-yt-46070",storageBucket:"clone-yt-46070.appspot.com",messagingSenderId:"81360867061",appId:"1:81360867061:web:fa683ae0327f07e54d7fbc",measurementId:"G-LYTGS2WKBL"},ED=Qk(Rte);dJ(ED);const TD=GY(),tw=ote(ED),bte=new Gr;function xte(){const[t,e]=V.useState(""),[n,r]=V.useState(!1),{user:i}=Oc(a=>a.appSlice),s=nl(),o=()=>{LQ(TD).then(()=>{s(cx(null))}).catch(a=>{console.log(a)})};return V.useEffect(()=>{s(HB(t))},[t]),M.jsxs("div",{className:"flex items-center justify-between mx-3 h-16",children:[M.jsx("div",{className:"flex items-center gap-10",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(MU,{size:"20px"})}),M.jsx("img",{className:"w-8",src:"https://static.vecteezy.com/system/resources/previews/020/964/377/non_2x/gmail-mail-icon-for-web-design-free-png.png",alt:"gmail-logo"}),M.jsx("h1",{className:"text-2xl text-gray-500 font-medium ",children:"Gmail"})]})}),M.jsx("div",{className:"md:block hidden w-[50%] mr-60",children:M.jsxs("div",{className:"flex items-center bg-[#EAF1FB] px-2 py-3 rounded-full",children:[M.jsx(bU,{size:"24px",className:"text-gray-700"}),M.jsx("input",{type:"text",value:t,onChange:a=>e(a.target.value),placeholder:"Search Mail",className:"rounded-full w-full bg-transparent outline-none px-1"})]})}),M.jsx("div",{className:"md:block hidden",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(AU,{size:"20px"})}),M.jsx("div",{className:"p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(RU,{size:"20px"})}),M.jsx("div",{className:"p-3 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(DU,{size:"20px"})}),M.jsxs("div",{className:" relative cursor-pointer",children:[M.jsx(_U,{onClick:()=>r(!n),src:i==null?void 0:i.photoURL,size:"40",round:!0,name:"SS"}),M.jsx(vG,{children:n&&M.jsx(e_.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.1},className:"absolute right-2 z-20 shadow-lg bg-white rounded-md",children:M.jsx("p",{onClick:o,className:"p-2 underline",children:"Logout"})})})]})]})})]})}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qe.apply(this,arguments)}var ft;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ft||(ft={}));const h2="popstate";function kte(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return uc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gc(i)}return Dte(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ote(){return Math.random().toString(36).substr(2,8)}function d2(t,e){return{usr:t.state,key:t.key,idx:e}}function uc(t,e,n,r){return n===void 0&&(n=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ts(e):e,{state:n,key:e&&e.key||r||Ote()})}function Gc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Dte(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ft.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Qe({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=ft.Pop;let P=h(),_=P==null?null:P-c;c=P,l&&l({action:a,location:T.location,delta:_})}function f(P,_){a=ft.Push;let y=uc(T.location,P,_);c=h()+1;let E=d2(y,c),b=T.createHref(y);try{o.pushState(E,"",b)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(b)}s&&l&&l({action:a,location:T.location,delta:1})}function m(P,_){a=ft.Replace;let y=uc(T.location,P,_);c=h();let E=d2(y,c),b=T.createHref(y);o.replaceState(E,"",b),s&&l&&l({action:a,location:T.location,delta:0})}function w(P){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:Gc(P);return y=y.replace(/ $/,"%20"),me(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let T={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(h2,d),l=P,()=>{i.removeEventListener(h2,d),l=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let _=w(P);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(P){return o.go(P)}};return T}var Le;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Le||(Le={}));const Nte=new Set(["lazy","caseSensitive","path","id","index","children"]);function Mte(t){return t.index===!0}function cc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(me(i.index!==!0||!i.children,"Cannot specify children on an index route"),me(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Mte(i)){let l=Qe({},i,e(i),{id:a});return r[a]=l,l}else{let l=Qe({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=cc(i.children,e,o,r)),l}})}function zs(t,e,n){return n===void 0&&(n="/"),Ed(t,e,n,!1)}function Ed(t,e,n,r){let i=typeof e=="string"?Ts(e):e,s=qc(i.pathname||"/",n);if(s==null)return null;let o=SD(t);Vte(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=qte(s);a=Kte(o[l],c,r)}return a}function Lte(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function SD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ns([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),SD(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Wte(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ID(s.path))i(s,o,l)}),e}function ID(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ID(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Vte(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Hte(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fte=/^:[\w-]+$/,$te=3,jte=2,Ute=1,Bte=10,zte=-2,f2=t=>t==="*";function Wte(t,e){let n=t.split("/"),r=n.length;return n.some(f2)&&(r+=zte),e&&(r+=jte),n.filter(i=>!f2(i)).reduce((i,s)=>i+(Fte.test(s)?$te:s===""?Ute:Bte),r)}function Hte(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Kte(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=p2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=p2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ns([s,d.pathname]),pathnameBase:Xte(ns([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=ns([s,d.pathnameBase]))}return o}function p2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gte(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let T=a[d]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[d];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Gte(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qte(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qte(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ts(t):t;return{pathname:n?n.startsWith("/")?n:Yte(n,e):e,search:Jte(r),hash:Zte(i)}}function Yte(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CD(t,e){let n=PD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ts(t):(i=Qe({},t),me(!i.pathname||!i.pathname.includes("?"),Gg("?","pathname","search",i)),me(!i.pathname||!i.pathname.includes("#"),Gg("#","pathname","hash",i)),me(!i.search||!i.search.includes("#"),Gg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Qte(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ns=t=>t.join("/").replace(/\/\/+/g,"/"),Xte=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Jte=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zte=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class bf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Jp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RD=["post","put","patch","delete"],ene=new Set(RD),tne=["get",...RD],nne=new Set(tne),rne=new Set([301,302,303,307,308]),ine=new Set([307,308]),qg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,one=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),bD="remix-router-transitions";function ane(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=O=>({hasErrorBoundary:k(O)})}else i=one;let s={},o=cc(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||dne,h=t.unstable_patchRoutesOnNavigation,d=Qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,w=1e3,T=new Set,P=null,_=null,y=null,E=t.hydrationData!=null,b=zs(o,t.history.location,l),L=null;if(b==null&&!h){let k=sn(404,{pathname:t.history.location.pathname}),{matches:O,route:F}=I2(o);b=O,L={[F.id]:k}}b&&!t.hydrationData&&ht(b,o,t.history.location.pathname).active&&(b=null);let j;if(b)if(b.some(k=>k.route.lazy))j=!1;else if(!b.some(k=>k.route.loader))j=!0;else if(d.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null,F=U=>U.route.loader?typeof U.route.loader=="function"&&U.route.loader.hydrate===!0?!1:k&&k[U.route.id]!==void 0||O&&O[U.route.id]!==void 0:!0;if(O){let U=b.findIndex(Y=>O[Y.route.id]!==void 0);j=b.slice(0,U+1).every(F)}else j=b.every(F)}else j=t.hydrationData!=null;else if(j=!1,b=[],d.v7_partialHydration){let k=ht(null,o,t.history.location.pathname);k.active&&k.matches&&(b=k.matches)}let C,g={historyAction:t.history.action,location:t.history.location,matches:b,initialized:j,navigation:qg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},I=ft.Pop,A=!1,x,D=!1,R=new Map,_e=null,Ce=!1,qe=!1,It=[],q=new Set,X=new Map,le=0,Oe=-1,Ee=new Map,xe=new Set,Ut=new Map,rn=new Map,vt=new Set,bt=new Map,Ur=new Map,rm=new Map,Ti=!1;function xo(){if(f=t.history.listen(k=>{let{action:O,location:F,delta:U}=k;if(Ti){Ti=!1;return}Qa(Ur.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=Do({currentLocation:g.location,nextLocation:F,historyAction:O});if(Y&&U!=null){Ti=!0,t.history.go(U*-1),Ir(Y,{state:"blocked",location:F,proceed(){Ir(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(U)},reset(){let ee=new Map(g.blockers);ee.set(Y,zl),yt({blockers:ee})}});return}return Br(O,F)}),n){Pne(e,R);let k=()=>Cne(e,R);e.addEventListener("pagehide",k),_e=()=>e.removeEventListener("pagehide",k)}return g.initialized||Br(ft.Pop,g.location,{initialHydration:!0}),C}function hl(){f&&f(),_e&&_e(),m.clear(),x&&x.abort(),g.fetchers.forEach((k,O)=>Ps(O)),g.blockers.forEach((k,O)=>yl(O))}function dl(k){return m.add(k),()=>m.delete(k)}function yt(k,O){O===void 0&&(O={}),g=Qe({},g,k);let F=[],U=[];d.v7_fetcherPersist&&g.fetchers.forEach((Y,ee)=>{Y.state==="idle"&&(vt.has(ee)?U.push(ee):F.push(ee))}),[...m].forEach(Y=>Y(g,{deletedFetchers:U,unstable_viewTransitionOpts:O.viewTransitionOpts,unstable_flushSync:O.flushSync===!0})),d.v7_fetcherPersist&&(F.forEach(Y=>g.fetchers.delete(Y)),U.forEach(Y=>Ps(Y)))}function Sr(k,O,F){var U,Y;let{flushSync:ee}=F===void 0?{}:F,se=g.actionData!=null&&g.navigation.formMethod!=null&&ar(g.navigation.formMethod)&&g.navigation.state==="loading"&&((U=k.state)==null?void 0:U._isRedirect)!==!0,H;O.actionData?Object.keys(O.actionData).length>0?H=O.actionData:H=null:se?H=g.actionData:H=null;let oe=O.loaderData?T2(g.loaderData,O.loaderData,O.matches||[],O.errors):g.loaderData,ne=g.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Se,ke)=>ne.set(ke,zl)));let he=A===!0||g.navigation.formMethod!=null&&ar(g.navigation.formMethod)&&((Y=k.state)==null?void 0:Y._isRedirect)!==!0;a&&(o=a,a=void 0),Ce||I===ft.Pop||(I===ft.Push?t.history.push(k,k.state):I===ft.Replace&&t.history.replace(k,k.state));let Ae;if(I===ft.Pop){let Se=R.get(g.location.pathname);Se&&Se.has(k.pathname)?Ae={currentLocation:g.location,nextLocation:k}:R.has(k.pathname)&&(Ae={currentLocation:k,nextLocation:g.location})}else if(D){let Se=R.get(g.location.pathname);Se?Se.add(k.pathname):(Se=new Set([k.pathname]),R.set(g.location.pathname,Se)),Ae={currentLocation:g.location,nextLocation:k}}yt(Qe({},O,{actionData:H,loaderData:oe,historyAction:I,location:k,initialized:!0,navigation:qg,revalidation:"idle",restoreScrollPosition:wl(k,O.matches||g.matches),preventScrollReset:he,blockers:ne}),{viewTransitionOpts:Ae,flushSync:ee===!0}),I=ft.Pop,A=!1,D=!1,Ce=!1,qe=!1,It=[]}async function fl(k,O){if(typeof k=="number"){t.history.go(k);return}let F=Jy(g.location,g.matches,l,d.v7_prependBasename,k,d.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:U,submission:Y,error:ee}=m2(d.v7_normalizeFormMethod,!1,F,O),se=g.location,H=uc(g.location,U,O&&O.state);H=Qe({},H,t.history.encodeLocation(H));let oe=O&&O.replace!=null?O.replace:void 0,ne=ft.Push;oe===!0?ne=ft.Replace:oe===!1||Y!=null&&ar(Y.formMethod)&&Y.formAction===g.location.pathname+g.location.search&&(ne=ft.Replace);let he=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,Ae=(O&&O.unstable_flushSync)===!0,Se=Do({currentLocation:se,nextLocation:H,historyAction:ne});if(Se){Ir(Se,{state:"blocked",location:H,proceed(){Ir(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),fl(k,O)},reset(){let ke=new Map(g.blockers);ke.set(Se,zl),yt({blockers:ke})}});return}return await Br(ne,H,{submission:Y,pendingError:ee,preventScrollReset:he,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition,flushSync:Ae})}function im(){if(ko(),yt({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){Br(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}Br(I||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function Br(k,O,F){x&&x.abort(),x=null,I=k,Ce=(F&&F.startUninterruptedRevalidation)===!0,As(g.location,g.matches),A=(F&&F.preventScrollReset)===!0,D=(F&&F.enableViewTransition)===!0;let U=a||o,Y=F&&F.overrideNavigation,ee=zs(U,O,l),se=(F&&F.flushSync)===!0,H=ht(ee,U,O.pathname);if(H.active&&H.matches&&(ee=H.matches),!ee){let{error:Ie,notFoundMatches:_t,route:Be}=Cs(O.pathname);Sr(O,{matches:_t,loaderData:{},errors:{[Be.id]:Ie}},{flushSync:se});return}if(g.initialized&&!qe&&yne(g.location,O)&&!(F&&F.submission&&ar(F.submission.formMethod))){Sr(O,{matches:ee},{flushSync:se});return}x=new AbortController;let oe=Wo(t.history,O,x.signal,F&&F.submission),ne;if(F&&F.pendingError)ne=[fa(ee).route.id,{type:Le.error,error:F.pendingError}];else if(F&&F.submission&&ar(F.submission.formMethod)){let Ie=await Qc(oe,O,F.submission,ee,H.active,{replace:F.replace,flushSync:se});if(Ie.shortCircuited)return;if(Ie.pendingActionResult){let[_t,Be]=Ie.pendingActionResult;if(In(Be)&&Jp(Be.error)&&Be.error.status===404){x=null,Sr(O,{matches:Ie.matches,loaderData:{},errors:{[_t]:Be.error}});return}}ee=Ie.matches||ee,ne=Ie.pendingActionResult,Y=Qg(O,F.submission),se=!1,H.active=!1,oe=Wo(t.history,oe.url,oe.signal)}let{shortCircuited:he,matches:Ae,loaderData:Se,errors:ke}=await pl(oe,O,ee,H.active,Y,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,se,ne);he||(x=null,Sr(O,Qe({matches:Ae||ee},S2(ne),{loaderData:Se,errors:ke})))}async function Qc(k,O,F,U,Y,ee){ee===void 0&&(ee={}),ko();let se=Sne(O,F);if(yt({navigation:se},{flushSync:ee.flushSync===!0}),Y){let ne=await Rs(U,O.pathname,k.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let{boundaryId:he,error:Ae}=$n(O.pathname,ne);return{matches:ne.partialMatches,pendingActionResult:[he,{type:Le.error,error:Ae}]}}else if(ne.matches)U=ne.matches;else{let{notFoundMatches:he,error:Ae,route:Se}=Cs(O.pathname);return{matches:he,pendingActionResult:[Se.id,{type:Le.error,error:Ae}]}}}let H,oe=iu(U,O);if(!oe.route.action&&!oe.route.lazy)H={type:Le.error,error:sn(405,{method:k.method,pathname:O.pathname,routeId:oe.route.id})};else if(H=(await it("action",k,[oe],U))[0],k.signal.aborted)return{shortCircuited:!0};if(Js(H)){let ne;return ee&&ee.replace!=null?ne=ee.replace:ne=_2(H.response.headers.get("Location"),new URL(k.url),l)===g.location.pathname+g.location.search,await tt(k,H,{submission:F,replace:ne}),{shortCircuited:!0}}if(Xs(H))throw sn(400,{type:"defer-action"});if(In(H)){let ne=fa(U,oe.route.id);return(ee&&ee.replace)!==!0&&(I=ft.Push),{matches:U,pendingActionResult:[ne.route.id,H]}}return{matches:U,pendingActionResult:[oe.route.id,H]}}async function pl(k,O,F,U,Y,ee,se,H,oe,ne,he){let Ae=Y||Qg(O,ee),Se=ee||se||R2(Ae),ke=!Ce&&(!d.v7_partialHydration||!oe);if(U){if(ke){let je=ml(he);yt(Qe({navigation:Ae},je!==void 0?{actionData:je}:{}),{flushSync:ne})}let de=await Rs(F,O.pathname,k.signal);if(de.type==="aborted")return{shortCircuited:!0};if(de.type==="error"){let{boundaryId:je,error:Bt}=$n(O.pathname,de);return{matches:de.partialMatches,loaderData:{},errors:{[je]:Bt}}}else if(de.matches)F=de.matches;else{let{error:je,notFoundMatches:Bt,route:Ve}=Cs(O.pathname);return{matches:Bt,loaderData:{},errors:{[Ve.id]:je}}}}let Ie=a||o,[_t,Be]=g2(t.history,g,F,Se,O,d.v7_partialHydration&&oe===!0,d.v7_skipActionErrorRevalidation,qe,It,q,vt,Ut,xe,Ie,l,he);if(No(de=>!(F&&F.some(je=>je.route.id===de))||_t&&_t.some(je=>je.route.id===de)),Oe=++le,_t.length===0&&Be.length===0){let de=Zc();return Sr(O,Qe({matches:F,loaderData:{},errors:he&&In(he[1])?{[he[0]]:he[1].error}:null},S2(he),de?{fetchers:new Map(g.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(ke){let de={};if(!U){de.navigation=Ae;let je=ml(he);je!==void 0&&(de.actionData=je)}Be.length>0&&(de.fetchers=sm(Be)),yt(de,{flushSync:ne})}Be.forEach(de=>{X.has(de.key)&&Fn(de.key),de.controller&&X.set(de.key,de.controller)});let Pi=()=>Be.forEach(de=>Fn(de.key));x&&x.signal.addEventListener("abort",Pi);let{loaderResults:jn,fetcherResults:Un}=await Is(g.matches,F,_t,Be,k);if(k.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Pi),Be.forEach(de=>X.delete(de.key));let fn=P2([...jn,...Un]);if(fn){if(fn.idx>=_t.length){let de=Be[fn.idx-_t.length].key;xe.add(de)}return await tt(k,fn.result,{replace:H}),{shortCircuited:!0}}let{loaderData:Pr,errors:Bn}=E2(g,F,_t,jn,he,Be,Un,bt);bt.forEach((de,je)=>{de.subscribe(Bt=>{(Bt||de.done)&&bt.delete(je)})}),d.v7_partialHydration&&oe&&g.errors&&Object.entries(g.errors).filter(de=>{let[je]=de;return!_t.some(Bt=>Bt.route.id===je)}).forEach(de=>{let[je,Bt]=de;Bn=Object.assign(Bn||{},{[je]:Bt})});let xs=Zc(),ks=Oo(Oe),Os=xs||ks||Be.length>0;return Qe({matches:F,loaderData:Pr,errors:Bn},Os?{fetchers:new Map(g.fetchers)}:{})}function ml(k){if(k&&!In(k[1]))return{[k[0]]:k[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function sm(k){return k.forEach(O=>{let F=g.fetchers.get(O.key),U=Wl(void 0,F?F.data:void 0);g.fetchers.set(O.key,U)}),new Map(g.fetchers)}function gl(k,O,F,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");X.has(k)&&Fn(k);let Y=(U&&U.unstable_flushSync)===!0,ee=a||o,se=Jy(g.location,g.matches,l,d.v7_prependBasename,F,d.v7_relativeSplatPath,O,U==null?void 0:U.relative),H=zs(ee,se,l),oe=ht(H,ee,se);if(oe.active&&oe.matches&&(H=oe.matches),!H){tr(k,O,sn(404,{pathname:se}),{flushSync:Y});return}let{path:ne,submission:he,error:Ae}=m2(d.v7_normalizeFormMethod,!0,se,U);if(Ae){tr(k,O,Ae,{flushSync:Y});return}let Se=iu(H,ne);if(A=(U&&U.preventScrollReset)===!0,he&&ar(he.formMethod)){vl(k,O,ne,Se,H,oe.active,Y,he);return}Ut.set(k,{routeId:O,path:ne}),Yc(k,O,ne,Se,H,oe.active,Y,he)}async function vl(k,O,F,U,Y,ee,se,H){ko(),Ut.delete(k);function oe(Ve){if(!Ve.route.action&&!Ve.route.lazy){let nr=sn(405,{method:H.formMethod,pathname:F,routeId:O});return tr(k,O,nr,{flushSync:se}),!0}return!1}if(!ee&&oe(U))return;let ne=g.fetchers.get(k);er(k,Ine(H,ne),{flushSync:se});let he=new AbortController,Ae=Wo(t.history,F,he.signal,H);if(ee){let Ve=await Rs(Y,F,Ae.signal);if(Ve.type==="aborted")return;if(Ve.type==="error"){let{error:nr}=$n(F,Ve);tr(k,O,nr,{flushSync:se});return}else if(Ve.matches){if(Y=Ve.matches,U=iu(Y,F),oe(U))return}else{tr(k,O,sn(404,{pathname:F}),{flushSync:se});return}}X.set(k,he);let Se=le,Ie=(await it("action",Ae,[U],Y))[0];if(Ae.signal.aborted){X.get(k)===he&&X.delete(k);return}if(d.v7_fetcherPersist&&vt.has(k)){if(Js(Ie)||In(Ie)){er(k,Di(void 0));return}}else{if(Js(Ie))if(X.delete(k),Oe>Se){er(k,Di(void 0));return}else return xe.add(k),er(k,Wl(H)),tt(Ae,Ie,{fetcherSubmission:H});if(In(Ie)){tr(k,O,Ie.error);return}}if(Xs(Ie))throw sn(400,{type:"defer-action"});let _t=g.navigation.location||g.location,Be=Wo(t.history,_t,he.signal),Pi=a||o,jn=g.navigation.state!=="idle"?zs(Pi,g.navigation.location,l):g.matches;me(jn,"Didn't find any matches after fetcher action");let Un=++le;Ee.set(k,Un);let fn=Wl(H,Ie.data);g.fetchers.set(k,fn);let[Pr,Bn]=g2(t.history,g,jn,H,_t,!1,d.v7_skipActionErrorRevalidation,qe,It,q,vt,Ut,xe,Pi,l,[U.route.id,Ie]);Bn.filter(Ve=>Ve.key!==k).forEach(Ve=>{let nr=Ve.key,th=g.fetchers.get(nr),nh=Wl(void 0,th?th.data:void 0);g.fetchers.set(nr,nh),X.has(nr)&&Fn(nr),Ve.controller&&X.set(nr,Ve.controller)}),yt({fetchers:new Map(g.fetchers)});let xs=()=>Bn.forEach(Ve=>Fn(Ve.key));he.signal.addEventListener("abort",xs);let{loaderResults:ks,fetcherResults:Os}=await Is(g.matches,jn,Pr,Bn,Be);if(he.signal.aborted)return;he.signal.removeEventListener("abort",xs),Ee.delete(k),X.delete(k),Bn.forEach(Ve=>X.delete(Ve.key));let de=P2([...ks,...Os]);if(de){if(de.idx>=Pr.length){let Ve=Bn[de.idx-Pr.length].key;xe.add(Ve)}return tt(Be,de.result)}let{loaderData:je,errors:Bt}=E2(g,g.matches,Pr,ks,void 0,Bn,Os,bt);if(g.fetchers.has(k)){let Ve=Di(Ie.data);g.fetchers.set(k,Ve)}Oo(Un),g.navigation.state==="loading"&&Un>Oe?(me(I,"Expected pending action"),x&&x.abort(),Sr(g.navigation.location,{matches:jn,loaderData:je,errors:Bt,fetchers:new Map(g.fetchers)})):(yt({errors:Bt,loaderData:T2(g.loaderData,je,jn,Bt),fetchers:new Map(g.fetchers)}),qe=!1)}async function Yc(k,O,F,U,Y,ee,se,H){let oe=g.fetchers.get(k);er(k,Wl(H,oe?oe.data:void 0),{flushSync:se});let ne=new AbortController,he=Wo(t.history,F,ne.signal);if(ee){let Ie=await Rs(Y,F,he.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:_t}=$n(F,Ie);tr(k,O,_t,{flushSync:se});return}else if(Ie.matches)Y=Ie.matches,U=iu(Y,F);else{tr(k,O,sn(404,{pathname:F}),{flushSync:se});return}}X.set(k,ne);let Ae=le,ke=(await it("loader",he,[U],Y))[0];if(Xs(ke)&&(ke=await ND(ke,he.signal,!0)||ke),X.get(k)===ne&&X.delete(k),!he.signal.aborted){if(vt.has(k)){er(k,Di(void 0));return}if(Js(ke))if(Oe>Ae){er(k,Di(void 0));return}else{xe.add(k),await tt(he,ke);return}if(In(ke)){tr(k,O,ke.error);return}me(!Xs(ke),"Unhandled fetcher deferred data"),er(k,Di(ke.data))}}async function tt(k,O,F){let{submission:U,fetcherSubmission:Y,replace:ee}=F===void 0?{}:F;O.response.headers.has("X-Remix-Revalidate")&&(qe=!0);let se=O.response.headers.get("Location");me(se,"Expected a Location header on the redirect Response"),se=_2(se,new URL(k.url),l);let H=uc(g.location,se,{_isRedirect:!0});if(n){let ke=!1;if(O.response.headers.has("X-Remix-Reload-Document"))ke=!0;else if(nw.test(se)){const Ie=t.history.createURL(se);ke=Ie.origin!==e.location.origin||qc(Ie.pathname,l)==null}if(ke){ee?e.location.replace(se):e.location.assign(se);return}}x=null;let oe=ee===!0||O.response.headers.has("X-Remix-Replace")?ft.Replace:ft.Push,{formMethod:ne,formAction:he,formEncType:Ae}=g.navigation;!U&&!Y&&ne&&he&&Ae&&(U=R2(g.navigation));let Se=U||Y;if(ine.has(O.response.status)&&Se&&ar(Se.formMethod))await Br(oe,H,{submission:Qe({},Se,{formAction:se}),preventScrollReset:A});else{let ke=Qg(H,U);await Br(oe,H,{overrideNavigation:ke,fetcherSubmission:Y,preventScrollReset:A})}}async function it(k,O,F,U){try{let Y=await fne(c,k,O,F,U,s,i);return await Promise.all(Y.map((ee,se)=>{if(wne(ee)){let H=ee.result;return{type:Le.redirect,response:gne(H,O,F[se].route.id,U,l,d.v7_relativeSplatPath)}}return mne(ee)}))}catch(Y){return F.map(()=>({type:Le.error,error:Y}))}}async function Is(k,O,F,U,Y){let[ee,...se]=await Promise.all([F.length?it("loader",Y,F,O):[],...U.map(H=>{if(H.matches&&H.match&&H.controller){let oe=Wo(t.history,H.path,H.controller.signal);return it("loader",oe,[H.match],H.matches).then(ne=>ne[0])}else return Promise.resolve({type:Le.error,error:sn(404,{pathname:H.path})})})]);return await Promise.all([A2(k,F,ee,ee.map(()=>Y.signal),!1,g.loaderData),A2(k,U.map(H=>H.match),se,U.map(H=>H.controller?H.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:se}}function ko(){qe=!0,It.push(...No()),Ut.forEach((k,O)=>{X.has(O)&&(q.add(O),Fn(O))})}function er(k,O,F){F===void 0&&(F={}),g.fetchers.set(k,O),yt({fetchers:new Map(g.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function tr(k,O,F,U){U===void 0&&(U={});let Y=fa(g.matches,O);Ps(k),yt({errors:{[Y.route.id]:F},fetchers:new Map(g.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Si(k){return d.v7_fetcherPersist&&(rn.set(k,(rn.get(k)||0)+1),vt.has(k)&&vt.delete(k)),g.fetchers.get(k)||sne}function Ps(k){let O=g.fetchers.get(k);X.has(k)&&!(O&&O.state==="loading"&&Ee.has(k))&&Fn(k),Ut.delete(k),Ee.delete(k),xe.delete(k),vt.delete(k),q.delete(k),g.fetchers.delete(k)}function Xc(k){if(d.v7_fetcherPersist){let O=(rn.get(k)||0)-1;O<=0?(rn.delete(k),vt.add(k)):rn.set(k,O)}else Ps(k);yt({fetchers:new Map(g.fetchers)})}function Fn(k){let O=X.get(k);me(O,"Expected fetch controller: "+k),O.abort(),X.delete(k)}function Jc(k){for(let O of k){let F=Si(O),U=Di(F.data);g.fetchers.set(O,U)}}function Zc(){let k=[],O=!1;for(let F of xe){let U=g.fetchers.get(F);me(U,"Expected fetcher: "+F),U.state==="loading"&&(xe.delete(F),k.push(F),O=!0)}return Jc(k),O}function Oo(k){let O=[];for(let[F,U]of Ee)if(U<k){let Y=g.fetchers.get(F);me(Y,"Expected fetcher: "+F),Y.state==="loading"&&(Fn(F),Ee.delete(F),O.push(F))}return Jc(O),O.length>0}function eh(k,O){let F=g.blockers.get(k)||zl;return Ur.get(k)!==O&&Ur.set(k,O),F}function yl(k){g.blockers.delete(k),Ur.delete(k)}function Ir(k,O){let F=g.blockers.get(k)||zl;me(F.state==="unblocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="proceeding"||F.state==="blocked"&&O.state==="unblocked"||F.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+O.state);let U=new Map(g.blockers);U.set(k,O),yt({blockers:U})}function Do(k){let{currentLocation:O,nextLocation:F,historyAction:U}=k;if(Ur.size===0)return;Ur.size>1&&Qa(!1,"A router only supports one blocker at a time");let Y=Array.from(Ur.entries()),[ee,se]=Y[Y.length-1],H=g.blockers.get(ee);if(!(H&&H.state==="proceeding")&&se({currentLocation:O,nextLocation:F,historyAction:U}))return ee}function Cs(k){let O=sn(404,{pathname:k}),F=a||o,{matches:U,route:Y}=I2(F);return No(),{notFoundMatches:U,route:Y,error:O}}function $n(k,O){return{boundaryId:fa(O.partialMatches).route.id,error:sn(400,{type:"route-discovery",pathname:k,message:O.error!=null&&"message"in O.error?O.error:String(O.error)})}}function No(k){let O=[];return bt.forEach((F,U)=>{(!k||k(U))&&(F.cancel(),O.push(U),bt.delete(U))}),O}function Mo(k,O,F){if(P=k,y=O,_=F||null,!E&&g.navigation===qg){E=!0;let U=wl(g.location,g.matches);U!=null&&yt({restoreScrollPosition:U})}return()=>{P=null,y=null,_=null}}function _l(k,O){return _&&_(k,O.map(U=>Lte(U,g.loaderData)))||k.key}function As(k,O){if(P&&y){let F=_l(k,O);P[F]=y()}}function wl(k,O){if(P){let F=_l(k,O),U=P[F];if(typeof U=="number")return U}return null}function ht(k,O,F){if(h){if(T.has(F))return{active:!1,matches:k};if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:Ed(O,F,l,!0)}}else return{active:!0,matches:Ed(O,F,l,!0)||[]}}return{active:!1,matches:null}}async function Rs(k,O,F){let U=k;for(;;){let Y=a==null,ee=a||o;try{await hne(h,O,U,ee,s,i,rm,F)}catch(oe){return{type:"error",error:oe,partialMatches:U}}finally{Y&&(o=[...o])}if(F.aborted)return{type:"aborted"};let se=zs(ee,O,l);if(se)return Ii(O,T),{type:"success",matches:se};let H=Ed(ee,O,l,!0);if(!H||U.length===H.length&&U.every((oe,ne)=>oe.route.id===H[ne].route.id))return Ii(O,T),{type:"success",matches:null};U=H}}function Ii(k,O){if(O.size>=w){let F=O.values().next().value;O.delete(F)}O.add(k)}function bs(k){s={},a=cc(k,i,void 0,s)}function om(k,O){let F=a==null;kD(k,O,a||o,s,i),F&&(o=[...o],yt({}))}return C={get basename(){return l},get future(){return d},get state(){return g},get routes(){return o},get window(){return e},initialize:xo,subscribe:dl,enableScrollRestoration:Mo,navigate:fl,fetch:gl,revalidate:im,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Si,deleteFetcher:Xc,dispose:hl,getBlocker:eh,deleteBlocker:yl,patchRoutes:om,_internalFetchControllers:X,_internalActiveDeferreds:bt,_internalSetRoutes:bs},C}function lne(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Jy(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let h=AD(i||".",CD(l,s),qc(t.pathname,n)||t.pathname,a==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!rw(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:ns([n,h.pathname])),Gc(h)}function m2(t,e,n,r){if(!r||!lne(r))return{path:n};if(r.formMethod&&!Tne(r.formMethod))return{path:n,error:sn(405,{method:r.formMethod})};let i=()=>({path:n,error:sn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=OD(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ar(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,w)=>{let[T,P]=w;return""+m+T+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ar(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}me(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Zy(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Zy(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=w2(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=w2(l)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ar(h.formMethod))return{path:n,submission:h};let d=Ts(n);return e&&d.search&&rw(d.search)&&l.append("index",""),d.search="?"+l,{path:Gc(d),submission:h}}function une(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function g2(t,e,n,r,i,s,o,a,l,c,h,d,f,m,w,T){let P=T?In(T[1])?T[1].error:T[1].data:void 0,_=t.createURL(e.location),y=t.createURL(i),E=T&&In(T[1])?T[0]:void 0,b=E?une(n,E):n,L=T?T[1].statusCode:void 0,j=o&&L&&L>=400,C=b.filter((I,A)=>{let{route:x}=I;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return typeof x.loader!="function"||x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(cne(e.loaderData,e.matches[A],I)||l.some(_e=>_e===I.route.id))return!0;let D=e.matches[A],R=I;return v2(I,Qe({currentUrl:_,currentParams:D.params,nextUrl:y,nextParams:R.params},r,{actionResult:P,actionStatus:L,defaultShouldRevalidate:j?!1:a||_.pathname+_.search===y.pathname+y.search||_.search!==y.search||xD(D,R)}))}),g=[];return d.forEach((I,A)=>{if(s||!n.some(Ce=>Ce.route.id===I.routeId)||h.has(A))return;let x=zs(m,I.path,w);if(!x){g.push({key:A,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(A),R=iu(x,I.path),_e=!1;f.has(A)?_e=!1:c.has(A)?(c.delete(A),_e=!0):D&&D.state!=="idle"&&D.data===void 0?_e=a:_e=v2(R,Qe({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:L,defaultShouldRevalidate:j?!1:a})),_e&&g.push({key:A,routeId:I.routeId,path:I.path,matches:x,match:R,controller:new AbortController})}),[C,g]}function cne(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function xD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function v2(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function hne(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(h,d)=>{a.aborted||kD(h,d,r,i,s)}}),o.set(l,c)),c&&_ne(c)&&await c}finally{o.delete(l)}}function kD(t,e,n,r,i){if(t){var s;let o=r[t];me(o,"No route found to patch children into: routeId = "+t);let a=cc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=cc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function y2(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];me(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Qa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Nte.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Qe({},e(i),{lazy:void 0}))}function dne(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function fne(t,e,n,r,i,s,o,a){let l=r.reduce((d,f)=>d.add(f.route.id),new Set),c=new Set,h=await t({matches:i.map(d=>{let f=l.has(d.route.id);return Qe({},d,{shouldLoad:f,resolve:w=>(c.add(d.route.id),f?pne(e,n,d,s,o,w,a):Promise.resolve({type:Le.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(d=>me(c.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((d,f)=>l.has(i[f].route.id))}async function pne(t,e,n,r,i,s,o){let a,l,c=h=>{let d,f=new Promise((T,P)=>d=P);l=()=>d(),e.signal.addEventListener("abort",l);let m=T=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...T!==void 0?[T]:[]),w;return s?w=s(T=>m(T)):w=(async()=>{try{return{type:"data",result:await m()}}catch(T){return{type:"error",result:T}}})(),Promise.race([w,f])};try{let h=n.route[t];if(n.route.lazy)if(h){let d,[f]=await Promise.all([c(h).catch(m=>{d=m}),y2(n.route,i,r)]);if(d!==void 0)throw d;a=f}else if(await y2(n.route,i,r),h=n.route[t],h)a=await c(h);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw sn(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Le.data,result:void 0};else if(h)a=await c(h);else{let d=new URL(e.url),f=d.pathname+d.search;throw sn(404,{pathname:f})}me(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Le.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function mne(t){let{result:e,type:n}=t;if(DD(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:Le.error,error:h}}return n===Le.error?{type:Le.error,error:new bf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Le.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Le.error){if(C2(e)){var r;if(e.data instanceof Error){var i;return{type:Le.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new bf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Le.error,error:e,statusCode:Jp(e)?e.status:void 0}}if(Ene(e)){var s,o;return{type:Le.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(C2(e)){var a,l;return{type:Le.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Le.data,data:e}}function gne(t,e,n,r,i,s){let o=t.headers.get("Location");if(me(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!nw.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Jy(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function _2(t,e,n){if(nw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=qc(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Wo(t,e,n,r){let i=t.createURL(OD(e)).toString(),s={signal:n};if(r&&ar(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Zy(r.formData):s.body=r.formData}return new Request(i,s)}function Zy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function w2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function vne(t,e,n,r,i,s){let o={},a=null,l,c=!1,h={},d=r&&In(r[1])?r[1].error:void 0;return n.forEach((f,m)=>{let w=e[m].route.id;if(me(!Js(f),"Cannot handle redirect results in processLoaderData"),In(f)){let T=f.error;d!==void 0&&(T=d,d=void 0),a=a||{};{let P=fa(t,w);a[P.route.id]==null&&(a[P.route.id]=T)}o[w]=void 0,c||(c=!0,l=Jp(f.error)?f.error.status:500),f.headers&&(h[w]=f.headers)}else Xs(f)?(i.set(w,f.deferredData),o[w]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[w]=f.headers)):(o[w]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[w]=f.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function E2(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=vne(e,n,r,i,a);for(let h=0;h<s.length;h++){let{key:d,match:f,controller:m}=s[h];me(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let w=o[h];if(!(m&&m.signal.aborted))if(In(w)){let T=fa(t.matches,f==null?void 0:f.route.id);c&&c[T.route.id]||(c=Qe({},c,{[T.route.id]:w.error})),t.fetchers.delete(d)}else if(Js(w))me(!1,"Unhandled fetcher revalidation redirect");else if(Xs(w))me(!1,"Unhandled fetcher deferred data");else{let T=Di(w.data);t.fetchers.set(d,T)}}return{loaderData:l,errors:c}}function T2(t,e,n,r){let i=Qe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function S2(t){return t?In(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function fa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function I2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function sn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new bf(t||500,a,new Error(l),!0)}function P2(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Js(n))return{result:n,idx:e}}}function OD(t){let e=typeof t=="string"?Ts(t):t;return Gc(Qe({},e,{hash:""}))}function yne(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _ne(t){return typeof t=="object"&&t!=null&&"then"in t}function wne(t){return DD(t.result)&&rne.has(t.result.status)}function Xs(t){return t.type===Le.deferred}function In(t){return t.type===Le.error}function Js(t){return(t&&t.type)===Le.redirect}function C2(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Ene(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function DD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Tne(t){return nne.has(t.toLowerCase())}function ar(t){return ene.has(t.toLowerCase())}async function A2(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(d=>d.route.id===l.route.id),h=c!=null&&!xD(c,l)&&(s&&s[l.route.id])!==void 0;if(Xs(a)&&(i||h)){let d=r[o];me(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await ND(a,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function ND(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Le.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Le.error,error:i}}return{type:Le.data,data:t.deferredData.data}}}function rw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function iu(t,e){let n=typeof e=="string"?Ts(e).search:e.search;if(t[t.length-1].route.index&&rw(n||""))return t[t.length-1];let r=PD(t);return r[r.length-1]}function R2(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Qg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Sne(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ine(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Di(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Pne(t,e){try{let n=t.sessionStorage.getItem(bD);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Cne(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(bD,JSON.stringify(n))}catch(r){Qa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(this,arguments)}const Zp=V.createContext(null),MD=V.createContext(null),em=V.createContext(null),iw=V.createContext(null),Ss=V.createContext({outlet:null,matches:[],isDataRoute:!1}),LD=V.createContext(null);function tm(){return V.useContext(iw)!=null}function VD(){return tm()||me(!1),V.useContext(iw).location}function FD(t){V.useContext(em).static||V.useLayoutEffect(t)}function $D(){let{isDataRoute:t}=V.useContext(Ss);return t?Une():Ane()}function Ane(){tm()||me(!1);let t=V.useContext(Zp),{basename:e,future:n,navigator:r}=V.useContext(em),{matches:i}=V.useContext(Ss),{pathname:s}=VD(),o=JSON.stringify(CD(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return FD(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=AD(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ns([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}const Rne=V.createContext(null);function bne(t){let e=V.useContext(Ss).outlet;return e&&V.createElement(Rne.Provider,{value:t},e)}function xne(){let{matches:t}=V.useContext(Ss),e=t[t.length-1];return e?e.params:{}}function kne(t,e,n,r){tm()||me(!1);let{navigator:i}=V.useContext(em),{matches:s}=V.useContext(Ss),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=VD(),h;h=c;let d=h.pathname||"/",f=d;if(l!=="/"){let T=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(T.length).join("/")}let m=zs(t,{pathname:f});return Lne(m&&m.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ns([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:ns([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r)}function One(){let t=jne(),e=Jp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const Dne=V.createElement(One,null);class Nne extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Ss.Provider,{value:this.props.routeContext},V.createElement(LD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mne(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Zp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Ss.Provider,{value:e},r)}function Lne(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||me(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:m}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,w=!1,T=null,P=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,T=d.route.errorElement||Dne,l&&(c<0&&f===0?(w=!0,P=null):c===f&&(w=!0,P=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),y=()=>{let E;return m?E=T:w?E=P:d.route.Component?E=V.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,V.createElement(Mne,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?V.createElement(Nne,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var jD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jD||{}),kf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kf||{});function Vne(t){let e=V.useContext(Zp);return e||me(!1),e}function Fne(t){let e=V.useContext(MD);return e||me(!1),e}function $ne(t){let e=V.useContext(Ss);return e||me(!1),e}function UD(t){let e=$ne(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function jne(){var t;let e=V.useContext(LD),n=Fne(kf.UseRouteError),r=UD(kf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Une(){let{router:t}=Vne(jD.UseNavigateStable),e=UD(kf.UseNavigateStable),n=V.useRef(!1);return FD(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xf({fromRouteId:e},s)))},[t,e])}function Bne(t){return bne(t.context)}function zne(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ft.Pop,navigator:s,static:o=!1,future:a}=t;tm()&&me(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:o,future:xf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ts(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:w="default"}=r,T=V.useMemo(()=>{let P=qc(h,l);return P==null?null:{location:{pathname:P,search:d,hash:f,state:m,key:w},navigationType:i}},[l,h,d,f,m,w,i]);return T==null?null:V.createElement(em.Provider,{value:c},V.createElement(iw.Provider,{children:n,value:T}))}new Promise(()=>{});function Wne(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:V.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:V.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:V.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}const Hne="6";try{window.__reactRouterVersion=Hne}catch{}function Kne(t,e){return ane({basename:void 0,future:Of({},void 0,{v7_prependBasename:!0}),history:kte({window:void 0}),hydrationData:Gne(),routes:t,mapRouteProperties:Wne,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Gne(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Of({},e,{errors:qne(e.errors)})),e}function qne(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new bf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Qne=V.createContext({isTransitioning:!1}),Yne=V.createContext(new Map),Xne="startTransition",b2=Yg[Xne],Jne="flushSync",x2=jL[Jne];function Zne(t){b2?b2(t):t()}function Hl(t){x2?x2(t):t()}class ere{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function tre(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=V.useState(n.state),[o,a]=V.useState(),[l,c]=V.useState({isTransitioning:!1}),[h,d]=V.useState(),[f,m]=V.useState(),[w,T]=V.useState(),P=V.useRef(new Map),{v7_startTransition:_}=r||{},y=V.useCallback(g=>{_?Zne(g):g()},[_]),E=V.useCallback((g,I)=>{let{deletedFetchers:A,unstable_flushSync:x,unstable_viewTransitionOpts:D}=I;A.forEach(_e=>P.current.delete(_e)),g.fetchers.forEach((_e,Ce)=>{_e.data!==void 0&&P.current.set(Ce,_e.data)});let R=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||R){x?Hl(()=>s(g)):y(()=>s(g));return}if(x){Hl(()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let _e=n.window.document.startViewTransition(()=>{Hl(()=>s(g))});_e.finished.finally(()=>{Hl(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),Hl(()=>m(_e));return}f?(h&&h.resolve(),f.skipTransition(),T({state:g,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(g),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,h,P,y]);V.useLayoutEffect(()=>n.subscribe(E),[n,E]),V.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new ere)},[l]),V.useEffect(()=>{if(h&&o&&n.window){let g=o,I=h.promise,A=n.window.document.startViewTransition(async()=>{y(()=>s(g)),await I});A.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(A)}},[y,o,h,n.window]),V.useEffect(()=>{h&&o&&i.location.key===o.location.key&&h.resolve()},[h,f,i.location,o]),V.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),T(void 0))},[l.isTransitioning,w]),V.useEffect(()=>{},[]);let b=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,I,A)=>n.navigate(g,{state:I,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(g,I,A)=>n.navigate(g,{replace:!0,state:I,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),L=n.basename||"/",j=V.useMemo(()=>({router:n,navigator:b,static:!1,basename:L}),[n,b,L]),C=V.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return V.createElement(V.Fragment,null,V.createElement(Zp.Provider,{value:j},V.createElement(MD.Provider,{value:i},V.createElement(Yne.Provider,{value:P.current},V.createElement(Qne.Provider,{value:l},V.createElement(zne,{basename:L,location:i.location,navigationType:i.historyAction,navigator:b,future:C},i.initialized||n.future.v7_partialHydration?V.createElement(nre,{routes:n.routes,future:n.future,state:i}):e))))),null)}const nre=V.memo(rre);function rre(t){let{routes:e,future:n,state:r}=t;return kne(e,void 0,r,n)}var k2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k2||(k2={}));var O2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(O2||(O2={}));function ire(t){return Me({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function sre(t){return Me({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function ore(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.75 6.5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"},child:[]},{tag:"path",attr:{d:"M2.5 1h8.44a1.5 1.5 0 0 1 1.06.44l10.25 10.25a1.5 1.5 0 0 1 0 2.12l-8.44 8.44a1.5 1.5 0 0 1-2.12 0L1.44 12A1.497 1.497 0 0 1 1 10.94V2.5A1.5 1.5 0 0 1 2.5 1Zm0 1.5v8.44l10.25 10.25 8.44-8.44L10.94 2.5Z"},child:[]}]})(t)}function are(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function BD(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"},child:[]}]})(t)}function zD(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(t)}function WD(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(t)}function HD(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"},child:[]}]})(t)}function lre(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45A10.02 10.02 0 0 0 12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"},child:[]}]})(t)}function KD(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z"},child:[]}]})(t)}function ure(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 8.98V18c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2l.01-12c0-1.1.89-2 1.99-2h10.1c-.06.32-.1.66-.1 1s.04.68.1 1H4l8 5 3.67-2.29c.47.43 1.02.76 1.63.98L12 13 4 8v10h16V9.9c.74-.15 1.42-.48 2-.92zM16 5c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"},child:[]}]})(t)}function cre(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zm-2 0v.01L12 13 4 8l8-4.68L19.99 8zM4 18v-7.66l8 5.02 7.99-4.99L20 18H4z"},child:[]}]})(t)}function hre(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1v5.8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"16",r:"1"},child:[]},{tag:"path",attr:{d:"M11 7h2v7h-2z"},child:[]}]})(t)}function dre(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l1.41 1.41.59.59H20v10zm-7.84-6H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9l-1.41 1.41L12.16 12z"},child:[]}]})(t)}function fre(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function pre(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0006 18.26L4.94715 22.2082L6.52248 14.2799L0.587891 8.7918L8.61493 7.84006L12.0006 0.5L15.3862 7.84006L23.4132 8.7918L17.4787 14.2799L19.054 22.2082L12.0006 18.26ZM12.0006 15.968L16.2473 18.3451L15.2988 13.5717L18.8719 10.2674L14.039 9.69434L12.0006 5.27502L9.96214 9.69434L5.12921 10.2674L8.70231 13.5717L7.75383 18.3451L12.0006 15.968Z"},child:[]}]})(t)}const mre=({email:t})=>{var i;const e=$D(),n=nl(),r=()=>{n(WB(t)),e(`/mail/${t.id}`)};return M.jsxs(e_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:r,className:"flex items-start justify-between border-b border-gray-200 px-4 py-3 text-sm hover:cursor-pointer hover:shadow-md",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"flex-none text-gray-300",children:M.jsx(HD,{className:"w-5 h-5"})}),M.jsx("div",{children:M.jsx("h1",{className:"font-semibold",children:t==null?void 0:t.to})}),M.jsx("div",{className:"flex-none text-gray-300",children:M.jsx(pre,{className:"h-5 w-5"})}),M.jsx("div",{className:"felx-1 ml-4",children:M.jsx("p",{className:"text-gray-600 truncate inline-block max-w-full",children:t==null?void 0:t.message})})]}),M.jsx("div",{className:"flex-none text-gray-400 text-sm",children:M.jsx("p",{children:new Date(((i=t==null?void 0:t.createAt)==null?void 0:i.seconds)*1e3).toUTCString()})})]})},gre=()=>{const{searchText:t,emails:e}=Oc(s=>s.appSlice),[n,r]=V.useState(e),i=nl();return V.useEffect(()=>{const s=vte(sD(tw,"emails"),yte("createAt","desc")),o=Pte(s,a=>{const l=a.docs.map(c=>({...c.data(),id:c.id}));i(zB(l))});return()=>o()},[]),V.useEffect(()=>{const s=e==null?void 0:e.filter(o=>{var a,l,c;return((a=o==null?void 0:o.subject)==null?void 0:a.toLowerCase().includes(t.toLowerCase()))||((l=o==null?void 0:o.to)==null?void 0:l.toLowerCase().includes(t.toLowerCase()))||((c=o==null?void 0:o.message)==null?void 0:c.toLowerCase().includes(t.toLowerCase()))});r(s)},[t,e]),M.jsx("div",{className:"",children:n&&(n==null?void 0:n.map(s=>M.jsx(mre,{email:s})))})},vre=[{icon:M.jsx(BD,{size:"20px"}),text:"Primary"},{icon:M.jsx(ore,{size:"20px"}),text:"Promotions"},{icon:M.jsx(sre,{size:"20px"}),text:"Social"}],yre=()=>{const[t,e]=V.useState(0);return M.jsxs("div",{className:"flex-1 bg-white rounded-xl mx-4",children:[M.jsxs("div",{className:"flex items-center justify-between px-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-gray-700 py-2",children:[M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsx(HD,{size:"20px"}),M.jsx(ire,{size:"20px"})]}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(kU,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(Hb,{size:"20px"})})]}),M.jsxs("div",{className:"flex items-center gap-2 ",children:[M.jsx("p",{className:"text-sm text-gray-500 ",children:"1-50 of 1000"}),M.jsxs("button",{className:"hover:rounded-full hover:bg-gray-100",children:[M.jsx(zD,{size:"24px"})," "]}),M.jsxs("button",{className:"hover:rounded-full hover:bg-gray-100",children:[M.jsx(WD,{size:"24px"})," "]})]})]}),M.jsxs("div",{className:"h-[90vh] overflow-y-auto",children:[M.jsx("div",{className:"flex items-center gap-1",children:vre.map((n,r)=>M.jsxs("button",{className:`${t===r?"border-b-4 border-b-blue-600":"border-b-4 border-b-transparent"} flex items-center gap-5 p-4 w-52 hover:bg-gray-100`,onClick:()=>e(r),children:[n.icon,M.jsx("span",{children:n.text})]},r))}),M.jsx(gre,{})]})]})};function _re(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.706 5.292-2.999-2.999A.996.996 0 0 0 18 2H6a.996.996 0 0 0-.707.293L2.294 5.292A.994.994 0 0 0 2 6v13c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6a.994.994 0 0 0-.294-.708zM6.414 4h11.172l1 1H5.414l1-1zM4 19V7h16l.002 12H4z"},child:[]},{tag:"path",attr:{d:"M14 9h-4v3H7l5 5 5-5h-3z"},child:[]}]})(t)}const wre=()=>{var i;const t=$D(),{selectedEmail:e}=Oc(s=>s.appSlice),n=xne(),r=async s=>{try{await Ste(oD(tw,"emails",s)),t("/")}catch(o){console.log(o)}};return M.jsxs(e_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 bg-white rounded-xl mx-5",children:[M.jsxs("div",{className:"flex items-center justify-between px-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-gray-700 py-2",children:[M.jsx("div",{onClick:()=>t("/"),className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(xU,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(_re,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(hre,{size:"20px"})}),M.jsx("div",{onClick:()=>r(n.id),className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(are,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(ure,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(KD,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(lre,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(dre,{size:"20px"})}),M.jsx("div",{className:"p-2 rounded-full hover:bg-gray-100 cursor-pointer",children:M.jsx(Hb,{size:"20px"})})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("button",{className:"hover:rounded-full hover:bg-gray-100",children:[M.jsx(zD,{size:"24px"})," "]}),M.jsxs("button",{className:"hover:rounded-full hover:bg-gray-100",children:[M.jsx(WD,{size:"24px"})," "]})]})]}),M.jsxs("div",{className:"h-[90vh] overflow-y-auto p-4",children:[M.jsxs("div",{className:"flex items-center justify-between bg-white gap-1",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("h1",{className:"text-xl font-medium",children:e==null?void 0:e.subject}),M.jsx("span",{className:"text-sm bg-gray-200 rounded-md px-2",children:"Inbox"})]}),M.jsx("div",{className:"flex-none text-gray-400 my-5 text-sm",children:M.jsx("p",{children:new Date(((i=e==null?void 0:e.createAt)==null?void 0:i.seconds)*1e3).toUTCString()})})]}),M.jsxs("div",{className:"text-gray-500 text-sm",children:[M.jsx("h1",{children:e==null?void 0:e.to}),M.jsx("span",{children:"to me"})]}),M.jsx("div",{className:"my-10",children:M.jsx("p",{children:e==null?void 0:e.message})})]})]})};function Ere(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"},child:[]},{tag:"path",attr:{d:"m15 5 4 4"},child:[]}]})(t)}function Tre(t){return Me({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4.698 4.034l16.302 7.966l-16.302 7.966a.503 .503 0 0 1 -.546 -.124a.555 .555 0 0 1 -.12 -.568l2.468 -7.274l-2.468 -7.274a.555 .555 0 0 1 .12 -.568a.503 .503 0 0 1 .546 -.124z"},child:[]},{tag:"path",attr:{d:"M6.5 12h14.5"},child:[]}]})(t)}const Sre=[{icon:M.jsx(BD,{size:"20px"}),text:"Inbox"},{icon:M.jsx(OU,{size:"20px"}),text:"Starred"},{icon:M.jsx(KD,{size:"20px"}),text:"Snoozed"},{icon:M.jsx(Tre,{size:"20px"}),text:"Sent"},{icon:M.jsx(cre,{size:"20px"}),text:"Drafts"}],Ire=()=>{const[t,e]=V.useState(0),n=nl();return M.jsxs("div",{className:"w-[15%]",children:[M.jsx("div",{className:"p-3",children:M.jsxs("button",{onClick:()=>n(fy(!0)),className:"flex items-center gap-2 bg-[#C2E7FF] p-4 rounded-2xl hover:shadow-md",children:[M.jsx(Ere,{size:"24px"}),"Compose"]})}),M.jsxs("div",{className:"text-gray-500",children:[Sre.map((r,i)=>M.jsxs("div",{onClick:()=>e(i),className:`${t===i?"bg-[#C2E7FF] text-black":"hover:bg-gray-200 hover:text-black"} flex pl-6 py-1 rounded-r-full items-center gap-4 my-2  hover:cursor-pointer`,children:[r.icon,M.jsx("p",{children:r.text})]},i)),M.jsxs("div",{className:"flex items-center pl-6 gap-4 cursor-pointer hover:bg-gray-200 rounded-r-full py-1",children:[M.jsx(fre,{size:"20px"}),M.jsx("span",{children:"More"})]})]}),M.jsx("div",{})]})},Pre=()=>M.jsxs("div",{className:"flex",children:[M.jsx(Ire,{}),M.jsx(Bne,{})]}),Cre=()=>{const[t,e]=V.useState({to:"",subject:"",message:""}),n=Oc(o=>o.appSlice.open),r=nl(),i=o=>{e({...t,[o.target.name]:o.target.value})},s=async o=>{o.preventDefault(),await Ite(sD(tw,"emails"),{to:t.to,subject:t.subject,message:t.message,createAt:Ate()}),r(fy(!1)),e({to:"",subject:"",message:""})};return M.jsxs("div",{className:` ${n?"block":"hidden"} bg-white max-w-6xl shadow-xl shadow-slate-600 rounded-t-md`,children:[M.jsxs("div",{className:"flex px-3 py-2 bg-[#F2F6Fc] justify-between rounded-t-md",children:[M.jsx("h1",{children:"New Message"}),M.jsx("div",{onClick:()=>r(fy(!1)),className:"p-2 rounded-full hover:bg-gray-200 cursor-pointer",children:M.jsx(NU,{size:"10px"})})]}),M.jsxs("form",{onSubmit:s,className:"flex flex-col p-3 gap-2",children:[M.jsx("input",{onChange:i,value:t.to,name:"to",type:"text",placeholder:"To",className:"outline-none py-1"}),M.jsx("input",{onChange:i,value:t.subject,name:"subject",type:"text",placeholder:"Subject",className:"outline-none py-1"}),M.jsx("textarea",{onChange:i,value:t.message,name:"message",cols:"30",rows:"10",className:"ouline-none py-1"}),M.jsx("button",{type:"submit",className:"bg-[#0B57d0] rounded-full w-fit px-4 text-white font-medium",children:"Send"})]})]})};var GD={},sw={},nm={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.svgStyle=Mt.lightStyle=Mt.iconStyle=Mt.hoverStyle=Mt.disabledStyle=Mt.disabledIconStyle=Mt.darkStyle=void 0;function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){Are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e,n){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=bre(t,"string");return hc(e)=="symbol"?e:e+""}function bre(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QD={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"};Mt.darkStyle=qD({backgroundColor:"#4285f4",color:"#fff"},QD);Mt.lightStyle=qD({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},QD);Mt.iconStyle={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};Mt.svgStyle={width:"48px",height:"48px",display:"block"};Mt.hoverStyle={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};Mt.disabledStyle={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};Mt.disabledIconStyle={backgroundColor:"transparent"};Object.defineProperty(nm,"__esModule",{value:!0});nm.GoogleIcon=void 0;var G=YD(V),N2=YD(c1),Pa=Mt;function YD(t){return t&&t.__esModule?t:{default:t}}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return e=kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Ore(t,"string");return dc(e)=="symbol"?e:e+""}function Ore(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dre=G.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:Pa.svgStyle},G.default.createElement("defs",null,G.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},G.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),G.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),G.default.createElement("feMerge",null,G.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),G.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),G.default.createElement("feMergeNode",{in:"SourceGraphic"}))),G.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),G.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),G.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},G.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),G.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},G.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},G.default.createElement("g",{id:"button-bg"},G.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}))),G.default.createElement("g",{id:"button-bg-copy"},G.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"})),G.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},G.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),G.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),G.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),G.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),G.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),G.default.createElement("g",{id:"handles_square"})))),Nre=G.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:Pa.svgStyle},G.default.createElement("defs",null,G.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},G.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),G.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),G.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),G.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),G.default.createElement("feMerge",null,G.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),G.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),G.default.createElement("feMergeNode",{in:"SourceGraphic"}))),G.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),G.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},G.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),G.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},G.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},G.default.createElement("g",{id:"button-bg"},G.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}))),G.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},G.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),G.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),G.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),G.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),G.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),G.default.createElement("g",{id:"handles_square"})))),Mre=G.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:Pa.svgStyle},G.default.createElement("defs",null,G.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),G.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},G.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),G.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},G.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},G.default.createElement("g",{id:"button-bg"},G.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}),G.default.createElement("use",{fill:"none"}))),G.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),G.default.createElement("g",{id:"handles_square"})))),Lre=nm.GoogleIcon=function(e){var n=e.disabled,r=e.type,i=r===void 0?"dark":r;return G.default.createElement("div",{style:n?L2(L2({},Pa.iconStyle),Pa.disabledIconStyle):Pa.iconStyle},n?Mre:i==="dark"?Dre:Nre)};Lre.propTypes={disabled:N2.default.bool,type:N2.default.oneOf(["light","dark"])};function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}Object.defineProperty(sw,"__esModule",{value:!0});sw.default=JD;var Gh=$re(V),Ho=Fre(c1),Vre=nm,qh=Mt;function Fre(t){return t&&t.__esModule?t:{default:t}}function XD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(XD=function(i){return i?n:e})(t)}function $re(t,e){if(t&&t.__esModule)return t;if(t===null||Ya(t)!="object"&&typeof t!="function")return{default:t};var n=XD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&{}.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jre(t,e,n){return e=Ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Bre(t,"string");return Ya(e)=="symbol"?e:e+""}function Bre(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zre(t,e){return Gre(t)||Kre(t,e)||Hre(t,e)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Gre(t){if(Array.isArray(t))return t}function JD(t){var e=t.label,n=e===void 0?"Sign in with Google":e,r=t.disabled,i=r===void 0?!1:r,s=t.tabIndex,o=s===void 0?0:s,a=t.onClick,l=a===void 0?function(){}:a,c=t.type,h=c===void 0?"dark":c,d=t.style,f=(0,Gh.useState)(!1),m=zre(f,2),w=m[0],T=m[1],P=function(){i||T(!0)},_=function(){i||T(!1)},y=function(){var L=h==="dark"?qh.darkStyle:qh.lightStyle;return ki(w?ki(ki({},L),qh.hoverStyle):i?ki(ki({},L),qh.disabledStyle):ki({},L),d)},E=function(L){i||l(L)};return Gh.default.createElement("div",{disabled:i,tabIndex:o,onClick:E,role:"button",style:y(),onMouseOver:P,onMouseOut:_},Gh.default.createElement(Vre.GoogleIcon,{disabled:i,type:h}),Gh.default.createElement("span",null,n))}JD.propTypes={label:Ho.default.string,disabled:Ho.default.bool,tabIndex:Ho.default.number,onClick:Ho.default.func,type:Ho.default.oneOf(["light","dark"]),style:Ho.default.object};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}});var e=n(sw);function n(r){return r&&r.__esModule?r:{default:r}}})(GD);const qre=lt(GD),Qre=()=>{const t=nl(),e=async()=>{try{const n=await nY(TD,bte);console.log(n),t(cx({displayName:n.user.displayName,email:n.user.email,photoURL:n.user.photoURL}))}catch(n){console.log(n)}};return M.jsx("div",{className:"w-screen h-screen flex justify-center items-center bg-gray-200",children:M.jsxs("div",{className:"p-8 bg-white flex flex-col gap-3 rounded-md",children:[M.jsx("h1",{className:"text-center text-xl font-medium mb-5",children:"LOGIN"}),M.jsx(qre,{onClick:e})]})})},Yre=Kne([{path:"/",element:M.jsx(Pre,{}),children:[{path:"/",element:M.jsx(yre,{})},{path:"/mail/:id",element:M.jsx(wre,{})}]}]);function Xre(){const{user:t}=Oc(e=>e.appSlice);return M.jsx("div",{className:"bg-[#F6F8FC] h-screen w-screen overflow-hidden",children:t?M.jsxs(M.Fragment,{children:[M.jsx(xte,{}),M.jsx(tre,{router:Yre}),M.jsx("div",{className:"absolute w-[30%] bottom-0 right-20 z-10",children:M.jsx(Cre,{})})]}):M.jsx(Qre,{})})}const Jre=xB({reducer:{appSlice:KB}});JA(document.getElementById("root")).render(M.jsxs(ve.StrictMode,{children:[" ",M.jsx(nB,{store:Jre,children:M.jsx(Xre,{})})]}));
